(function(a,b){function c(t){var a=Da[t]={};e.each(t.split(ba),function(t,b){a[b]=!0});return a}function d(t,a,l){if(l===b&&1===t.nodeType)if(l="data-"+a.replace(ka,"-$1").toLowerCase(),l=t.getAttribute(l),"string"===typeof l){try{l="true"===l?!0:"false"===l?!1:"null"===l?null:+l+""===l?+l:Ea.test(l)?e.parseJSON(l):l}catch(c){}e.data(t,a,l)}else l=b;return l}function f(t){for(var a in t)if(("data"!==a||!e.isEmptyObject(t[a]))&&"toJSON"!==a)return!1;return!0}function h(){return!1}function g(){return!0}
function m(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function p(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function z(a,b,l){b=b||0;if(e.isFunction(b))return e.grep(a,function(a,t){return!!b.call(a,t,a)===l});if(b.nodeType)return e.grep(a,function(a,t){return a===b===l});if("string"===typeof b){var c=e.grep(a,function(a){return 1===a.nodeType});if(Eb.test(b))return e.filter(b,c,!l);b=e.filter(b,c)}return e.grep(a,function(a,t){return 0<=e.inArray(a,b)===l})}function x(a){var b=
hb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function r(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function q(a,b){if(1===b.nodeType&&e.hasData(a)){var l,c,d;c=e._data(a);var v=e._data(b,c),f=c.events;if(f)for(l in delete v.handle,v.events={},f)for(c=0,d=f[l].length;c<d;c++)e.event.add(b,l,f[l][c]);v.data&&(v.data=e.extend({},v.data))}}function B(a,b){var l;1===b.nodeType&&(b.clearAttributes&&
b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),l=b.nodeName.toLowerCase(),"object"===l?(b.parentNode&&(b.outerHTML=a.outerHTML),e.support.html5Clone&&a.innerHTML&&!e.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===l&&ib.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===l?b.selected=a.defaultSelected:"input"===l||"textarea"===l?b.defaultValue=a.defaultValue:"script"===l&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(e.expando))}
function k(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function n(a){ib.test(a.type)&&(a.defaultChecked=a.checked)}function C(a,b){if(b in a)return b;for(var l=b.charAt(0).toUpperCase()+b.slice(1),e=b,c=jb.length;c--;)if(b=jb[c]+l,b in a)return b;return e}function E(a,b){a=b||a;return"none"===e.css(a,"display")||!e.contains(a.ownerDocument,a)}function G(a,b){for(var l,c,d=[],v=0,f=a.length;v<f;v++)l=
a[v],l.style&&(d[v]=e._data(l,"olddisplay"),b?(d[v]||"none"!==l.style.display||(l.style.display=""),""===l.style.display&&E(l)&&(d[v]=e._data(l,"olddisplay",J(l.nodeName)))):(c=N(l,"display"),d[v]||"none"===c||e._data(l,"olddisplay",c)));for(v=0;v<f;v++)l=a[v],!l.style||b&&"none"!==l.style.display&&""!==l.style.display||(l.style.display=b?d[v]||"":"none");return a}function H(a,b,l){return(a=Fb.exec(b))?Math.max(0,a[1]-(l||0))+(a[2]||"px"):b}function y(a,b,l,c){b=l===(c?"border":"content")?4:"width"===
b?1:0;for(var d=0;4>b;b+=2)"margin"===l&&(d+=e.css(a,l+fa[b],!0)),c?("content"===l&&(d-=parseFloat(N(a,"padding"+fa[b]))||0),"margin"!==l&&(d-=parseFloat(N(a,"border"+fa[b]+"Width"))||0)):(d+=parseFloat(N(a,"padding"+fa[b]))||0,"padding"!==l&&(d+=parseFloat(N(a,"border"+fa[b]+"Width"))||0));return d}function D(a,b,l){var c="width"===b?a.offsetWidth:a.offsetHeight,d=!0,v=e.support.boxSizing&&"border-box"===e.css(a,"boxSizing");if(0>=c||null==c){c=N(a,b);if(0>c||null==c)c=a.style[b];if(Oa.test(c))return c;
d=v&&(e.support.boxSizingReliable||c===a.style[b]);c=parseFloat(c)||0}return c+y(a,b,l||(v?"border":"content"),d)+"px"}function J(a){if(Va[a])return Va[a];var b=e("<"+a+">").appendTo(A.body),l=b.css("display");b.remove();if("none"===l||""===l)sa=A.body.appendChild(sa||e.extend(A.createElement("iframe"),{frameBorder:0,width:0,height:0})),ta&&sa.createElement||(ta=(sa.contentWindow||sa.contentDocument).document,ta.write("<!doctype html><html><body>"),ta.close()),b=ta.body.appendChild(ta.createElement(a)),
l=N(b,"display"),A.body.removeChild(sa);return Va[a]=l}function I(a,b,l,c){var d;if(e.isArray(b))e.each(b,function(b,u){l||Gb.test(a)?c(a,u):I(a+"["+("object"===typeof u?b:"")+"]",u,l,c)});else if(l||"object"!==e.type(b))c(a,b);else for(d in b)I(a+"["+d+"]",b[d],l,c)}function V(a){return function(b,l){"string"!==typeof b&&(l=b,b="*");var c,d,v=b.toLowerCase().split(ba),f=0,g=v.length;if(e.isFunction(l))for(;f<g;f++)c=v[f],(d=/^\+/.test(c))&&(c=c.substr(1)||"*"),c=a[c]=a[c]||[],c[d?"unshift":"push"](l)}}
function Q(a,u,l,e,c,d){c=c||u.dataTypes[0];d=d||{};d[c]=!0;var f;c=a[c];for(var g=0,h=c?c.length:0,k=a===Wa;g<h&&(k||!f);g++)f=c[g](u,l,e),"string"===typeof f&&(!k||d[f]?f=b:(u.dataTypes.unshift(f),f=Q(a,u,l,e,f,d)));!k&&f||d["*"]||(f=Q(a,u,l,e,"*",d));return f}function R(a,u){var l,c,d=e.ajaxSettings.flatOptions||{};for(l in u)u[l]!==b&&((d[l]?a:c||(c={}))[l]=u[l]);c&&e.extend(!0,a,c)}function ga(){try{return new a.XMLHttpRequest}catch(b){}}function L(){setTimeout(function(){ua=b},0);return ua=
e.now()}function K(a,b){e.each(b,function(b,u){for(var e=(Fa[b]||[]).concat(Fa["*"]),c=0,d=e.length;c<d&&!e[c].call(a,b,u);c++);})}function la(a,b,l){var c=0,d=Pa.length,v=e.Deferred().always(function(){delete f.elem}),f=function(){for(var b=ua||L(),b=Math.max(0,g.startTime+g.duration-b),u=1-(b/g.duration||0),l=0,e=g.tweens.length;l<e;l++)g.tweens[l].run(u);v.notifyWith(a,[g,u,b]);if(1>u&&e)return b;v.resolveWith(a,[g]);return!1},g=v.promise({elem:a,props:e.extend({},b),opts:e.extend(!0,{specialEasing:{}},
l),originalProperties:b,originalOptions:l,startTime:ua||L(),duration:l.duration,tweens:[],createTween:function(b,u,l){b=e.Tween(a,g.opts,b,u,g.opts.specialEasing[b]||g.opts.easing);g.tweens.push(b);return b},stop:function(b){for(var u=0,l=b?g.tweens.length:0;u<l;u++)g.tweens[u].run(1);b?v.resolveWith(a,[g,b]):v.rejectWith(a,[g,b]);return this}});l=g.props;for(Qa(l,g.opts.specialEasing);c<d;c++)if(b=Pa[c].call(g,a,l,g.opts))return b;K(g,l);e.isFunction(g.opts.start)&&g.opts.start.call(a,g);e.fx.timer(e.extend(f,
{anim:g,queue:g.opts.queue,elem:a}));return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function Qa(a,b){var l,c,d,v,g;for(l in a)if(c=e.camelCase(l),d=b[c],v=a[l],e.isArray(v)&&(d=v[1],v=a[l]=v[0]),l!==c&&(a[c]=v,delete a[l]),(g=e.cssHooks[c])&&"expand"in g)for(l in v=g.expand(v),delete a[c],v)l in a||(a[l]=v[l],b[l]=d);else b[c]=d}function F(a,b,l,e,c){return new F.prototype.init(a,b,l,e,c)}function S(a,b){var l,e={height:a},c=0;for(b=b?
1:0;4>c;c+=2-b)l=fa[c],e["margin"+l]=e["padding"+l]=a;b&&(e.opacity=e.width=a);return e}function Ra(a){return e.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Ga,va,A=a.document,Xa=a.location,Ya=a.navigator,Za=a.jQuery,Ha=a.$,Ia=Array.prototype.push,O=Array.prototype.slice,da=Array.prototype.indexOf,Ja=Object.prototype.toString,Ka=Object.prototype.hasOwnProperty,wa=String.prototype.trim,e=function(a,b){return new e.fn.init(a,b,Ga)},X=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
Z=/\S/,ba=/\s+/,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,oa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Y=/^[\],:{}\s]*$/,ha=/(?:^|:|,)(?:\s*\[)+/g,ya=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,pa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,za=/^-ms-/,$a=/-([\da-z])/gi,La=function(a,b){return(b+"").toUpperCase()},Aa=function(){A.addEventListener?(A.removeEventListener("DOMContentLoaded",Aa,!1),e.ready()):"complete"===A.readyState&&(A.detachEvent("onreadystatechange",
Aa),e.ready())},Ba={};e.fn=e.prototype={constructor:e,init:function(a,u,l){var c;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"===typeof a){c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:xa.exec(a);if(!c||!c[1]&&u)return!u||u.jquery?(u||l).find(a):this.constructor(u).find(a);if(c[1])return a=(u=u instanceof e?u[0]:u)&&u.nodeType?u.ownerDocument||u:A,a=e.parseHTML(c[1],a,!0),oa.test(c[1])&&e.isPlainObject(u)&&this.attr.call(a,
u,!0),e.merge(this,a);if((u=A.getElementById(c[2]))&&u.parentNode){if(u.id!==c[2])return l.find(a);this.length=1;this[0]=u}this.context=A;this.selector=a;return this}if(e.isFunction(a))return l.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return O.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,
b,l){a=e.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+l:b&&(a.selector=this.selector+"."+b+"("+l+")");return a},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(O.apply(this,arguments),"slice",
O.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,l){return a.call(b,l,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ia,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var a,u,l,c,d,v=arguments[0]||{},g=1,f=arguments.length,h=!1;"boolean"===typeof v&&(h=v,v=arguments[1]||{},g=2);"object"===typeof v||e.isFunction(v)||(v={});f===g&&(v=this,--g);for(;g<f;g++)if(null!=(a=arguments[g]))for(u in a)l=
v[u],c=a[u],v!==c&&(h&&c&&(e.isPlainObject(c)||(d=e.isArray(c)))?(d?(d=!1,l=l&&e.isArray(l)?l:[]):l=l&&e.isPlainObject(l)?l:{},v[u]=e.extend(h,l,c)):c!==b&&(v[u]=c));return v};e.extend({noConflict:function(b){a.$===e&&(a.$=Ha);b&&a.jQuery===e&&(a.jQuery=Za);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a?!--e.readyWait:!e.isReady){if(!A.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==a&&0<--e.readyWait||(va.resolveWith(A,[e]),e.fn.trigger&&
e(A).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Ba[Ja.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!Ka.call(a,"constructor")&&!Ka.call(a.constructor.prototype,
"isPrototypeOf"))return!1}catch(l){return!1}for(var u in a);return u===b||Ka.call(a,u)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,l){var c;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(l=b,b=0);b=b||A;if(c=oa.exec(a))return[b.createElement(c[1])];c=e.buildFragment([a],b,l?null:[]);return e.merge([],(c.cacheable?e.clone(c.fragment):c.fragment).childNodes)},parseJSON:function(b){if(!b||"string"!==typeof b)return null;
b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(Y.test(b.replace(ya,"@").replace(pa,"]").replace(ha,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(t){var u,l;if(!t||"string"!==typeof t)return null;try{a.DOMParser?(l=new DOMParser,u=l.parseFromString(t,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(t))}catch(c){u=b}u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+t);return u},
noop:function(){},globalEval:function(b){b&&Z.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(za,"ms-").replace($a,La)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,l){var d,g=0,v=a.length,f=v===b||e.isFunction(a);if(l)if(f)for(d in a){if(!1===c.apply(a[d],l))break}else for(;g<v&&!1!==c.apply(a[g++],l););else if(f)for(d in a){if(!1===c.call(a[d],d,a[d]))break}else for(;g<v&&!1!==c.call(a[g],
g,a[g++]););return a},trim:wa&&!wa.call("\ufeff\u00a0")?function(a){return null==a?"":wa.call(a)}:function(a){return null==a?"":(a+"").replace(T,"")},makeArray:function(a,b){var l,c=b||[];null!=a&&(l=e.type(a),null==a.length||"string"===l||"function"===l||"regexp"===l||e.isWindow(a)?Ia.call(c,a):e.merge(c,a));return c},inArray:function(a,b,l){var c;if(b){if(da)return da.call(b,a,l);c=b.length;for(l=l?0>l?Math.max(0,c+l):l:0;l<c;l++)if(l in b&&b[l]===a)return l}return-1},merge:function(a,c){var l=
c.length,e=a.length,d=0;if("number"===typeof l)for(;d<l;d++)a[e++]=c[d];else for(;c[d]!==b;)a[e++]=c[d++];a.length=e;return a},grep:function(a,b,c){var e,d=[],v=0,g=a.length;for(c=!!c;v<g;v++)e=!!b(a[v],v),c!==e&&d.push(a[v]);return d},map:function(a,c,l){var d,g,v=[],f=0,h=a.length;if(a instanceof e||h!==b&&"number"===typeof h&&(0<h&&a[0]&&a[h-1]||0===h||e.isArray(a)))for(;f<h;f++)d=c(a[f],f,l),null!=d&&(v[v.length]=d);else for(g in a)d=c(a[g],g,l),null!=d&&(v[v.length]=d);return v.concat.apply([],
v)},guid:1,proxy:function(a,c){var l,d;"string"===typeof c&&(l=a[c],c=a,a=l);if(!e.isFunction(a))return b;d=O.call(arguments,2);l=function(){return a.apply(c,d.concat(O.call(arguments)))};l.guid=a.guid=a.guid||e.guid++;return l},access:function(a,c,l,d,g,v,f){var h,k=null==l,n=0,m=a.length;if(l&&"object"===typeof l){for(n in l)e.access(a,c,n,l[n],1,v,d);g=1}else if(d!==b){h=f===b&&e.isFunction(d);k&&(h?(h=c,c=function(a,b,t){return h.call(e(a),t)}):(c.call(a,d),c=null));if(c)for(;n<m;n++)c(a[n],l,
h?d.call(a[n],n,c(a[n],l)):d,f);g=1}return g?a:k?c.call(a):m?c(a[0],l):v},now:function(){return(new Date).getTime()}});e.ready.promise=function(b){if(!va)if(va=e.Deferred(),"complete"===A.readyState)setTimeout(e.ready,1);else if(A.addEventListener)A.addEventListener("DOMContentLoaded",Aa,!1),a.addEventListener("load",e.ready,!1);else{A.attachEvent("onreadystatechange",Aa);a.attachEvent("onload",e.ready);var c=!1;try{c=null==a.frameElement&&A.documentElement}catch(l){}c&&c.doScroll&&function ca(){if(!e.isReady){try{c.doScroll("left")}catch(a){return setTimeout(ca,
50)}e.ready()}}()}return va.promise(b)};e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Ba["[object "+b+"]"]=b.toLowerCase()});Ga=e(A);var Da={};e.Callbacks=function(a){a="string"===typeof a?Da[a]||c(a):e.extend({},a);var u,l,d,g,v,f,h=[],k=!a.once&&[],n=function(b){u=a.memory&&b;l=!0;f=g||0;g=0;v=h.length;for(d=!0;h&&f<v;f++)if(!1===h[f].apply(b[0],b[1])&&a.stopOnFalse){u=!1;break}d=!1;h&&(k?k.length&&n(k.shift()):u?h=[]:m.disable())},m={add:function(){if(h){var b=
h.length;(function Hb(b){e.each(b,function(b,c){var l=e.type(c);"function"===l?a.unique&&m.has(c)||h.push(c):c&&c.length&&"string"!==l&&Hb(c)})})(arguments);d?v=h.length:u&&(g=b,n(u))}return this},remove:function(){h&&e.each(arguments,function(a,b){for(var t;-1<(t=e.inArray(b,h,t));)h.splice(t,1),d&&(t<=v&&v--,t<=f&&f--)});return this},has:function(a){return-1<e.inArray(a,h)},empty:function(){h=[];return this},disable:function(){h=k=u=b;return this},disabled:function(){return!h},lock:function(){k=
b;u||m.disable();return this},locked:function(){return!k},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!h||l&&!k||(d?k.push(b):n(b));return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!l}};return m};e.extend({Deferred:function(a){var b=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){g.done(arguments).fail(arguments);
return this},then:function(){var a=arguments;return e.Deferred(function(t){e.each(b,function(b,c){var l=c[0],u=a[b];g[c[1]](e.isFunction(u)?function(){var a=u.apply(this,arguments);if(a&&e.isFunction(a.promise))a.promise().done(t.resolve).fail(t.reject).progress(t.notify);else t[l+"With"](this===g?t:this,[a])}:t[l])});a=null}).promise()},promise:function(a){return null!=a?e.extend(a,d):d}},g={};d.pipe=d.then;e.each(b,function(a,t){var e=t[2],f=t[3];d[t[1]]=e.add;f&&e.add(function(){c=f},b[a^1][2].disable,
b[2][2].lock);g[t[0]]=e.fire;g[t[0]+"With"]=e.fireWith});d.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,c=O.call(arguments),d=c.length,g=1!==d||a&&e.isFunction(a.promise)?d:0,v=1===g?a:e.Deferred(),f=function(a,b,t){return function(c){b[a]=this;t[a]=1<arguments.length?O.call(arguments):c;t===h?v.notifyWith(b,t):--g||v.resolveWith(b,t)}},h,k,n;if(1<d)for(h=Array(d),k=Array(d),n=Array(d);b<d;b++)c[b]&&e.isFunction(c[b].promise)?c[b].promise().done(f(b,n,c)).fail(v.reject).progress(f(b,
k,h)):--g;g||v.resolveWith(n,c);return v.promise()}});e.support=function(){var b,c,l,d,g,f,h,k=A.createElement("div");k.setAttribute("className","t");k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";c=k.getElementsByTagName("*");l=k.getElementsByTagName("a")[0];if(!c||!l||!c.length)return{};d=A.createElement("select");g=d.appendChild(A.createElement("option"));c=k.getElementsByTagName("input")[0];l.style.cssText="top:1px;float:left;opacity:.5";b={leadingWhitespace:3===
k.firstChild.nodeType,tbody:!k.getElementsByTagName("tbody").length,htmlSerialize:!!k.getElementsByTagName("link").length,style:/top/.test(l.getAttribute("style")),hrefNormalized:"/a"===l.getAttribute("href"),opacity:/^0.5/.test(l.style.opacity),cssFloat:!!l.style.cssFloat,checkOn:"on"===c.value,optSelected:g.selected,getSetAttribute:"t"!==k.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===A.compatMode,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};c.checked=!0;b.noCloneChecked=c.cloneNode(!0).checked;d.disabled=!0;b.optDisabled=!g.disabled;try{delete k.test}catch(n){b.deleteExpando=!1}!k.addEventListener&&k.attachEvent&&k.fireEvent&&(k.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),k.cloneNode(!0).fireEvent("onclick"),k.detachEvent("onclick",
l));c=A.createElement("input");c.value="t";c.setAttribute("type","radio");b.radioValue="t"===c.value;c.setAttribute("checked","checked");c.setAttribute("name","t");k.appendChild(c);l=A.createDocumentFragment();l.appendChild(k.lastChild);b.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked;b.appendChecked=c.checked;l.removeChild(c);l.appendChild(k);if(k.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})c="on"+f,h=c in k,h||(k.setAttribute(c,"return;"),h="function"===typeof k[c]),b[f+"Bubbles"]=
h;e(function(){var c,l,e,u=A.getElementsByTagName("body")[0];u&&(c=A.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",u.insertBefore(c,u.firstChild),l=A.createElement("div"),c.appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=
h&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===l.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,e=A.createElement("div"),e.style.cssText=
l.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",e.style.marginRight=e.style.width="0",l.style.width="1px",l.appendChild(e),b.reliableMarginRight=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight)),"undefined"!==typeof l.style.zoom&&(l.innerHTML="",l.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.style.overflow="visible",l.innerHTML=
"<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,c.style.zoom=1),u.removeChild(c))});l.removeChild(k);c=l=d=g=c=l=k=null;return b}();var Ea=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ka=/([A-Z])/g;e.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(e.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?e.cache[a[e.expando]]:a[e.expando];return!!a&&!f(a)},data:function(a,
c,l,d){if(e.acceptData(a)){var g=e.expando,f="string"===typeof c,h=a.nodeType,k=h?e.cache:a,n=h?a[g]:a[g]&&g;if(n&&k[n]&&(d||k[n].data)||!f||l!==b){n||(h?a[g]=n=e.deletedIds.pop()||e.guid++:n=g);k[n]||(k[n]={},h||(k[n].toJSON=e.noop));if("object"===typeof c||"function"===typeof c)d?k[n]=e.extend(k[n],c):k[n].data=e.extend(k[n].data,c);a=k[n];d||(a.data||(a.data={}),a=a.data);l!==b&&(a[e.camelCase(c)]=l);f?(l=a[c],null==l&&(l=a[e.camelCase(c)])):l=a;return l}}},removeData:function(a,b,c){if(e.acceptData(a)){var d,
g,v,h=a.nodeType,k=h?e.cache:a,n=h?a[e.expando]:e.expando;if(k[n]){if(b&&(d=c?k[n]:k[n].data)){e.isArray(b)||(b in d?b=[b]:(b=e.camelCase(b),b=b in d?[b]:b.split(" ")));g=0;for(v=b.length;g<v;g++)delete d[b[g]];if(!(c?f:e.isEmptyObject)(d))return}if(!c&&(delete k[n].data,!f(k[n])))return;h?e.cleanData([a],!0):e.support.deleteExpando||k!=k.window?delete k[n]:k[n]=null}}},_data:function(a,b,c){return e.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&e.noData[a.nodeName.toLowerCase()];return!b||
!0!==b&&a.getAttribute("classid")===b}});e.fn.extend({data:function(a,c){var l,g,f,v,h,k=this[0],n=0,m=null;if(a===b){if(this.length&&(m=e.data(k),1===k.nodeType&&!e._data(k,"parsedAttrs"))){f=k.attributes;for(h=f.length;n<h;n++)v=f[n].name,v.indexOf("data-")||(v=e.camelCase(v.substring(5)),d(k,v,m[v]));e._data(k,"parsedAttrs",!0)}return m}if("object"===typeof a)return this.each(function(){e.data(this,a)});l=a.split(".",2);l[1]=l[1]?"."+l[1]:"";g=l[1]+"!";return e.access(this,function(c){if(c===b)return m=
this.triggerHandler("getData"+g,[l[0]]),m===b&&k&&(m=e.data(k,a),m=d(k,a,m)),m===b&&l[1]?this.data(l[0]):m;l[1]=c;this.each(function(){var b=e(this);b.triggerHandler("setData"+g,l);e.data(this,a,c);b.triggerHandler("changeData"+g,l)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){e.removeData(this,a)})}});e.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=e._data(a,b),c&&(!d||e.isArray(c)?d=e._data(a,b,e.makeArray(c)):d.push(c)),d||[]},
dequeue:function(a,b){b=b||"fx";var c=e.queue(a,b),d=c.length,g=c.shift(),f=e._queueHooks(a,b),h=function(){e.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),d--);g&&("fx"===b&&c.unshift("inprogress"),delete f.stop,g.call(a,h,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return e._data(a,c)||e._data(a,c,{empty:e.Callbacks("once memory").add(function(){e.removeData(a,b+"queue",!0);e.removeData(a,c,!0)})})}});e.fn.extend({queue:function(a,c){var l=2;"string"!==typeof a&&(c=
a,a="fx",l--);return arguments.length<l?e.queue(this[0],a):c===b?this:this.each(function(){var b=e.queue(this,a,c);e._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&e.dequeue(this,a)})},dequeue:function(a){return this.each(function(){e.dequeue(this,a)})},delay:function(a,b){a=e.fx?e.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var l,d=1,g=e.Deferred(),
f=this,h=this.length,k=function(){--d||g.resolveWith(f,[f])};"string"!==typeof a&&(c=a,a=b);for(a=a||"fx";h--;)(l=e._data(f[h],a+"queueHooks"))&&l.empty&&(d++,l.empty.add(k));k();return g.promise(c)}});var aa,Ma,ia,P=/[\t\r\n]/g,ja=/\r/g,ma=/^(?:button|input)$/i,na=/^(?:button|input|object|select|textarea)$/i,ab=/^a(?:rea|)$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,kb=e.support.getSetAttribute;e.fn.extend({attr:function(a,
b){return e.access(this,e.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){e.removeAttr(this,a)})},prop:function(a,b){return e.access(this,e.prop,a,b,1<arguments.length)},removeProp:function(a){a=e.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,g,f,h,k;if(e.isFunction(a))return this.each(function(b){e(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(ba),c=0,d=
this.length;c<d;c++)if(g=this[c],1===g.nodeType)if(g.className||1!==b.length){f=" "+g.className+" ";h=0;for(k=b.length;h<k;h++)0>f.indexOf(" "+b[h]+" ")&&(f+=b[h]+" ");g.className=e.trim(f)}else g.className=a;return this},removeClass:function(a){var c,l,d,g,f,h,k;if(e.isFunction(a))return this.each(function(b){e(this).removeClass(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===b)for(c=(a||"").split(ba),h=0,k=this.length;h<k;h++)if(d=this[h],1===d.nodeType&&d.className){l=(" "+d.className+
" ").replace(P," ");g=0;for(f=c.length;g<f;g++)for(;0<=l.indexOf(" "+c[g]+" ");)l=l.replace(" "+c[g]+" "," ");d.className=a?e.trim(l):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return e.isFunction(a)?this.each(function(c){e(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var g,f=0,h=e(this),k=b,n=a.split(ba);g=n[f++];)k=d?k:!h.hasClass(g),h[k?"addClass":"removeClass"](g);else if("undefined"===c||"boolean"===c)this.className&&
e._data(this,"__className__",this.className),this.className=this.className||!1===a?"":e._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(P," ").indexOf(a))return!0;return!1},val:function(a){var c,l,d,g=this[0];if(arguments.length)return d=e.isFunction(a),this.each(function(l){var g=e(this);1===this.nodeType&&(l=d?a.call(this,l,g.val()):a,null==l?l="":"number"===typeof l?l+="":e.isArray(l)&&
(l=e.map(l,function(a){return null==a?"":a+""})),c=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,l,"value")!==b||(this.value=l))});if(g){if((c=e.valHooks[g.type]||e.valHooks[g.nodeName.toLowerCase()])&&"get"in c&&(l=c.get(g,"value"))!==b)return l;l=g.value;return"string"===typeof l?l.replace(ja,""):null==l?"":l}}});e.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,
c=a.options,d=a.selectedIndex,g=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:c.length,h=0>d?f:a?d:0;h<f;h++)if(b=c[h],!(!b.selected&&h!==d||(e.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&e.nodeName(b.parentNode,"optgroup"))){b=e(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){var c=e.makeArray(b);e(a).find("option").each(function(){this.selected=0<=e.inArray(e(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{},attr:function(a,
c,l,d){var g,f,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(d&&e.isFunction(e.fn[c]))return e(a)[c](l);if("undefined"===typeof a.getAttribute)return e.prop(a,c,l);if(d=1!==h||!e.isXMLDoc(a))c=c.toLowerCase(),f=e.attrHooks[c]||(Na.test(c)?Ma:aa);if(l!==b)if(null===l)e.removeAttr(a,c);else{if(f&&"set"in f&&d&&(g=f.set(a,l,c))!==b)return g;a.setAttribute(c,l+"");return l}else{if(f&&"get"in f&&d&&null!==(g=f.get(a,c)))return g;g=a.getAttribute(c);return null===g?b:g}}},removeAttr:function(a,b){var c,d,
g,f,h=0;if(b&&1===a.nodeType)for(d=b.split(ba);h<d.length;h++)if(g=d[h])c=e.propFix[g]||g,(f=Na.test(g))||e.attr(a,g,""),a.removeAttribute(kb?g:c),f&&c in a&&(a[c]=!1)},attrHooks:{type:{set:function(a,b){if(ma.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");else if(!e.support.radioValue&&"radio"===b&&e.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return aa&&e.nodeName(a,"button")?aa.get(a,b):b in a?a.value:
null},set:function(a,b,c){if(aa&&e.nodeName(a,"button"))return aa.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,l){var d,g,f;f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if(f=1!==f||!e.isXMLDoc(a))c=e.propFix[c]||c,g=e.propHooks[c];return l!==
b?g&&"set"in g&&(d=g.set(a,l,c))!==b?d:a[c]=l:g&&"get"in g&&null!==(d=g.get(a,c))?d:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):na.test(a.nodeName)||ab.test(a.nodeName)&&a.href?0:b}}}});Ma={get:function(a,c){var l,d=e.prop(a,c);return!0===d||"boolean"!==typeof d&&(l=a.getAttributeNode(c))&&!1!==l.nodeValue?c.toLowerCase():b},set:function(a,b,c){!1===b?e.removeAttr(a,c):(b=e.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,
c.toLowerCase()));return c}};kb||(ia={name:!0,id:!0,coords:!0},aa=e.valHooks.button={get:function(a,c){var e;return(e=a.getAttributeNode(c))&&(ia[c]?""!==e.value:e.specified)?e.value:b},set:function(a,b,c){var e=a.getAttributeNode(c);e||(e=A.createAttribute(c),a.setAttributeNode(e));return e.value=b+""}},e.each(["width","height"],function(a,b){e.attrHooks[b]=e.extend(e.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),e.attrHooks.contenteditable={get:aa.get,set:function(a,
b,c){""===b&&(b="false");aa.set(a,b,c)}});e.support.hrefNormalized||e.each(["href","src","width","height"],function(a,c){e.attrHooks[c]=e.extend(e.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null===a?b:a}})});e.support.style||(e.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}});e.support.optSelected||(e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&
a.parentNode.selectedIndex;return null}}));e.support.enctype||(e.propFix.enctype="encoding");e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(a,b){if(e.isArray(b))return a.checked=0<=e.inArray(e(a).val(),b)}})});var bb=/^(?:textarea|input|select)$/i,lb=/^([^\.]*|)(?:\.(.+)|)$/,Ib=/(?:^|\s)hover(\.\S+|)\b/,
Jb=/^key/,Kb=/^(?:mouse|contextmenu)|click/,mb=/^(?:focusinfocus|focusoutblur)$/,nb=function(a){return e.event.special.hover?a:a.replace(Ib,"mouseenter$1 mouseleave$1")};e.event={add:function(a,c,l,d,g){var f,h,k,n,m,y,r,q,p;if(3!==a.nodeType&&8!==a.nodeType&&c&&l&&(f=e._data(a))){l.handler&&(r=l,l=r.handler,g=r.selector);l.guid||(l.guid=e.guid++);k=f.events;k||(f.events=k={});h=f.handle;h||(f.handle=h=function(a){return"undefined"===typeof e||a&&e.event.triggered===a.type?b:e.event.dispatch.apply(h.elem,
arguments)},h.elem=a);c=e.trim(nb(c)).split(" ");for(f=0;f<c.length;f++)n=lb.exec(c[f])||[],m=n[1],y=(n[2]||"").split(".").sort(),p=e.event.special[m]||{},m=(g?p.delegateType:p.bindType)||m,p=e.event.special[m]||{},n=e.extend({type:m,origType:n[1],data:d,handler:l,guid:l.guid,selector:g,needsContext:g&&e.expr.match.needsContext.test(g),namespace:y.join(".")},r),q=k[m],q||(q=k[m]=[],q.delegateCount=0,p.setup&&!1!==p.setup.call(a,d,y,h)||(a.addEventListener?a.addEventListener(m,h,!1):a.attachEvent&&
a.attachEvent("on"+m,h))),p.add&&(p.add.call(a,n),n.handler.guid||(n.handler.guid=l.guid)),g?q.splice(q.delegateCount++,0,n):q.push(n),e.event.global[m]=!0;a=null}},global:{},remove:function(a,b,c,d,g){var f,h,k,n,m,y,r,q,p,C,E=e.hasData(a)&&e._data(a);if(E&&(r=E.events)){b=e.trim(nb(b||"")).split(" ");for(f=0;f<b.length;f++)if(h=lb.exec(b[f])||[],k=n=h[1],h=h[2],k){q=e.event.special[k]||{};k=(d?q.delegateType:q.bindType)||k;p=r[k]||[];m=p.length;h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+
"(\\.|$)"):null;for(y=0;y<p.length;y++)C=p[y],!g&&n!==C.origType||c&&c.guid!==C.guid||h&&!h.test(C.namespace)||d&&d!==C.selector&&("**"!==d||!C.selector)||(p.splice(y--,1),C.selector&&p.delegateCount--,q.remove&&q.remove.call(a,C));0===p.length&&m!==p.length&&(q.teardown&&!1!==q.teardown.call(a,h,E.handle)||e.removeEvent(a,k,E.handle),delete r[k])}else for(k in r)e.event.remove(a,k+b[f],c,d,!0);e.isEmptyObject(r)&&(delete E.handle,e.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,
changeData:!0},trigger:function(c,d,l,g){if(!l||3!==l.nodeType&&8!==l.nodeType){var f,h,k,n,m,y,p=c.type||c;k=[];if(!mb.test(p+e.event.triggered)&&(0<=p.indexOf("!")&&(p=p.slice(0,-1),f=!0),0<=p.indexOf(".")&&(k=p.split("."),p=k.shift(),k.sort()),l&&!e.event.customEvent[p]||e.event.global[p]))if(c="object"===typeof c?c[e.expando]?c:new e.Event(p,c):new e.Event(p),c.type=p,c.isTrigger=!0,c.exclusive=f,c.namespace=k.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):
null,k=0>p.indexOf(":")?"on"+p:"",l){if(c.result=b,c.target||(c.target=l),d=null!=d?e.makeArray(d):[],d.unshift(c),n=e.event.special[p]||{},!n.trigger||!1!==n.trigger.apply(l,d)){y=[[l,n.bindType||p]];if(!g&&!n.noBubble&&!e.isWindow(l)){m=n.delegateType||p;f=mb.test(m+p)?l:l.parentNode;for(h=l;f;f=f.parentNode)y.push([f,m]),h=f;h===(l.ownerDocument||A)&&y.push([h.defaultView||h.parentWindow||a,m])}for(h=0;h<y.length&&!c.isPropagationStopped();h++)f=y[h][0],c.type=y[h][1],(m=(e._data(f,"events")||
{})[c.type]&&e._data(f,"handle"))&&m.apply(f,d),(m=k&&f[k])&&e.acceptData(f)&&m.apply&&!1===m.apply(f,d)&&c.preventDefault();c.type=p;g||c.isDefaultPrevented()||n._default&&!1!==n._default.apply(l.ownerDocument,d)||"click"===p&&e.nodeName(l,"a")||!e.acceptData(l)||!k||!l[p]||("focus"===p||"blur"===p)&&0===c.target.offsetWidth||e.isWindow(l)||((h=l[k])&&(l[k]=null),e.event.triggered=p,l[p](),e.event.triggered=b,h&&(l[k]=h));return c.result}}else for(h in l=e.cache,l)l[h].events&&l[h].events[p]&&e.event.trigger(c,
d,l[h].handle.elem,!0)}},dispatch:function(c){c=e.event.fix(c||a.event);var d,l,g,f,h,k,n=(e._data(this,"events")||{})[c.type]||[],m=n.delegateCount,y=O.call(arguments),p=!c.exclusive&&!c.namespace,q=e.event.special[c.type]||{},r=[];y[0]=c;c.delegateTarget=this;if(!q.preDispatch||!1!==q.preDispatch.call(this,c)){if(m&&(!c.button||"click"!==c.type))for(l=c.target;l!=this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==c.type){f={};h=[];for(d=0;d<m;d++)g=n[d],k=g.selector,f[k]===b&&(f[k]=g.needsContext?
0<=e(k,this).index(l):e.find(k,this,null,[l]).length),f[k]&&h.push(g);h.length&&r.push({elem:l,matches:h})}n.length>m&&r.push({elem:this,matches:n.slice(m)});for(d=0;d<r.length&&!c.isPropagationStopped();d++)for(f=r[d],c.currentTarget=f.elem,l=0;l<f.matches.length&&!c.isImmediatePropagationStopped();l++)if(g=f.matches[l],p||!c.namespace&&!g.namespace||c.namespace_re&&c.namespace_re.test(g.namespace))c.data=g.data,c.handleObj=g,g=((e.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,y),
g!==b&&(c.result=g,!1===g&&(c.preventDefault(),c.stopPropagation()));q.postDispatch&&q.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,c){var e,d,g=c.button,f=c.fromElement;null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||A,d=e.documentElement,e=e.body,a.pageX=c.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0));!a.relatedTarget&&f&&(a.relatedTarget=f===a.target?c.toElement:f);a.which||g===b||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[e.expando])return a;var b,
c,d=a,g=e.event.fixHooks[a.type]||{},f=g.props?this.props.concat(g.props):this.props;a=e.Event(d);for(b=f.length;b;)c=f[--b],a[c]=d[c];a.target||(a.target=d.srcElement||A);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return g.filter?g.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){e.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function(a,b,c,d){a=e.extend(new e.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?e.event.trigger(a,null,b):e.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};e.event.handle=e.event.dispatch;e.removeEvent=A.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};e.Event=function(a,b){if(!(this instanceof e.Event))return new e.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a;b&&e.extend(this,b);this.timeStamp=a&&a.timeStamp||e.now();this[e.expando]=!0};e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()},isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){e.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,t=a.handleObj;if(!d||d!==this&&!e.contains(this,d))a.type=t.origType,c=t.handler.apply(this,arguments),a.type=b;return c}}});e.support.submitBubbles||
(e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return!1;e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:b)&&!e._data(a,"_submit_attached")&&(e.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),e._data(a,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&e.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(e.nodeName(this,
"form"))return!1;e.event.remove(this,"._submit")}});e.support.changeBubbles||(e.event.special.change={setup:function(){if(bb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)e.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),e.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,a,!0)});return!1}e.event.add(this,"beforeactivate._change",
function(a){a=a.target;bb.test(a.nodeName)&&!e._data(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||e.event.simulate("change",this.parentNode,a,!0)}),e._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){e.event.remove(this,"._change");return!bb.test(this.nodeName)}});
e.support.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){e.event.simulate(b,a.target,e.event.fix(a),!0)};e.event.special[b]={setup:function(){0===c++&&A.addEventListener(a,d,!0)},teardown:function(){0===--c&&A.removeEventListener(a,d,!0)}}});e.fn.extend({on:function(a,c,d,g,f){var k,n;if("object"===typeof a){"string"!==typeof c&&(d=d||c,c=b);for(n in a)this.on(n,c,d,a[n],f);return this}null==d&&null==g?(g=c,d=c=b):null==g&&("string"===typeof c?(g=d,d=
b):(g=d,d=c,c=b));if(!1===g)g=h;else if(!g)return this;1===f&&(k=g,g=function(a){e().off(a);return k.apply(this,arguments)},g.guid=k.guid||(k.guid=e.guid++));return this.each(function(){e.event.add(this,a,g,d,c)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,c,d){var g;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,e(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof a){for(g in a)this.off(g,c,a[g]);
return this}if(!1===c||"function"===typeof c)d=c,c=b;!1===d&&(d=h);return this.each(function(){e.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){e(this.context).on(a,this.selector,b,c);return this},die:function(a,b){e(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)},trigger:function(a,b){return this.each(function(){e.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return e.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||e.guid++,d=0,g=function(c){var l=(e._data(this,"lastToggle"+a.guid)||0)%d;e._data(this,"lastToggle"+a.guid,l+1);c.preventDefault();return b[l].apply(this,arguments)||!1};for(g.guid=c;d<b.length;)b[d++].guid=c;return this.click(g)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){e.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};Jb.test(b)&&(e.event.fixHooks[b]=e.event.keyHooks);Kb.test(b)&&(e.event.fixHooks[b]=e.event.mouseHooks)});(function(a,b){function c(a,b,e,d){e=e||[];b=b||
P;var l,g,t,f,h=b.nodeType;if(!a||"string"!==typeof a)return e;if(1!==h&&9!==h)return[];t=J(b);if(!t&&!d&&(l=aa.exec(a)))if(f=l[1])if(9===h)if((g=b.getElementById(f))&&g.parentNode){if(g.id===f)return e.push(g),e}else return e;else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(f))&&G(b,g)&&g.id===f)return e.push(g),e}else{if(l[2])return na.apply(e,R.call(b.getElementsByTagName(a),0)),e;if((f=l[3])&&fa&&b.getElementsByClassName)return na.apply(e,R.call(b.getElementsByClassName(f),0)),e}return C(a.replace(O,
"$1"),b,e,d,t)}function d(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function g(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return ea(function(b){b=+b;return ea(function(c,e){for(var d,l=a([],c.length,b),g=l.length;g--;)c[d=l[g]]&&(c[d]=!(e[d]=c[d]))})})}function h(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function k(a,b){var e,d,g,t,f,h,u;if(f=N[M][a+
" "])return b?0:f.slice(0);f=a;h=[];for(u=z.preFilter;f;){if(!e||(d=W.exec(f)))d&&(f=f.slice(d[0].length)||f),h.push(g=[]);e=!1;if(d=X.exec(f))g.push(e=new Q(d.shift())),f=f.slice(e.length),e.type=d[0].replace(O," ");for(t in z.filter)!(d=Z[t].exec(f))||u[t]&&!(d=u[t](d))||(g.push(e=new Q(d.shift())),f=f.slice(e.length),e.type=t,e.matches=d);if(!e)break}return b?f.length:f?c.error(a):N(a,h).slice(0)}function n(a,b,c){var e=b.dir,d=c&&"parentNode"===b.dir,l=L++;return b.first?function(b,c,l){for(;b=
b[e];)if(d||1===b.nodeType)return a(b,c,l)}:function(b,c,g){if(!g)for(var t,f=V+" "+l+" ",h=f+H;b=b[e];){if(d||1===b.nodeType){if((t=b[M])===h)return b.sizset;if("string"===typeof t&&0===t.indexOf(f)){if(b.sizset)return b}else{b[M]=h;if(a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}else for(;b=b[e];)if((d||1===b.nodeType)&&a(b,c,g))return b}}function m(a){return 1<a.length?function(b,c,e){for(var d=a.length;d--;)if(!a[d](b,c,e))return!1;return!0}:a[0]}function y(a,b,c,e,d){for(var l,g=[],t=0,f=a.length,
h=null!=b;t<f;t++)if(l=a[t])if(!c||c(l,e,d))g.push(l),h&&b.push(t);return g}function p(a,b,e,d,g,t){d&&!d[M]&&(d=p(d));g&&!g[M]&&(g=p(g,t));return ea(function(t,f,h,k){var u,n,m=[],v=[],ca=f.length,U;if(!(U=t)){U=b||"*";for(var p=h.nodeType?[h]:h,q=[],r=0,Ua=p.length;r<Ua;r++)c(U,p[r],q);U=q}U=!a||!t&&b?U:y(U,m,a,h,k);p=e?g||(t?a:ca||d)?[]:f:U;e&&e(U,p,h,k);if(d)for(u=y(p,v),d(u,[],h,k),h=u.length;h--;)if(n=u[h])p[v[h]]=!(U[v[h]]=n);if(t){if(g||a){if(g){u=[];for(h=p.length;h--;)(n=p[h])&&u.push(U[h]=
n);g(null,p=[],u,k)}for(h=p.length;h--;)(n=p[h])&&-1<(u=g?ga.call(t,n):m[h])&&(t[u]=!(f[u]=n))}}else p=y(p===f?p.splice(ca,p.length):p),g?g(null,f,p,k):na.apply(f,p)})}function q(a){var b,c,e,d=a.length,l=z.relative[a[0].type];c=l||z.relative[" "];for(var g=l?1:0,t=n(function(a){return a===b},c,!0),f=n(function(a){return-1<ga.call(b,a)},c,!0),h=[function(a,c,e){return!l&&(e||c!==I)||((b=c).nodeType?t(a,c,e):f(a,c,e))}];g<d;g++)if(c=z.relative[a[g].type])h=[n(m(h),c)];else{c=z.filter[a[g].type].apply(null,
a[g].matches);if(c[M]){for(e=++g;e<d&&!z.relative[a[e].type];e++);return p(1<g&&m(h),1<g&&a.slice(0,g-1).join("").replace(O,"$1"),c,g<e&&q(a.slice(g,e)),e<d&&q(a=a.slice(e)),e<d&&a.join(""))}h.push(c)}return m(h)}function r(a,b){var e=0<b.length,d=0<a.length,g=function(t,f,h,k,u){var n,m,v=[],ca=0,p="0",U=t&&[],q=null!=u,r=I,Ua=t||d&&z.find.TAG("*",u&&f.parentNode||f),C=V+=null==r?1:Math.E;q&&(I=f!==P&&f,H=g.el);for(;null!=(u=Ua[p]);p++){if(d&&u){for(n=0;m=a[n];n++)if(m(u,f,h)){k.push(u);break}q&&
(V=C,H=++g.el)}e&&((u=!m&&u)&&ca--,t&&U.push(u))}ca+=p;if(e&&p!==ca){for(n=0;m=b[n];n++)m(U,v,f,h);if(t){if(0<ca)for(;p--;)U[p]||v[p]||(v[p]=Lb.call(k));v=y(v)}na.apply(k,v);q&&!t&&0<v.length&&1<ca+b.length&&c.uniqueSort(k)}q&&(V=C,I=r);return U};g.el=0;return e?ea(g):g}function C(a,b,c,e,d){var l,g,t,f,h=k(a);if(!e&&1===h.length){g=h[0]=h[0].slice(0);if(2<g.length&&"ID"===(t=g[0]).type&&9===b.nodeType&&!d&&z.relative[g[1].type]){b=z.find.ID(t.matches[0].replace(ma,""),b,d)[0];if(!b)return c;a=a.slice(g.shift().length)}for(l=
Z.POS.test(a)?-1:g.length-1;0<=l;l--){t=g[l];if(z.relative[f=t.type])break;if(f=z.find[f])if(e=f(t.matches[0].replace(ma,""),Y.test(g[0].type)&&b.parentNode||b,d)){g.splice(l,1);a=e.length&&g.join("");if(!a)return na.apply(c,R.call(e,0)),c;break}}}D(a,h)(e,b,d,c,Y.test(a));return c}function E(){}var H,x,z,B,J,G,D,A,K,I,ia=!0,M=("sizcache"+Math.random()).replace(".",""),Q=String,P=a.document,F=P.documentElement,V=0,L=0,Lb=[].pop,na=[].push,R=[].slice,ga=[].indexOf||function(a){for(var b=0,c=this.length;b<
c;b++)if(this[b]===a)return b;return-1},ea=function(a,b){a[M]=null==b||b;return a},ja=function(){var a={},b=[];return ea(function(c,e){b.push(c)>z.cacheLength&&delete a[b.shift()];return a[c+" "]=e},a)},ob=ja(),N=ja(),Na=ja(),ja="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",S=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+
ja+")|[^:]|\\\\.)*|.*))\\)|)",O=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,X=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ab=new RegExp(S),aa=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Y=/[\x20\t\r\n\f]*[+~]/,ba=/h\d/i,da=/input|select|textarea|button/i,ma=/\\(?!\\)/g,Z={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ja),PSEUDO:new RegExp("^"+S),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:/^:(only|nth|first|last)-child(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
T=function(a){var b=P.createElement("div");try{return a(b)}catch(c){return!1}finally{}},ja=T(function(a){a.appendChild(P.createComment(""));return!a.getElementsByTagName("*").length}),ha=T(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),ka=T(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),fa=T(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),la=T(function(a){a.id=M+0;a.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>";F.insertBefore(a,F.firstChild);var b=P.getElementsByName&&P.getElementsByName(M).length===2+P.getElementsByName(M+0).length;x=!P.getElementById(M);F.removeChild(a);return b});try{R.call(F.childNodes,0)[0].nodeType}catch(qc){R=
function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};B=c.getText=function(a){var b,c="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=B(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e];e++)c+=B(b);return c};J=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?
"HTML"!==a.nodeName:!1};G=c.contains=F.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&c.contains&&c.contains(e))}:F.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};c.attr=function(a,b){var c,e=J(a);e||(b=b.toLowerCase());return(c=z.attrHandle[b])?c(a):e||ka?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?
b:null:c.specified?c.value:null:null};z=c.selectors={cacheLength:50,createPseudo:ea,match:Z,attrHandle:ha?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:x?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,c,e){if("undefined"!==typeof c.getElementById&&!e)return(c=c.getElementById(a))?c.id===a||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===
a?[c]:b:[]},TAG:ja?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var e,d=[],l=0;e=c[l];l++)1===e.nodeType&&d.push(e);return d}return c},NAME:la&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:fa&&function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0},
" ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ma,"");a[3]=(a[4]||a[5]||"").replace(ma,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a){var b,c;if(Z.CHILD.test(a[0]))return null;if(a[3])a[2]=
a[3];else if(b=a[4])ab.test(b)&&(c=k(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:x?function(a){a=a.replace(ma,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(ma,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(ma,"").toLowerCase();return function(b){return b.nodeName&&
b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=ob[M][a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ob(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(d,g){var t=c.attr(d,a);if(null==t)return"!="===b;if(!b)return!0;t+="";return"="===b?t===e:"!="===b?t!==e:"^="===b?e&&0===t.indexOf(e):"*="===b?e&&-1<t.indexOf(e):"$="===b?e&&t.substr(t.length-e.length)===
e:"~="===b?-1<(" "+t+" ").indexOf(e):"|="===b?t===e||t.substr(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,c,e){return"nth"===a?function(a){var b,d;b=a.parentNode;if(1===c&&0===e)return!0;if(b)for(d=0,b=b.firstChild;b&&(1!==b.nodeType||(d++,a!==b));b=b.nextSibling);d-=e;return d===c||0===d%c&&0<=d/c}:function(b){var c=b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},
PSEUDO:function(a,b){var e,d=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[M]?d(b):1<d.length?(e=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?ea(function(a,c){for(var e,l=d(a,b),g=l.length;g--;)e=ga.call(a,l[g]),a[e]=!(c[e]=l[g])}):function(a){return d(a,0,e)}):d}},pseudos:{not:ea(function(a){var b=[],c=[],e=D(a.replace(O,"$1"));return e[M]?ea(function(a,b,c,d){d=e(a,null,d,[]);for(var l=a.length;l--;)if(c=d[l])a[l]=!(b[l]=c)}):function(a,d,l){b[0]=
a;e(b,null,l,c);return!c.pop()}}),has:ea(function(a){return function(b){return 0<c(a,b).length}}),contains:ea(function(a){return function(b){return-1<(b.textContent||b.innerText||B(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!z.pseudos.empty(a)},
empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return ba.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:g("submit"),reset:g("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&"button"===a.type||"button"===b},input:function(a){return da.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),
lt:f(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:f(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};A=F.compareDocumentPosition?function(a,b){return a===b?(K=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return K=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,e,d=[],l=[];c=a.parentNode;e=b.parentNode;var g=c;if(c===e)return h(a,b);if(!c)return-1;
if(!e)return 1;for(;g;)d.unshift(g),g=g.parentNode;for(g=e;g;)l.unshift(g),g=g.parentNode;c=d.length;e=l.length;for(g=0;g<c&&g<e;g++)if(d[g]!==l[g])return h(d[g],l[g]);return g===c?h(a,l[g],-1):h(d[g],b,1)};[0,0].sort(A);ia=!K;c.uniqueSort=function(a){var b,c=[],e=1,d=0;K=ia;a.sort(A);if(K){for(;b=a[e];e++)b===a[e-1]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};D=c.compile=function(a,b){var c,e=[],d=[],l=Na[M][a+
" "];if(!l){b||(b=k(a));for(c=b.length;c--;)l=q(b[c]),l[M]?e.push(l):d.push(l);l=Na(a,r(d,e))}return l};P.querySelectorAll&&function(){var a,b=C,e=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,g=[":focus"],t=[":active"],f=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||F.msMatchesSelector;T(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
a.querySelectorAll(":checked").length||g.push(":checked")});T(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||g.push(":enabled",":disabled")});g=new RegExp(g.join("|"));C=function(a,c,d,l,t){if(!l&&!t&&!g.test(a)){var f,h,u=!0,n=M;h=c;f=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){f=k(a);(u=c.getAttribute("id"))?
n=u.replace(e,"\\$&"):c.setAttribute("id",n);n="[id='"+n+"'] ";for(h=f.length;h--;)f[h]=n+f[h].join("");h=Y.test(a)&&c.parentNode||c;f=f.join(",")}if(f)try{return na.apply(d,R.call(h.querySelectorAll(f),0)),d}catch(m){}finally{u||c.removeAttribute("id")}}return b(a,c,d,l,t)};f&&(T(function(b){a=f.call(b,"div");try{f.call(b,"[test!='']:sizzle"),t.push("!=",S)}catch(c){}}),t=new RegExp(t.join("|")),c.matchesSelector=function(b,e){e=e.replace(d,"='$1']");if(!J(b)&&!t.test(e)&&!g.test(e))try{var h=f.call(b,
e);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(u){}return 0<c(e,null,null,[b]).length})}();z.pseudos.nth=z.pseudos.eq;z.filters=E.prototype=z.pseudos;z.setFilters=new E;c.attr=e.attr;e.find=c;e.expr=c.selectors;e.expr[":"]=e.expr.pseudos;e.unique=c.uniqueSort;e.text=c.getText;e.isXMLDoc=c.isXML;e.contains=c.contains})(a);var Mb=/Until$/,Nb=/^(?:parents|prev(?:Until|All))/,Eb=/^.[^:#\[\.,]*$/,pb=e.expr.match.needsContext,Ob={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(a){var b,
c,d,g,f,h,k=this;if("string"!==typeof a)return e(a).filter(function(){b=0;for(c=k.length;b<c;b++)if(e.contains(k[b],this))return!0});h=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(d=h.length,e.find(a,this[b],h),0<b)for(g=d;g<h.length;g++)for(f=0;f<d;f++)if(h[f]===h[g]){h.splice(g--,1);break}return h},has:function(a){var b,c=e(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",
a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?pb.test(a)?0<=e(a,this.context).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,d=0,g=this.length,f=[],h=pb.test(a)||"string"!==typeof a?e(a,b||this.context):0;d<g;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):e.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}f=1<f.length?e.unique(f):f;
return this.pushStack(f,"closest",a)},index:function(a){return a?"string"===typeof a?e.inArray(this[0],e(a)):e.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"===typeof a?e(a,b):e.makeArray(a&&a.nodeType?[a]:a),d=e.merge(this.get(),c);return this.pushStack(m(c[0])||m(d[0])?d:e.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.fn.andSelf=e.fn.addBack;e.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return e.dir(a,"parentNode")},parentsUntil:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return e.dir(a,"nextSibling")},prevAll:function(a){return e.dir(a,"previousSibling")},nextUntil:function(a,b,c){return e.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return e.dir(a,"previousSibling",c)},siblings:function(a){return e.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return e.sibling(a.firstChild)},contents:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.merge([],a.childNodes)}},function(a,b){e.fn[a]=function(c,d){var g=e.map(this,b,c);Mb.test(a)||(d=c);d&&"string"===typeof d&&(g=e.filter(d,g));g=1<this.length&&!Ob[a]?e.unique(g):g;1<this.length&&Nb.test(a)&&(g=g.reverse());return this.pushStack(g,a,O.call(arguments).join(","))}});e.extend({filter:function(a,b,c){c&&(a=":not("+a+")");
return 1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,c,d){var g=[];for(a=a[c];a&&9!==a.nodeType&&(d===b||1!==a.nodeType||!e(a).is(d));)1===a.nodeType&&g.push(a),a=a[c];return g},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var hb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:null|\d+)"/g,
cb=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rb=/<([\w:]+)/,Qb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style|link)/i,Tb=/<(?:script|object|embed|option|style)/i,db=new RegExp("<(?:"+hb+")[\\s/>]","i"),ib=/^(?:checkbox|radio)$/,sb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/\/(java|ecma)script/i,Vb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},tb=x(A),eb=tb.appendChild(A.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;e.support.htmlSerialize||(W._default=[1,"X<div>","</div>"]);e.fn.extend({text:function(a){return e.access(this,function(a){return a===b?e.text(this):this.empty().append((this[0]&&
this[0].ownerDocument||A).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(e.isFunction(a))return this.each(function(b){e(this).wrapAll(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(b){e(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=e(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(c){e(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!m(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(a,this),"before",this.selector)}},after:function(){if(!m(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(this,
a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)if(!a||e.filter(a,[c]).length)b||1!==c.nodeType||(e.cleanData(c.getElementsByTagName("*")),e.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&e.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return e.clone(this,
a,b)})},html:function(a){return e.access(this,function(a){var c=this[0]||{},d=0,g=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Pb,""):b;if(!("string"!==typeof a||Sb.test(a)||!e.support.htmlSerialize&&db.test(a)||!e.support.leadingWhitespace&&cb.test(a)||W[(rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(qb,"<$1></$2>");try{for(;d<g;d++)c=this[d]||{},1===c.nodeType&&(e.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},
replaceWith:function(a){if(!m(this[0])){if(e.isFunction(a))return this.each(function(b){var c=e(this),d=c.html();c.replaceWith(a.call(this,b,d))});"string"!==typeof a&&(a=e(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;e(this).remove();b?e(b).before(a):e(c).append(a)})}return this.length?this.pushStack(e(e.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var g,f,h,k=0,n=a[0],
m=[],p=this.length;if(!e.support.checkClone&&1<p&&"string"===typeof n&&sb.test(n))return this.each(function(){e(this).domManip(a,c,d)});if(e.isFunction(n))return this.each(function(g){var f=e(this);a[0]=n.call(this,g,c?f.html():b);f.domManip(a,c,d)});if(this[0]){g=e.buildFragment(a,this,m);h=g.fragment;f=h.firstChild;1===h.childNodes.length&&(h=f);if(f)for(c=c&&e.nodeName(f,"tr"),g=g.cacheable||p-1;k<p;k++)d.call(c&&e.nodeName(this[k],"table")?r(this[k],"tbody"):this[k],k===g?h:e.clone(h,!0,!0));
h=f=null;m.length&&e.each(m,function(a,b){b.src?e.ajax?e.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):e.error("no ajax"):e.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Vb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.buildFragment=function(a,c,d){var g,f,h,k=a[0];c=c||A;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;!(1===a.length&&"string"===typeof k&&512>k.length&&c===A&&"<"===k.charAt(0))||Tb.test(k)||!e.support.checkClone&&sb.test(k)||
!e.support.html5Clone&&db.test(k)||(f=!0,g=e.fragments[k],h=g!==b);g||(g=c.createDocumentFragment(),e.clean(a,c,g,d),f&&(e.fragments[k]=h&&g));return{fragment:g,cacheable:f}};e.fragments={};e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(c){var d,g=0,f=[];c=e(c);var h=c.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;
for(;g<h;g++)d=(0<g?this.clone(!0):this).get(),e(c[g])[b](d),f=f.concat(d);return this.pushStack(f,a,c.selector)}});e.extend({clone:function(a,b,c){var d,g,f,h;e.support.html5Clone||e.isXMLDoc(a)||!db.test("<"+a.nodeName+">")?h=a.cloneNode(!0):(eb.innerHTML=a.outerHTML,eb.removeChild(h=eb.firstChild));if(!(e.support.noCloneEvent&&e.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||e.isXMLDoc(a)))for(B(a,h),d=k(a),g=k(h),f=0;d[f];++f)g[f]&&B(d[f],g[f]);if(b&&(q(a,h),c))for(d=k(a),g=k(h),f=0;d[f];++f)q(d[f],
g[f]);return h},clean:function(a,b,c,d){var g,f,h,k,m,p,y=b===A&&tb,q=[];b&&"undefined"!==typeof b.createDocumentFragment||(b=A);for(g=0;null!=(h=a[g]);g++)if("number"===typeof h&&(h+=""),h){if("string"===typeof h)if(Rb.test(h)){y=y||x(b);p=b.createElement("div");y.appendChild(p);h=h.replace(qb,"<$1></$2>");f=(rb.exec(h)||["",""])[1].toLowerCase();k=W[f]||W._default;m=k[0];for(p.innerHTML=k[1]+h+k[2];m--;)p=p.lastChild;if(!e.support.tbody)for(m=Qb.test(h),k="table"!==f||m?"<table>"!==k[1]||m?[]:p.childNodes:
p.firstChild&&p.firstChild.childNodes,f=k.length-1;0<=f;--f)e.nodeName(k[f],"tbody")&&!k[f].childNodes.length&&k[f].parentNode.removeChild(k[f]);!e.support.leadingWhitespace&&cb.test(h)&&p.insertBefore(b.createTextNode(cb.exec(h)[0]),p.firstChild);h=p.childNodes;p.parentNode.removeChild(p)}else h=b.createTextNode(h);h.nodeType?q.push(h):e.merge(q,h)}p&&(h=p=y=null);if(!e.support.appendChecked)for(g=0;null!=(h=q[g]);g++)e.nodeName(h,"input")?n(h):"undefined"!==typeof h.getElementsByTagName&&e.grep(h.getElementsByTagName("input"),
n);if(c)for(a=function(a){if(!a.type||Ub.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},g=0;null!=(h=q[g]);g++)e.nodeName(h,"script")&&a(h)||(c.appendChild(h),"undefined"!==typeof h.getElementsByTagName&&(h=e.grep(e.merge([],h.getElementsByTagName("script")),a),q.splice.apply(q,[g+1,0].concat(h)),g+=h.length));return q},cleanData:function(a,b){for(var c,d,g,f,h=0,k=e.expando,n=e.cache,m=e.support.deleteExpando,p=e.event.special;null!=(g=a[h]);h++)if(b||
e.acceptData(g))if(c=(d=g[k])&&n[d]){if(c.events)for(f in c.events)p[f]?e.event.remove(g,f):e.removeEvent(g,f,c.handle);n[d]&&(delete n[d],m?delete g[k]:g.removeAttribute?g.removeAttribute(k):g[k]=null,e.deletedIds.push(d))}}});(function(){var a,b;e.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||
"",version:a[2]||"0"}};a=e.uaMatch(Ya.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);e.browser=b;e.sub=function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&d instanceof e&&!(d instanceof a)&&(d=a(d));return e.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(A);return a}})();var N,sa,ta,fb=/alpha\([^)]*\)/i,
Wb=/opacity=([^)]*)/,Xb=/^(top|right|bottom|left)$/,Yb=/^(none|table(?!-c[ea]).+)/,ub=/^margin/,Fb=new RegExp("^("+X+")(.*)$","i"),Oa=new RegExp("^("+X+")(?!px)[a-z%]+$","i"),Zb=new RegExp("^([-+])=("+X+")","i"),Va={BODY:"block"},$b={position:"absolute",visibility:"hidden",display:"block"},vb={letterSpacing:0,fontWeight:400},fa=["Top","Right","Bottom","Left"],jb=["Webkit","O","Moz","ms"],ac=e.fn.toggle;e.fn.extend({css:function(a,c){return e.access(this,function(a,c,d){return d!==b?e.style(a,c,d):
e.css(a,c)},a,c,1<arguments.length)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a,b){var c="boolean"===typeof a;return e.isFunction(a)&&e.isFunction(b)?ac.apply(this,arguments):this.each(function(){(c?a:E(this))?e(this).show():e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=N(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,c,d,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,h,k,n=e.camelCase(c),m=a.style;c=e.cssProps[n]||(e.cssProps[n]=C(m,n));k=e.cssHooks[c]||e.cssHooks[n];if(d!==b){if(h=typeof d,"string"===h&&(f=Zb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(e.css(a,c)),h="number"),!(null==d||"number"===h&&isNaN(d)||("number"!==h||e.cssNumber[n]||(d+="px"),k&&"set"in k&&(d=k.set(a,d,g))===b)))try{m[c]=d}catch(p){}}else return k&&"get"in k&&(f=k.get(a,!1,g))!==b?f:m[c]}},
css:function(a,c,d,g){var f,h;h=e.camelCase(c);c=e.cssProps[h]||(e.cssProps[h]=C(a.style,h));(h=e.cssHooks[c]||e.cssHooks[h])&&"get"in h&&(f=h.get(a,!0,g));f===b&&(f=N(a,c));"normal"===f&&c in vb&&(f=vb[c]);return d||g!==b?(a=parseFloat(f),d||e.isNumeric(a)?a||0:f):f},swap:function(a,b,c){var e,d={};for(e in b)d[e]=a.style[e],a.style[e]=b[e];c=c.call(a);for(e in b)a.style[e]=d[e];return c}});a.getComputedStyle?N=function(b,c){var d,g,f,h,k=a.getComputedStyle(b,null),n=b.style;k&&(d=k.getPropertyValue(c)||
k[c],""!==d||e.contains(b.ownerDocument,b)||(d=e.style(b,c)),Oa.test(d)&&ub.test(c)&&(g=n.width,f=n.minWidth,h=n.maxWidth,n.minWidth=n.maxWidth=n.width=d,d=k.width,n.width=g,n.minWidth=f,n.maxWidth=h));return d}:A.documentElement.currentStyle&&(N=function(a,b){var c,e,d=a.currentStyle&&a.currentStyle[b],g=a.style;null==d&&g&&g[b]&&(d=g[b]);if(Oa.test(d)&&!Xb.test(b)){c=g.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":d;d=g.pixelLeft+
"px";g.left=c;e&&(a.runtimeStyle.left=e)}return""===d?"auto":d});e.each(["height","width"],function(a,b){e.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Yb.test(N(a,"display"))?e.swap(a,$b,function(){return D(a,b,d)}):D(a,b,d)},set:function(a,c,d){return H(a,c,d?y(a,b,d,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing")):0)}}});e.support.opacity||(e.cssHooks.opacity={get:function(a,b){return Wb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+
"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,g=e.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&""===e.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=fb.test(f)?f.replace(fb,g):f+" "+g}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight={get:function(a,b){return e.swap(a,{display:"inline-block"},function(){if(b)return N(a,"marginRight")})}});!e.support.pixelPosition&&
e.fn.position&&e.each(["top","left"],function(a,b){e.cssHooks[b]={get:function(a,c){if(c){var d=N(a,b);return Oa.test(d)?e(a).position()[b]+"px":d}}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!e.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||N(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(c){var d=
"string"===typeof c?c.split(" "):[c],e={};for(c=0;4>c;c++)e[a+fa[c]+b]=d[c]||d[c-2]||d[0];return e}};ub.test(a)||(e.cssHooks[a+b].set=H)});var bc=/%20/g,Gb=/\[\]$/,wb=/\r?\n/g,cc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,dc=/^(?:select|textarea)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?e.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||dc.test(this.nodeName)||cc.test(this.type))}).map(function(a,b){var c=e(this).val();return null==c?null:e.isArray(c)?e.map(c,function(a,c){return{name:b.name,value:a.replace(wb,"\r\n")}}):{name:b.name,value:c.replace(wb,"\r\n")}}).get()}});e.param=function(a,c){var d,g=[],f=function(a,b){b=e.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,
function(){f(this.name,this.value)});else for(d in a)I(d,a[d],c,f);return g.join("&").replace(bc,"+")};var qa,ra,ec=/#.*$/,fc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,gc=/^(?:GET|HEAD)$/,hc=/^\/\//,xb=/\?/,ic=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,jc=/([?&])_=[^&]*/,yb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zb=e.fn.load,Wa={},Ab={},Bb=["*/"]+["*"];try{ra=Xa.href}catch(t){ra=A.createElement("a"),ra.href="",ra=ra.href}qa=yb.exec(ra.toLowerCase())||[];e.fn.load=function(a,c,d){if("string"!==
typeof a&&zb)return zb.apply(this,arguments);if(!this.length)return this;var g,f,h,k=this,n=a.indexOf(" ");0<=n&&(g=a.slice(n,a.length),a=a.slice(0,n));e.isFunction(c)?(d=c,c=b):c&&"object"===typeof c&&(f="POST");e.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&k.each(d,h||[a.responseText,b,a])}}).done(function(a){h=arguments;k.html(g?e("<div>").append(a.replace(ic,"")).find(g):a)});return this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){e.fn[b]=function(a){return this.on(b,a)}});e.each(["get","post"],function(a,c){e[c]=function(a,d,g,f){e.isFunction(d)&&(f=f||g,g=d,d=b);return e.ajax({type:c,url:a,data:d,success:g,dataType:f})}});e.extend({getScript:function(a,c){return e.get(a,b,c,"script")},getJSON:function(a,b,c){return e.get(a,b,c,"json")},ajaxSetup:function(a,b){b?R(a,e.ajaxSettings):(b=a,a=e.ajaxSettings);R(a,b);return a},ajaxSettings:{url:ra,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(qa[1]),
global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:V(Wa),ajaxTransport:V(Ab),ajax:function(a,
c){function d(a,c,h,l){var m,t,u,y,v=c;if(2!==J){J=2;n&&clearTimeout(n);k=b;f=l||"";D.readyState=0<a?4:0;if(h){y=q;l=D;var x,B,G,A,K=y.contents,I=y.dataTypes,ia=y.responseFields;for(B in ia)B in h&&(l[ia[B]]=h[B]);for(;"*"===I[0];)I.shift(),x===b&&(x=y.mimeType||l.getResponseHeader("content-type"));if(x)for(B in K)if(K[B]&&K[B].test(x)){I.unshift(B);break}if(I[0]in h)G=I[0];else{for(B in h){if(!I[0]||y.converters[B+" "+I[0]]){G=B;break}A||(A=B)}G=G||A}G?(G!==I[0]&&I.unshift(G),y=h[G]):y=void 0}if(200<=
a&&300>a||304===a)if(q.ifModified&&((h=D.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=h),(h=D.getResponseHeader("Etag"))&&(e.etag[g]=h)),304===a)v="notmodified",m=!0;else{a:{t=q;u=y;var F,P,v=t.dataTypes.slice();x=v[0];B={};G=0;t.dataFilter&&(u=t.dataFilter(u,t.dataType));if(v[1])for(F in t.converters)B[F.toLowerCase()]=t.converters[F];for(;h=v[++G];)if("*"!==h){if("*"!==x&&x!==h){F=B[x+" "+h]||B["* "+h];if(!F)for(P in B)if(m=P.split(" "),m[1]===h&&(F=B[x+" "+m[0]]||B["* "+m[0]])){!0===
F?F=B[P]:!0!==B[P]&&(h=m[0],v.splice(G--,0,h));break}if(!0!==F)if(F&&t["throws"])u=F(u);else try{u=F(u)}catch(Q){m={state:"parsererror",error:F?Q:"No conversion from "+x+" to "+h};break a}}x=h}m={state:"success",data:u}}v=m.state;t=m.data;u=m.error;m=!u}else if(u=v,!v||a)v="error",0>a&&(a=0);D.status=a;D.statusText=(c||v)+"";m?E.resolveWith(r,[t,v,D]):E.rejectWith(r,[D,v,u]);D.statusCode(H);H=b;p&&C.trigger("ajax"+(m?"Success":"Error"),[D,q,m?t:u]);z.fireWith(r,[D,v]);p&&(C.trigger("ajaxComplete",
[D,q]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);c=c||{};var g,f,h,k,n,m,p,y,q=e.ajaxSetup({},c),r=q.context||q,C=r!==q&&(r.nodeType||r instanceof e)?e(r):e.event,E=e.Deferred(),z=e.Callbacks("once memory"),H=q.statusCode||{},x={},B={},J=0,G="canceled",D={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=B[c]=B[c]||a;x[a]=b}return this},getAllResponseHeaders:function(){return 2===J?f:null},getResponseHeader:function(a){var c;if(2===J){if(!h)for(h=
{};c=fc.exec(f);)h[c[1].toLowerCase()]=c[2];c=h[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){J||(q.mimeType=a);return this},abort:function(a){a=a||G;k&&k.abort(a);d(0,a);return this}};E.promise(D);D.success=D.done;D.error=D.fail;D.complete=z.add;D.statusCode=function(a){if(a){var b;if(2>J)for(b in a)H[b]=[H[b],a[b]];else b=a[D.status],D.always(b)}return this};q.url=((a||q.url)+"").replace(ec,"").replace(hc,qa[1]+"//");q.dataTypes=e.trim(q.dataType||"*").toLowerCase().split(ba);
null==q.crossDomain&&(m=yb.exec(q.url.toLowerCase()),q.crossDomain=!(!m||m[1]===qa[1]&&m[2]===qa[2]&&(m[3]||("http:"===m[1]?80:443))==(qa[3]||("http:"===qa[1]?80:443))));q.data&&q.processData&&"string"!==typeof q.data&&(q.data=e.param(q.data,q.traditional));Q(Wa,q,c,D);if(2===J)return D;p=q.global;q.type=q.type.toUpperCase();q.hasContent=!gc.test(q.type);p&&0===e.active++&&e.event.trigger("ajaxStart");if(!q.hasContent&&(q.data&&(q.url+=(xb.test(q.url)?"&":"?")+q.data,delete q.data),g=q.url,!1===q.cache)){m=
e.now();var A=q.url.replace(jc,"$1_="+m);q.url=A+(A===q.url?(xb.test(q.url)?"&":"?")+"_="+m:"")}(q.data&&q.hasContent&&!1!==q.contentType||c.contentType)&&D.setRequestHeader("Content-Type",q.contentType);q.ifModified&&(g=g||q.url,e.lastModified[g]&&D.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&D.setRequestHeader("If-None-Match",e.etag[g]));D.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+Bb+"; q=0.01":
""):q.accepts["*"]);for(y in q.headers)D.setRequestHeader(y,q.headers[y]);if(q.beforeSend&&(!1===q.beforeSend.call(r,D,q)||2===J))return D.abort();G="abort";for(y in{success:1,error:1,complete:1})D[y](q[y]);if(k=Q(Ab,q,c,D)){D.readyState=1;p&&C.trigger("ajaxSend",[D,q]);q.async&&0<q.timeout&&(n=setTimeout(function(){D.abort("timeout")},q.timeout));try{J=1,k.send(x,d)}catch(K){if(2>J)d(-1,K);else throw K;}}else d(-1,"No Transport");return D},active:0,lastModified:{},etag:{}});var Cb=[],kc=/\?/,Sa=
/(=)\?(?=&|$)|\?\?/,lc=e.now();e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Cb.pop()||e.expando+"_"+lc++;this[a]=!0;return a}});e.ajaxPrefilter("json jsonp",function(c,d,g){var f,h,k,n=c.data,m=c.url,q=!1!==c.jsonp,p=q&&Sa.test(m),y=q&&!p&&"string"===typeof n&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sa.test(n);if("jsonp"===c.dataTypes[0]||p||y)return f=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h=a[f],p?c.url=m.replace(Sa,
"$1"+f):y?c.data=n.replace(Sa,"$1"+f):q&&(c.url+=(kc.test(m)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){k||e.error(f+" was not called");return k[0]},c.dataTypes[0]="json",a[f]=function(){k=arguments},g.always(function(){a[f]=h;c[f]&&(c.jsonpCallback=d.jsonpCallback,Cb.push(f));k&&e.isFunction(h)&&h(k[0]);k=h=b}),"script"});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},
converters:{"text script":function(a){e.globalEval(a);return a}}});e.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(e,g){c=A.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=
c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var Ca,gb=a.ActiveXObject?function(){for(var a in Ca)Ca[a](0,1)}:!1,mc=0;e.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ga()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:ga;(function(a){e.extend(e.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(e.ajaxSettings.xhr());
e.support.ajax&&e.ajaxTransport(function(c){if(!c.crossDomain||e.support.cors){var d;return{send:function(g,f){var h,k,n=c.xhr();c.username?n.open(c.type,c.url,c.async,c.username,c.password):n.open(c.type,c.url,c.async);if(c.xhrFields)for(k in c.xhrFields)n[k]=c.xhrFields[k];c.mimeType&&n.overrideMimeType&&n.overrideMimeType(c.mimeType);c.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");try{for(k in g)n.setRequestHeader(k,g[k])}catch(m){}n.send(c.hasContent&&c.data||null);
d=function(a,g){var k,l,m,q,p;try{if(d&&(g||4===n.readyState))if(d=b,h&&(n.onreadystatechange=e.noop,gb&&delete Ca[h]),g)4!==n.readyState&&n.abort();else{k=n.status;m=n.getAllResponseHeaders();q={};(p=n.responseXML)&&p.documentElement&&(q.xml=p);try{q.text=n.responseText}catch(y){}try{l=n.statusText}catch(y){l=""}k||!c.isLocal||c.crossDomain?1223===k&&(k=204):k=q.text?200:404}}catch(y){g||f(-1,y)}q&&f(k,l,q,m)};c.async?4===n.readyState?setTimeout(d,0):(h=++mc,gb&&(Ca||(Ca={},e(a).unload(gb)),Ca[h]=
d),n.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var ua,Ta,nc=/^(?:toggle|show|hide)$/,oc=new RegExp("^(?:([-+])=|)("+X+")([a-z%]*)$","i"),pc=/queueHooks$/,Pa=[function(a,b,c){var d,g,f,h,k,n,m=this,q=a.style,p={},y=[],r=a.nodeType&&E(a);c.queue||(k=e._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,n=k.empty.fire,k.empty.fire=function(){k.unqueued||n()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--;e.queue(a,"fx").length||k.empty.fire()})}));1===a.nodeType&&
("height"in b||"width"in b)&&(c.overflow=[q.overflow,q.overflowX,q.overflowY],"inline"===e.css(a,"display")&&"none"===e.css(a,"float")&&(e.support.inlineBlockNeedsLayout&&"inline"!==J(a.nodeName)?q.zoom=1:q.display="inline-block"));c.overflow&&(q.overflow="hidden",e.support.shrinkWrapBlocks||m.done(function(){q.overflow=c.overflow[0];q.overflowX=c.overflow[1];q.overflowY=c.overflow[2]}));for(d in b)f=b[d],nc.exec(f)&&(delete b[d],g=g||"toggle"===f,f!==(r?"hide":"show")&&y.push(d));if(b=y.length)for(f=
e._data(a,"fxshow")||e._data(a,"fxshow",{}),("hidden"in f)&&(r=f.hidden),g&&(f.hidden=!r),r?e(a).show():m.done(function(){e(a).hide()}),m.done(function(){var b;e.removeData(a,"fxshow",!0);for(b in p)e.style(a,b,p[b])}),d=0;d<b;d++)g=y[d],h=m.createTween(g,r?f[g]:0),p[g]=f[g]||e.style(a,g),g in f||(f[g]=h.start,r&&(h.end=h.start,h.start="width"===g||"height"===g?1:0))}],Fa={"*":[function(a,b){var c,d,g=this.createTween(a,b),f=oc.exec(b),h=g.cur(),k=+h||0,n=1,m=20;if(f){c=+f[2];d=f[3]||(e.cssNumber[a]?
"":"px");if("px"!==d&&k){k=e.css(g.elem,a,!0)||c||1;do n=n||".5",k/=n,e.style(g.elem,a,k+d);while(n!==(n=g.cur()/h)&&1!==n&&--m)}g.unit=d;g.start=k;g.end=f[1]?k+(f[1]+1)*c:c}return g}]};e.Animation=e.extend(la,{tweener:function(a,b){e.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,g=a.length;d<g;d++)c=a[d],Fa[c]=Fa[c]||[],Fa[c].unshift(b)},prefilter:function(a,b){b?Pa.unshift(a):Pa.push(a)}});e.Tween=F;F.prototype={constructor:F,init:function(a,b,c,d,g,f){this.elem=a;this.prop=c;this.easing=
g||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(e.cssNumber[c]?"":"px")},cur:function(){var a=F.propHooks[this.prop];return a&&a.get?a.get(this):F.propHooks._default.get(this)},run:function(a){var b,c=F.propHooks[this.prop];this.pos=this.options.duration?b=e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):
F.propHooks._default.set(this);return this}};F.prototype.init.prototype=F.prototype;F.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=e.css(a.elem,a.prop,!1,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(e.fx.step[a.prop])e.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.each(["toggle","show","hide"],function(a,b){var c=e.fn[b];e.fn[b]=function(d,g,f){return null==d||"boolean"===typeof d||!a&&e.isFunction(d)&&e.isFunction(g)?c.apply(this,arguments):this.animate(S(b,!0),d,g,f)}});e.fn.extend({fadeTo:function(a,b,c,d){return this.filter(E).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var g=e.isEmptyObject(a),f=e.speed(b,c,d);b=function(){var b=la(this,e.extend({},a),f);g&&b.stop(!0)};
return g||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,c,d){var g=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=c,c=a,a=b);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=e.timers,h=e._data(this);if(c)h[c]&&h[c].stop&&g(h[c]);else for(c in h)h[c]&&h[c].stop&&pc.test(c)&&g(h[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||e.dequeue(this,a)})}});
e.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});e.speed=function(a,b,c){var d=a&&"object"===typeof a?e.extend({},a):{complete:c||!c&&b||e.isFunction(a)&&a,duration:a,easing:c&&b||b&&!e.isFunction(b)&&b};d.duration=e.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in e.fx.speeds?e.fx.speeds[d.duration]:e.fx.speeds._default;
if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){e.isFunction(d.old)&&d.old.call(this);d.queue&&e.dequeue(this,d.queue)};return d};e.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=F.prototype.init;e.fx.tick=function(){var a,c=e.timers,d=0;for(ua=e.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||e.fx.stop();ua=b};e.fx.timer=function(a){a()&&e.timers.push(a)&&!Ta&&(Ta=setInterval(e.fx.tick,
e.fx.interval))};e.fx.interval=13;e.fx.stop=function(){clearInterval(Ta);Ta=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=function(a){return e.grep(e.timers,function(b){return a===b.elem}).length});var Db=/^(?:body|html)$/i;e.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){e.offset.setOffset(this,a,b)});var c,d,g,f,h,k={top:0,left:0};if(g=(f=this[0])&&f.ownerDocument){if((d=g.body)===f)return e.offset.bodyOffset(f);
c=g.documentElement;if(!e.contains(c,f))return k;"undefined"!==typeof f.getBoundingClientRect&&(k=f.getBoundingClientRect());g=Ra(g);f=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;h=g.pageYOffset||c.scrollTop;c=g.pageXOffset||c.scrollLeft;return{top:k.top+h-f,left:k.left+c-d}}};e.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;e.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(e.css(a,"marginTop"))||0,c+=parseFloat(e.css(a,"marginLeft"))||0);return{top:b,left:c}},
setOffset:function(a,b,c){var d=e.css(a,"position");"static"===d&&(a.style.position="relative");var g=e(a),f=g.offset(),h=e.css(a,"top"),k=e.css(a,"left"),n={},m={};("absolute"===d||"fixed"===d)&&-1<e.inArray("auto",[h,k])?(m=g.position(),d=m.top,k=m.left):(d=parseFloat(h)||0,k=parseFloat(k)||0);e.isFunction(b)&&(b=b.call(a,c,f));null!=b.top&&(n.top=b.top-f.top+d);null!=b.left&&(n.left=b.left-f.left+k);"using"in b?b.using.call(a,n):g.css(n)}};e.fn.extend({position:function(){if(this[0]){var a=this[0],
b=this.offsetParent(),c=this.offset(),d=Db.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e.css(a,"marginTop"))||0;c.left-=parseFloat(e.css(a,"marginLeft"))||0;d.top+=parseFloat(e.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(e.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||A.body;a&&!Db.test(a.nodeName)&&"static"===e.css(a,"position");)a=a.offsetParent;return a||A.body})}});
e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);e.fn[a]=function(g){return e.access(this,function(a,g,f){var h=Ra(a);if(f===b)return h?c in h?h[c]:h.document.documentElement[g]:a[g];h?h.scrollTo(d?e(h).scrollLeft():f,d?f:e(h).scrollTop()):a[g]=f},a,g,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,c){e.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,g){e.fn[g]=function(g,f){var h=arguments.length&&(d||"boolean"!==typeof g),
k=d||(!0===g||!0===f?"margin":"border");return e.access(this,function(c,d,g){return e.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(d=c.documentElement,Math.max(c.body["scroll"+a],d["scroll"+a],c.body["offset"+a],d["offset"+a],d["client"+a])):g===b?e.css(c,d,g,k):e.style(c,d,g,k)},c,h?g:b,h,null)}})});a.jQuery=a.$=e;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return e})})(window);(function(a){a(jQuery)})(function(a){if(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)return a;var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");a.ajaxTransport("* text html xml json",function(f,h,g){if(f.crossDomain&&f.async&&c.test(f.type)&&b.test(f.url)&&d.test(f.url)){var m=null;return{send:function(b,c){var d="",g=(h.dataType||"").toLowerCase();m=new XDomainRequest;/^\d+$/.test(h.timeout)&&(m.timeout=h.timeout);m.ontimeout=function(){c(500,"timeout")};
m.onload=function(){var b="Content-Length: "+m.responseText.length+"\r\nContent-Type: "+m.contentType,d=200,f="success",h={text:m.responseText};try{if("html"===g||/text\/html/i.test(m.contentType))h.html=m.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(m.contentType))try{h.json=a.parseJSON(m.responseText)}catch(p){d=500,f="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(m.contentType)){var C=new ActiveXObject("Microsoft.XMLDOM");C.async=!1;try{C.loadXML(m.responseText)}catch(p){C=
void 0}if(!C||!C.documentElement||C.getElementsByTagName("parsererror").length)throw d=500,f="parseerror","Invalid XML: "+m.responseText;h.xml=C}}catch(p){throw p;}finally{c(d,f,h,b)}};m.onprogress=function(){};m.onerror=function(){c(500,"error",{text:m.responseText})};h.data&&(d="string"===a.type(h.data)?h.data:a.param(h.data));m.open(f.type,f.url);m.send(d)},abort:function(){m&&m.abort()}}}});return a});var QYJSUtil={};
QYJSUtil.browsers={chrome:/chrome\/([\d.]+)/i.test(navigator.userAgent),mozilla:/firefox\/([\d.]+)/i.test(navigator.userAgent),ie6:!!window.ActiveXObject&&!window.XMLHttpRequest,ie7:"Microsoft Internet Explorer"==navigator.appName&&"7."==navigator.appVersion.match(/7./i),ie8:"Microsoft Internet Explorer"==navigator.appName&&"8."==navigator.appVersion.match(/8./i),ie9:"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./i),ie10:10==document.documentMode&&/msie\s10/i.test(navigator.userAgent),
ie11:document.documentMode&&!document.all,ie:document.all,isie:window.ActiveXObject||document.documentMode};
QYJSUtil.QYmessagcoder={decodeUploadFileStatusXML:function(a){if(!a)return!1;a=$.parseXML(a);a=$(a).find("data");var b={};b.id=a.attr("id");b.uploadSize=a.attr("uploadSize");b.percent=a.attr("percent");b.size=a.attr("size");return b},decodeQYMessageXML:function(a,b,c,d,f,h){function g(a){var b=a.match(RegExp('(?:ftp|ftps|http|https)://[^<>"\u201c\u201d\\s\\u4e00-\\u9fa5]*',"ig")),c=!1,d=[],g=a;if(b)for(var f=0;f<b.length;f++){var h=b[f],c=!0,k=h.replace(/\//gi,"\\/"),k=k.replace(/\./gi,"\\."),k=k.replace(/\|/gi,
"\\|"),k=k.replace(/\_/gi,"\\_"),k=k.replace(/\!/gi,"\\!"),k=k.replace(/\:/gi,"\\:"),k=k.replace(/\{/gi,"\\{"),k=k.replace(/\}/gi,"\\}"),k=k.replace(/\[/gi,"\\["),k=k.replace(/\]/gi,"\\]"),k=k.replace(/\(/gi,"\\("),k=k.replace(/\)/gi,"\\)"),k=k.replace(/\?/gi,"\\?"),k=k.replace(/\+/gi,"\\+"),k=k.replace(/\*/gi,"\\*"),k=k.replace(/\^/gi,"\\^"),k=k.replace(/\$/gi,"\\$"),k=g.search(k);d.push(m(g.substring(0,k)));d.push("<a href="+h+" target='__blank'>"+h+"</a>");g=g.substring(k+h.length)}if(c){a="";
for(f=0;f<d.length;f++)a+=d[f];a+=m(g)}else a=m(a);return a}function m(a){a=a.replace(/&/img,"&amp;");a=a.replace(/</img,"&lt;");a=a.replace(/>/img,"&gt;");a=a.replace(/"/img,"&quot;");a=a.replace(/'/img,"&#39;");a=p(a);return a=a.replace(/\s/ig,"&nbsp;")}function p(a){a=a.replace(/\r\n/gi,"<br/>");a=a.replace(/\n/gi,"<br/>");return a=a.replace(/\r/gi,"<br/>")}var z=b.getConfig("emotionImgPath");"https:"==document.location.protocol&&(z=z.replace("http:","https:"));var x=b.getConfig("emotionMap"),
r=!1;if(!a)return"";a=$.trim(a);try{var q="",B=$.parseXML(a)}catch(J){utils.log("catche",J);q=a.match(/(<m.*?t=)(["|\'])(.*?)(\2)(.*?>.*?<\/m>)/);a=a.replace(/(<m.*?t=)(["|\'])(.*?)(\2)(.*?>.*?<\/m>)/,"$1$2$4$5");a=a.replace(/&#x01;/,"");b.getConfig("debug")&&d.addChatMessage(c.languageInterpret("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6d88\u606f\u89e3\u91ca\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+J));try{B=$.parseXML(a)}catch(I){return utils.log("catche",I),d.addChatMessage(c.languageInterpret("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6d88\u606f\u89e3\u91ca2\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
I)),d.addChatMessage(m(a)),""}}var k=$(B).find("m");d=a="";q?(d=q[3],d=d.replace(/&#x0D;/gm,"\r"),d=d.replace(/&#x0A;/gm,"\n"),d=d.replace(/\r\n/gm,"\n"),d=d.replace(/&nbsp;/gm," "),d=d.replace(/&lt;|&#60;|&#x3c;/gm,"<"),d=d.replace(/&gt;|&#62;|&#x3e;/gm,">"),d=d.replace(/&amp;|&#38;|&#x26;/gm,"&"),d=d.replace(/&quot;|&#34;|&#x22;/gm,'"'),d=d.replace(/&apos;|&#39;|&#x27;/gm,"'")):k.attr("t")&&(d=k.attr("t"),d=d.replace(/\r\n/gm,"\n"));k.attr("f")&&"0"!==k.attr("f")&&(a+=" font-family:arial,"+k.attr("f")+
";");k.attr("h")&&"0"!==k.attr("h")?(a+=" font-size:"+k.attr("h")+"pt;",a+=" line-height:"+(parseInt(k.attr("h"))+15+parseInt(k.attr("h"))/8)+"px;"):a+=" line-height:23px;";k.attr("c")&&(a+=" color :#"+k.attr("c")+";");k.attr("b")&&(a+=" font-weight:bold;");k.attr("i")&&(a+=" font-style:italic;");k.attr("u")&&(a+=" text-decoration:underline;");var B={},n;for(n in x)B[x[n]]=n;var x=k.find("f"),C=0,q=[],k=d,k=[];if(0<x.length){r=!0;for(n=0;n<x.length;n++){var E=x.eq(n),G="",H="",y="",D=[];E.attr("p")&&
(G=E.attr("p"),D.push(parseInt(G)));E.attr("c")&&(H=E.attr("c"),D.push(H));E.attr("b")&&(E.attr("b")&&(y=E.attr("b")),D.push(y));k.push(D)}for(n=0;n<k.length;n++)for(G=n+1;G<k.length;G++)k[G][0]<k[n][0]&&(D=[],D=k[n],k[n]=[],k[n]=k[G],k[G]=[],k[G]=D);for(n=0;n<x.length;n++)G=parseInt(k[n][0]),H=k[n][1],y=k[n][2]?parseInt(k[n][2]):"",C=d.substring(C,G),"inputting"!=f&&(C=g(C)),q.push(C),C="inputting"==f?y?"["+c.languageInterpret("\u8868\u60c5")+"]":"["+c.languageInterpret("\u56fe\u7247")+"]":y?'<img src="'+
z+B[H]+(10==h?"_fix3":"_fix")+'.gif" />':'<img src="'+H+'" imgType="QYpicture" originWidth=""  originHeight="" onclick="javascript:window.open(\''+H+'\')" style="cursor:pointer" target="__blank"/>',q.push(C),C=G+1;if(c=d.substring(C))"inputting"!=f&&(c=g(c)),q.push(c);k="";for(n=0;n<q.length;n++)k+=q[n]}else(k=d)&&"inputting"!=f&&(k=g(k));r?b.setConfig("hasImgInMessage",!0):b.setConfig("hasImgInMessage",!1);k=p(k);return"inputting"==f?k:'<p style="'+a+';word-break:break-all;overflow:hidden;word-wrap:break-word;" class="textIndent">'+
k+"</p>"},encodeQYMessageXML:function(a,b,c){if(!b)return"";var d=c.getConfig("emotionMap"),f=c.getConfig("emotionImgPath");"https:"==document.location.protocol&&(f=f.replace("http:","https:"));f=f.replace(/\//gi,"\\/");f=f.replace(/\./gi,"\\.");c=new RegExp(f,"i");var h=new RegExp(f+"\\d+(\\_fix\\d?)?\\.gif","i");b=b.replace(/<br[^>]*?>/img,"\n");f=$("<div></div>");f.html("").html(b);var g="",m=f.find("img");if(0<m.length)for(var p=0;p<m.length;p++){var z=m[p].outerHTML,x=$(m.eq(p)).attr("src"),
r=z.replace(/\//gi,"\\/"),r=r.replace(/\./gi,"\\."),r=r.replace(/\|/gi,"\\|"),r=r.replace(/\_/gi,"\\_"),r=r.replace(/\!/gi,"\\!");r.replace(/\:/gi,"\\:");r=z.replace(/\{/gi,"\\{");r=r.replace(/\}/gi,"\\}");r=r.replace(/\[/gi,"\\[");r=r.replace(/\]/gi,"\\]");r=r.replace(/\(/gi,"\\(");r=r.replace(/\)/gi,"\\)");r=r.replace(/\?/gi,"\\?");r=r.replace(/\+/gi,"\\+");r=r.replace(/\*/gi,"\\*");r=r.replace(/\^/gi,"\\^");r=r.replace(/\$/gi,"\\$");z=new RegExp(r,"i");r=b.search(z);r=b.substring(0,r);r=r.replace(/&lt;|&gt;|&quot;|&apos;|&amp;|&#39;|&#62;|&#60;|&#34;|&#38;|&#x26;|&#x3c;|&#x3e;|&#x27;|&#x22/img,
"x");r=r.length;h.test(x)?(b=b.replace(z," "),x=x.replace(c,""),x=parseInt(x),g+='<f p="'+r+'" c="'+d[x]+'" b="1"/>'):/^(http|https):\/\//ig.test(x)&&!/[<>'"&]/g.test(x)?(b=b.replace(z," "),g+='<f p="'+r+'" c="'+x+'" />'):b=b.replace(z,"")}b=b.replace(/\n/gim,"&#x0D;&#x0A;");b=b.replace(/</img,"&lt;");b=b.replace(/>/img,"&gt;");b=b.replace(/"/img,"&quot;");b=b.replace(/'/img,"&#39;");b=b.replace(/\\/img,"&#92;");b=' t="'+b+'"   type="0" ';a.fontFamily&&(b+=' f="'+a.fontFamily+'"  ');a.fontSize&&(b+=
' h="'+parseInt(a.fontSize)+'"  ');a.fontColor&&(b+=' c="'+a.fontColor.replace(/#/,"")+'"  ');a.fontWeight&&(b+=' b="'+a.fontWeight+'"  ');a.fontItalic&&(b+=' i="'+a.fontItalic+'"  ');a.fontUnderline&&(b+=' u="'+a.fontUnderline+'"  ');f.html("");return"<m "+b+">"+g+"</m>"},decodeEmotionXML:function(a){if(!a)return!1;var b={},c={};a=$.parseXML(a);$(a).find("item").each(function(){var a=$(this).attr("pic"),f=$(this).attr("symbol"),h=$(this).attr("name");b[a.match(/\d+/)]=f;c[a.match(/\d+/)]=h});return[b,
c]},decodeLanguageXML:function(a){if(!a)return!1;var b={};a=$.parseXML(a);var c=/^(.*?)#\/((?:\/\/)*?(?:[^\/][\/]?)*?)#\/(.*?)$/i;$(a).find("trans_unit").each(function(){var a=1,f=$(this),h=f.find("source").text(),f=f.find("target").text(),h=jQuery.trim(h),f=jQuery.trim(f);if(h&&f){h=h.replace(c,"$1(.*?)$3");for(f=f.replace(c,"$1$$"+a+"$3");c.test(h);)a++,h=h.replace(c,"$1(.*?)$3"),f=f.replace(c,"$1$$"+a+"$3");b["^"+h+"$"]=f}});return b}};
QYJSUtil.QYmessagFormatBuilder={buildMessage:function(a,b,c){var d;switch(b){case 12:return a;case 9:c="v2";d="right";break;case 10:case 4:c="v1";d="left";break;case 0:c="v4";d="right";break;case 1:c="v4";d="left";break;default:c="v3",d="center"}var f="";d&&(f="center"==d?' style=" margin-left: auto;margin-right: auto"':' style=" float: '+d+'" ');return'<div class="messageThemes messageThemes_'+b+'"><table border="0" cellspacing="0" class="'+c+'" '+f+'>    <tr>        <td>            <div class="b" '+
f+'>                <div class="c ht">                    <div class="c hb">                        <div class="c vl">                            <div class="c vr">                                <div class="c lb">                                    <div class="c lt">                                        <div class="c rt">                                            <div class="c rb">                                                <div class="cc">                                                    <div class="ccc">'+
a+"                                                    </div>                                                </div>                                            </div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </td>    </tr></table></div>"}};
QYJSUtil.chatMessageArea=function(a,b,c,d){var f;this.setMessageTitle=function(b){b=b.replace(/\r\n/gi,"<br/>");b=b.replace(/\n/gi,"<br/>");b=b.replace(/\r/gi,"<br/>");"mini"==d.getConfig("wMode")&&d.setConfig("hasImgInMessage",!0);a.html(b)};this.addChatMessage=function(a,c){a=a.replace(/\t/gi,"&nbsp;&nbsp;&nbsp;&nbsp;");if(11!=c||f!=c){f=c;try{b.append(QYJSUtil.QYmessagFormatBuilder.buildMessage(a,c,d))}catch(m){utils.log("catche",m)}}};this.getCurrentDateTime=function(){var a=new Date,b=a.getFullYear(),
c=a.getMonth()+1,d=a.getDate(),f=a.getHours(),x=a.getMinutes(),a=a.getSeconds();return b+"-"+(9<c?"":"0")+c+"-"+(9<d?"":"0")+d+" "+(9<f?"":"0")+f+":"+(9<x?"":"0")+x+":"+(9<a?"":"0")+a};this.addQYChatMessage=function(a,b){a=QYJSUtil.QYmessagcoder.decodeQYMessageXML(a,d,c,this,"",b);this.addChatMessage(a,b)};this.addRawChatMessage=function(a,b){if(0==b||1==b)this.titleType=b;a=a.replace(/\r\n/gi,"<br/>");a=a.replace(/\n/gi,"<br/>");a=a.replace(/\r/gi,"<br/>");a=a.replace(/&#x0A;&#x0D;/gmi,"<br/>");
a=a.replace(/&#x0A;/gmi,"<br/>");a=a.replace(/&#x0D;/gmi,"<br/>");1!=b&&(a=a.replace(/\s/gi,"&nbsp;"));this.addChatMessage(a,b)};this.addNoReformRawChatMessage=function(a,b){this.addChatMessage("<p>"+a+"</p>",b)};this.addNoReformFixedMessage=function(a,c){var d=b.find('p[rel="fixed"]');try{if(d.html())return d.html("").html(a),!0}catch(f){utils.log("catche",f)}this.addChatMessage('<p class="'+c+'" rel="fixed">'+a+"</p>",c)};this.addFixedMessage=function(a,c){a=a.replace(/\r\n/gi,"<br/>");a=a.replace(/\n/gi,
"<br/>");a=a.replace(/\r/gi,"<br/>");a=a.replace(/&#x0A;&#x0D;/gmi,"<br/>");a=a.replace(/&#x0A;/gmi,"<br/>");a=a.replace(/&#x0D;/gmi,"<br/>");a=a.replace(/\s/gi,"&nbsp;");var d=b.find('p[rel="fixed"]');try{if(d.html())return d.html("").html(a),!0}catch(f){utils.log("catche",f)}this.addChatMessage('<p class="'+c+'" rel="fixed">'+a+"</p>",c)};this.getChatContent=function(){return b.html()};this.addClerk=function(a){var b,d;1==a.status?(b=c.languageInterpret("\u5728\u7ebf"),d="#000066"):(b=c.languageInterpret("\u79bb\u7ebf"),
d="#666666");a=" <span class='pickClerkItem' style=' display:inline-block; padding:10px;' > <a class='pickClerk'  no='"+a.clerkId+"' herf='#' nickname='"+a.nickname+"'>"+a.nickname+"<span style='color:"+d+";'>["+b+"]</span></a></span>  ";$("#groupClkListCt").append(a)}};
QYJSUtil.RichText=function(a,b,c){var d,f,h;a=navigator.userAgent.toLowerCase();var g="";d=/msie ([\d.]+)/.test(a);f=/firefox\/([\d.]+)/.test(a);h=/chrome\/([\d.]+)/.test(a);var m=!!window.ActiveXObject&&!window.XMLHttpRequest,p="Microsoft Internet Explorer"==navigator.appName&&"7."==navigator.appVersion.match(/7./i),z="Microsoft Internet Explorer"==navigator.appName&&"8."==navigator.appVersion.match(/8./i);"Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion.match(/9./i);var x=
/msie/i.test(navigator.userAgent)&&function(){return void 0===this}(),r=/netscape/.test(navigator.appName.toLowerCase())&&/like\sgecko/.test(a),q="",B="",k=this,n,C,E={},G=function(a,b){var c=null,k=null;a.focus();if(d&&!x)c=g?g:a.document.selection.createRange(),c.parentElement&&c.parentElement().document!=a.document&&(c=null);else if(f||h||x||r)k=a.getSelection(),0<k.rangeCount&&(c=k.getRangeAt(0));if(null!=c)if(d&&!x){if(void 0!=c.pasteHTML)return c.collapse(!1),c.select(),c.pasteHTML(b),!0}else if((f||
h||x||r)&&void 0!=c.deleteContents&&void 0!=c.insertNode){var n=c.createContextualFragment(b),m=n.lastChild;c.insertNode(n);c.setEndAfter(m);c.collapse(!1);k.removeAllRanges();k.addRange(c);return!0}return!1},H=function(a){n=$("#"+a);n.html('<iframe frameborder="0" style="padding:0px;border:none;width:100%;height:100%;"></iframe>');B=n.find("iframe")[0].contentWindow;q=B.document;a="";r&&!document.all&&(a="<style>html p{margin:0px; padding:0px;}</style>");q.open();q.write('<html><head><meta charset="utf-8" /><title></title>'+
a+'</head><body style=\'font-family: arial,"Microsoft YaHei","\u5fae\u8f6f\u96c5\u9ed1", "\u5b8b\u4f53";margin:0px; padding:0;padding-left:2px;height: 100%;'+(m||p||z?" overflow-x:auto;":" overflow-x:hidden;")+"word-break:break-all;' ></body></html>");q.close();d?(q.body.disabled=!0,q.body.contentEditable=!0,q.body.disabled=!1):q.body.contentEditable=!0;try{q.body.spellcheck=!1}catch(c){}a=b.getConfig("language");k.setFontSize(10);var g=$(q).find("body");r&&g.html("&nbsp;").html("");g.bind("paste",
function(){setTimeout(function(){var a=g.html(),a=a.replace(/<img.+webkit-fake-url\:\/\/[^>]+>/,""),b=/<img.+(data:\s*image\/\w+;base64,[^"]+)[^>]+>/,c=a.replace(b,"");g.html(c);if(a=a.match(b)){if(_chatWin&&1==_chatWin.opt.robotState)return!1;chat&&chat.uploadImgByBase64(a[1])}g.html(utils.getText(c))},0)});if("zh-cn"==a||"zh-tw"==a){var E="\u8bf7\u5728\u6b64\u8f93\u5165\u6d88\u606f";if("zh-cn"==a){if(f||h)E+="\u6216\u8005\u76f4\u63a5\u7c98\u8d34QQ\u622a\u56fe"}else E="\u8acb\u5728\u6b64\u8f38\u5165\u6d88\u606f";
C=$('<div style="color:#888888;position:absolute;top:6px;left:5px;font-size:15px;">'+E+"</div>").appendTo(n);C.css("font-family",'arial,"Microsoft YaHei","\u5fae\u8f6f\u96c5\u9ed1","\u5b8b\u4f53"');"mini"==b.getConfig("wMode")&&C.css("font-size","12px");var x=function(){C.hide()},H=function(){b.getConfig("closeEditor")||""!==$.trim(g.text())||/<img/.test(g.html())||C.show()};f?(C.bind("click",function(){C.hide();B.focus()}),B.addEventListener("focus",x,!1),B.addEventListener("blur",H,!1)):(C.bind("click",
function(){C.hide();g.focus()}),g.bind("focus",function(){x()}),g.bind("blur",function(){H()}))}};this.getFocus=function(){B.focus()};this.addCursor=function(){f?$(q).find("body").html()||G(B,'<span style="margin:0px; padding:0px;" ignore="true">&nbsp;</span>'):G(B,"<span></span>");this.resizeBody()};this.closeEditor=function(){b.setConfig("closeEditor",!0);$(q).find("body").html("");c.showWidget("inputPanelMask");$(window).focus()};this.openEditor=function(){b.setConfig("closeEditor",!1);$(q).find("body").html("");
c.closeWidget("inputPanelMask");$(window).focus()};this.getMessageWithQYFormat=function(){var a=this.beautifulMessage();return QYJSUtil.QYmessagcoder.encodeQYMessageXML(E,a,b)};this.getChatInputMessage=function(){return[E,this.beautifulMessage()]};this.beautifulMessage=function(){var a=$(q).find("body").html();document.all&&(a=a.replace(/^<p>((\s)|(&nbsp;))*<\/p>/ig,""));a=a.replace(/\n/ig,"");a=a.replace(/<span.*?ignore="true">&nbsp;<\/span>/img,"");a=a.replace(/<(?:p|h1|h2|h3|h4|h5|h6)[^>]*?>(.*?)<\/p>/img,
"<br/>$1");a=a.replace(/<(?!img|br)[^>]*>/gim,"");a=a.replace(/<br[^>]*?>/gmi,"<br/>");a=a.replace(/<img.*?src\S*?=\s*?['|"](.*?)['|"].*?>/gmi,'<img src="$1">');a=a.replace(/^<br.*?>(.*)/i,"$1");a=a.replace(/(.*)<br\/?>$/i,"$1");return a=a.replace(/&nbsp;/img," ")};this.resizeBody=function(){$(q).find("body").css({"text-align":"left",margin:"0"})};this.setLayout=function(){$(q).find("body").width(n.width()-3)};this.clearInput=function(){$(q).find("body").html("&nbsp").html("")};this.setFontFamily=
function(a){E.fontFamily=a;b.setConfig("fontStyle",E);"Arial"!==a&&(a="Arial,"+a);$(q).find("body").css("font-family",a)};this.setFontSize=function(a){$(q).find("body").css("font-size",a+"pt");E.fontSize=a+"px";b.setConfig("fontStyle",E)};this.toHEXvalue=function(a){a=parseInt(a);0<a?a.toString(16):"00";if(0==a)return"00";if(0<a&&10>a)return"0"+a.toString();if(10<=a)return a.toString(16)};this.setFontColor=function(a){$(q).find("body").css("color",a);if(/rgb/i.test(a)){var c=a.match(/(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);
a=this.toHEXvalue(c[1]);var d=this.toHEXvalue(c[2]),c=this.toHEXvalue(c[3]);E.fontColor=a+d+c}else E.fontColor=a;b.setConfig("fontStyle",E);this.resizeBody()};this.setFontWeight=function(a){$(q).find("body").css("font-weight",a);E.fontWeight=a;b.setConfig("fontStyle",E);this.resizeBody()};this.setFontItalic=function(a){$(q).find("body").css("font-style",a);E.fontItalic=a;b.setConfig("fontStyle",E);this.resizeBody()};this.setFontUnderline=function(a){$(q).find("body").css("text-decoration",a);E.fontUnderline=
a;b.setConfig("fontStyle",E);this.resizeBody()};this.insertEmotion=function(a){if(null!=a){var b=$("<img/>");b.attr("src",a+"?"+new Date);b.attr("times",0);b.css({display:"inline_block"});G(B,b[0].outerHTML);if(m||p)b.one("load",function(){k.checkImgDisplay()})}document.all&&k.updateRange()};this.checkImgDisplay=function(){$(q).find("body").find("img").each(function(){var a=parseInt($(this).attr("times"));2>a&&($(this).width(46).height(46).show().focus(),$(this).attr("src",$(this).attr("src")+"?"+
new Date));a++;$(this).attr("times",a)})};this.insertNewline=function(){G(B,"<br/>")};this.getEditorBody=function(){return $(q).find(r?"html":"body")[0]};this.getEditorWindow=function(){return B};this.setLeaveMessageTemplate=function(a){a=a.replace(/\n/gi,"<br/>");a=a.replace(/\n/gi,"");a=a.replace(/\r/gi,"");x&&"big"!==b.getConfig("wMode")?$(q).find("body").html(a).css("overflow-x","hidden"):$(q).find("body").html(a)};this.updateRange=function(){g=B.document.selection.createRange()};this.run=function(a,
b,c){H(a,b,c)}};QYJSUtil.SelectCreator=function(){this.run=function(a,b,c){if(a&&b instanceof Array&&c instanceof Array&&0<b.length&&c.length==b.length)for(var d=0;d<c.length;d++)c[d]&&a.append('<option value="'+b[d]+'">'+c[d]+"</option>")}};
QYJSUtil.CreateEmotion=function(a,b){var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d=b.getConfig("emotionImgPath");"https:"==document.location.protocol&&(d=d.replace("http:","https:"));var f=b.getConfig("emotionMapTip");this.run=function(){for(var b=0,d=0,m=0;m<c.length-1;m++){var p=$("<div></div>"),z=$("<a></a>");z.attr("href","#");0==m%11&&(d=m/11);b=m%11;z.css("background-position","-"+32*
b+"px -"+32*d+"px");f&&(b=f[m],z.attr("title",b),z.attr("alt",b));z.attr("name",m+".gif");p.append(z);a.append(p)}this.hide()};this.toggle=function(){/none/i.test(a.css("display"))?(a.show(),a.focus()):a.hide()};this.hide=function(){a.hide()};this.getEmotionImg=function(a){return d+a};this.getEmotionObj=function(){return a.find("a")};this.css=function(b){return a.css(b)}};
QYJSUtil.ColorPicker=function(a,b,c){var d=$("#"+a);c.getConfig("wMode");this.run=function(){var a;a=""+('<div class="colorPickTitle"><p align="center">'+b.languageInterpret("\u70b9\u51fb\u62fe\u53d6\u989c\u8272")+'</p></div><div class="colorValue" style="background:#fe0000;cursor:pointer"></div><div class="colorValue" style="background:#fd7f06;cursor:pointer "></div><div class="colorValue" style="background:#008100;cursor:pointer "></div><div class="colorValue" style="background:#0080ca;cursor:pointer "></div><div class="colorValue" style="background:#07fbff;cursor:pointer "></div><div class="colorValue" style="background:#654946;cursor:pointer "></div><div class="colorValue" style="background:#807600;cursor:pointer "></div><div class="colorValue" style="background:#fc81ff;cursor:pointer "></div><div class="colorValue" style="background:#fc3e80;cursor:pointer "></div><div class="colorValue" style="background:#8200fe;cursor:pointer "></div><div class="colorValue" style="background:#000000;cursor:pointer "></div><div class="colorValue" style="background:#818181;cursor:pointer "></div>');
d.append(a);d.css({position:"absolute",overFlow:"hidden",display:"none"});colorObj=d.find("div.colorValue")};this.setTop=function(a){d.css("top",parseInt(a))};this.setLeft=function(a){d.css("left",parseInt(a))};this.setWidth=function(a){d.css("width",parseInt(a))};this.toggle=function(){d.toggle()};this.hide=function(){d.hide()};this.getColorObj=function(){return colorObj};this.css=function(a){return d.css(a)}};
QYJSUtil.assess=function(a,b,c){a=$("#"+a);var d=c.languageInterpret("\u611f\u8c22\u60a8\u7684\u8bc4\u4ef7\uff0c\u6211\u4eec\u5c06\u7ee7\u7eed\u4e3a\u60a8\u670d\u52a1\uff01"),f=c.languageInterpret("\u8bf7\u54a8\u8be2\u540e\u518d\u8bc4\u4ef7\uff01"),h="",g="";this.create=function(){var b='<span class="left"><strong> '+c.languageInterpret("\u8bf7\u60a8\u5bf9\u6211\u4eec\u7684\u670d\u52a1\u8fdb\u884c\u8bc4\u4ef7")+'</strong></span><div class="right close"  style="width:17px; height:17px;clear: none; float:right"></div><br/><input id="pj_radio_fr_5" name="rating5" type="radio" value="5" checked class="pj_radio" /><label for="pj_radio_fr_5">'+
c.languageInterpret("\u975e\u5e38\u6ee1\u610f")+'</label>&nbsp;&nbsp;<input id="pj_radio_fr_4" name="rating5" type="radio" value="4" class="pj_radio" /><label for="pj_radio_fr_4">'+c.languageInterpret("\u6bd4\u8f83\u6ee1\u610f")+'</label>&nbsp; &nbsp;<input id="pj_radio_fr_3" name="rating5" type="radio" value="3" class="pj_radio" /><label for="pj_radio_fr_3">'+c.languageInterpret("\u4e00\u822c")+'</label>&nbsp;&nbsp;<input id="pj_radio_fr_2" name="rating5" type="radio" value="2" class="pj_radio" /><label for="pj_radio_fr_2">'+
c.languageInterpret("\u6bd4\u8f83\u5dee")+'</label>&nbsp;&nbsp;<input id="pj_radio_fr_1" name="rating5" type="radio" value="1" class="pj_radio" /><label for="pj_radio_fr_1">'+c.languageInterpret("\u6076\u52a3")+'</label> <br /><textarea name="" cols="3" rows="" style="height:50px; width:372px; line-height:18px; margin:8px 0; padding:1px 3px"></textarea><br /><span  name="" type="button" value="'+c.languageInterpret("\u8bc4\u4ef7")+'" class="subAssess" >'+c.languageInterpret("\u8bc4\u4ef7")+"<span>";
a.html(b);a.bind("click",function(a){a.stopPropagation()});a.find(".close").bind("click",function(b){a.trigger("closeAssess");b.stopPropagation()}).hide().show();a.find(".subAssess").bind("click",function(b){a.trigger("subAssess");b.stopPropagation()}).hide().show()};this.hide=function(){a.hide()};this.show=function(){a.show()};this.getAssess=function(){var b=$.trim(a.find("textarea").val());if(500<b.length)alert(c.languageInterpret("\u6700\u591a\u53ef\u4ee5\u5199\u5165500\u4e2a\u5b57\uff1b"));else{if(g==
b&&h)return{sameAssessError:1};var p=a.find("input:checked").val();return{content:b,star:p,sameAssessError:0,successMessage:d,noConsultedError:f,lastAssessId:h}}};this.clearInput=function(){a.find("textarea").val("")};this.css=function(b){return a.css(b)};this.saveLastAssessInfo=function(a,b){g=b;h=a}};
QYJSUtil.clerkCard=function(a,b,c,d,f,h){var g=c.find("li.clerkJobId"),m=c.find("li.nickName"),p=c.find("li.clerkName"),z=c.find("li.clerkTelphone"),x=c.find("li.clerkEmail"),r=c.find("li.clerkQQ"),q=c.find("li.clerkMSN"),B=c.find("li.clerkWangWang"),k=c.find("li.clerkSkype"),n=c.find(".portrait"),C=c.find("li.clerkAliWangWang"),E=h.getConfig("language"),G=!!window.ActiveXObject&&!window.XMLHttpRequest;this.setAdertisment=function(a,b){var c=h.getConfig("adverState");0==parseInt(c)?(d.html("<a href='"+
b+"' target='_blank'><img   src ='"+a+"'/></a>"),d.show(),G&&d.focus()):d.hide()};this.clerkInfoChange=function(){c.find("li").hide()};this.setClerkLogo=function(a){0<a&&(a="/vclientapi/?c=Clerk&a=getClerkInfo&websiteid="+h.getConfig("websiteId")+"&clkid="+a,$.getJSON(a,function(a){var b="http://kf.qycn.com/app/upload/defaultPics/clerkheadpic.gif";a&&0==a.errno&&(b=a.data.clerkHeadPic);"https:"==document.location.protocol&&(b=b.replace("http:","https:"));n.find("img").attr("src",b).show()}))};this.setLogo=
function(b,c){a.html("<a href='"+c+"' target='_blank'><img src ='"+b+"' border:none;'/></a>");var d=a.find("img");d.hide();d.one("load",function(){var a=parseInt(d.width()),b=parseInt(d.height()),c="",g="";150<a&&150<b?a>b?(c=(150*b/a).toFixed(0),g=150):(g=(150*a/b).toFixed(0),c=150):150<a&&150>=b?(g=150,c=(150*b/a).toFixed(0)):150<b&&150>=a&&(c=150,g=(150*a/b).toFixed(0));d.width(g).height(c)}).show()};this.setDes=function(a){b.html(a);G&&b.focus()};this.setClerkJobId=function(a){a&&(g.show(),g.find("span").eq(1).html("").html(a),
G&&g.focus())};this.setClerkNickName=function(a){a&&(m.show(),m.find("span").eq(1).html("").html(a),G&&m.focus())};this.setClerkName=function(a){a&&(p.show(),p.find("span").eq(1).html("").html(a),G&&p.focus())};this.setClerkEmail=function(a){a&&(x.show(),x.find("span").eq(1).html("").html(a),G&&x.focus())};this.setClerkTelphone=function(a){a&&(z.show(),z.find("span").eq(1).html("").html(a),G&&z.focus())};this.setClerkQQ=function(a){if(a){var b=h.getConfig("qiyeQQImage");"https:"==document.location.protocol&&
(b=b.replace("http:","https:"));var c=/^[4|8]00\d+$/.test(a)?"http://bizapp.qq.com/webc.htm?new=0&sid="+a+"&eid=&o=&q=7&ref=":"tencent://message/?uin="+a+"&Site=&Menu=yes";r.show();r.find("span").eq(1).html("").html('<a href="'+c+'"  target=blank >'+a+"</a>");r.find("span").eq(0).html('<img  style="position: absolute;top:-1px;right:1px;"  src="'+b+'"/>').css({position:"relative"});G&&r.focus()}};this.setClerkMSN=function(a){a&&(q.show(),q.find("span").eq(1).html("").html('<a href="msnim:chat?contact='+
a+'" target=blank>'+a+"</a> "),q.find("span").eq(0).html('<img  style="position: absolute;top:-1px;right:-2px;" src="http://messenger.services.live.com/users/'+a+'/presenceimage?mkt=zh_CN"/>').css({position:"relative"}),G&&q.focus())};this.setClerkWangWang=function(a){if(a){B.show();var b="http://www.taobao.com/webww/ww.php?ver=3&touid="+encodeURIComponent(a)+"&siteid=cntaobao&status=2&charset=utf-8";B.find("span").eq(1).html("").html('<a href="'+b+'"  target=blank >'+a+"</a>");B.find("span").eq(0).html('<img  style="position: absolute;top:-1px; right:0px;"  src ="http://amos.alicdn.com/online.aw?v=2&uid='+
encodeURIComponent(a)+'&site=cntaobao&s=2&charset=utf-8"/>').css({position:"relative"});G&&B.focus()}};this.setClerkALIWangWang=function(a){if(a){C.show();var b="http://amos.im.alisoft.com/msg.aw?v=2&uid="+encodeURIComponent(a)+"&site=cnalichn&s=4&charset=UTF-8";C.find("span").eq(1).html("").html('<a href="'+b+'"  target=blank >'+a+"</a>");b=$("<div></div>").css({position:"absolute",top:"-4px",width:"23px",height:"23px",overflow:"hidden"});"en"==E?b.css("left","37px"):"russian"==E?b.css("left","23px"):
b.css("left","11px");$("<img/>").attr("src","http://amos.im.alisoft.com/online.aw?v=2&uid="+encodeURIComponent(a)+"&site=cnalichn&s=4&charset=UTF-8").appendTo(b);C.find("span").eq(0).append(b).css({position:"relative"});G&&C.focus()}};this.setClerkSkype=function(a){if(a){k.show();var b=h.getConfig("webChatPath")+"chat/assets/images/skype.png";"https:"==document.location.protocol&&(b=b.replace("http:","https:"));var c="skype:"+a+"?chat";k.find("span").eq(1).html("").html('<a href="'+c+'"  target=blank >'+
a+"</a>");k.find("span").eq(0).html('<img  style="position: absolute;top:-1px;right:0px;"  src="'+b+'"/>').css({position:"relative"});G&&k.focus()}};this.switchPanel=function(){f.hasClass("index")?this.hide():this.show()};this.show=function(){f.hasClass("index")||(a.parent().show(),a.show(),b.show(),f.addClass("index"))};this.hide=function(){f.hasClass("index")&&(a.parent().hide(),a.hide(),b.hide(),f.removeClass("index"))}};
QYJSUtil.UploadFilePanel=function(a,b,c){var d={};this.switchPanel=function(){b.hasClass("index")?this.hide():this.show()};this.show=function(){a.show();b.addClass("index")};this.hide=function(){a.hide();b.removeClass("index")};this.addFileUpload=function(b){b=c.createFileUploadItem(b);var h=b.getDom(),g=b.getId();a.append(h);d[g]=b};this.updateFileUploadStatus=function(a){a=QYJSUtil.QYmessagcoder.decodeUploadFileStatusXML(a);d[a.id]&&d[a.id].updateUpdate(a.uploadSize,a.size,a.percent)};this.updateFileUploadSuccess=
function(a){d[a]&&d[a].updateFileUploadSuccess()};this.fileUploadError=function(a,b,c){d[a]&&d[a].fileUploadError(b,c)};this.deleteUpdateFileUpload=function(a){d[a]&&d[a].cancel()}};
QYJSUtil.UploadFileItemCreator=function(a,b){var c;this.createFileUploadItem=function(d){var f='<div class="file_tp"> <dl class="cls"> <dt class="left" style="width:42px;; heigth:24px;"><img src="'+d.icon+'"></dt> <dd class="left" style="width:130px; overflow:hidden; height:36px;"> '+b.languageInterpret("\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6")+"<br> "+d.name+'</dd> </dl> <div class="file_tp_pr" style="position: relative;"><p style="height: 16px; background: #72d1fb;width: 0%; float:left;"></p> <p style="position: absolute; top:0px;left:0px;width:173px;text-align:center"> '+
b.languageInterpret("\u6b63\u5728\u4e0a\u4f20")+': 0%</p></div> <div class="file_info cls"><span class="left size">0KB/0KB</span> <span style="padding-left:10px;float:left;" class="uploadSpeed">0KB</span> <span class="right"><a href="#" class="delete" rel="'+d.id+'">'+b.languageInterpret("\u53d6\u6d88")+"</a></span></div> </div> ",f=$(f);return new QYJSUtil.UploadFileItem(f,d,c,a,b)};this.fileUploadPanel=function(a){c=a}};
QYJSUtil.UploadFileItem=function(a,b,c,d,f){var h=Math.round((new Date).getTime()/1E3),g=!1,m=!1;a.find(".right").find(".delete").bind("click",function(){c.deleteUpdateFileUpload(this.getAttribute("rel"))});this.getId=function(){return b.id};this.getDom=function(){return a};this.cancel=function(){g?(a.remove(),this.eventRemove()):(d.cancelUploadFile(b.id),this.cancelUploadingFile());return!0};this.unitExchange=function(a){var b="";a=parseInt(a);return b=isNaN(a)?"0":1073741824<=a?(a/1073741824).toFixed(2)+
"G":1073741824>a&&1048576<=a?(a/1048576).toFixed(2)+"M":1048576>a&&1024<=a?(a/1024).toFixed(2)+"KB":a.toFixed(2)+"B"};this.updateUpdate=function(c,d,x){(b.totalSize/Math.round((new Date).getTime()/1E3)-h).toFixed(2);var r=a.find(".cls").find("dd.left"),q=a.find(".file_tp_pr"),B=a.find(".file_info").find(".size");x=a.find(".file_info").find(".uploadSpeed");var k=a.find(".right").find(".delete");m?(r.html(f.languageInterpret("\u4e0a\u4f20\u6210\u529f")+"<br/>"+b.name),q.hide(),B.html(f.languageInterpret("\u5927\u5c0f")+
"\uff1a"+this.unitExchange(d)),x.html(""),k.html(f.languageInterpret("\u6e05\u9664")),g=!0):(q.find("p").eq(0).css("width",(100*c/d).toFixed(2)+"%"),q.find("p").eq(1).html(f.languageInterpret("\u6b63\u5728\u4e0a\u4f20")+": "+(100*c/d).toFixed(2)+"%"),B.html(this.unitExchange(c)+"/"+this.unitExchange(d)),d=Math.round((new Date).getTime()/1E3)-parseInt(h),c=this.unitExchange(c/d),x.html(c),k.html(f.languageInterpret("\u53d6\u6d88")))};this.fileUploadError=function(c,d){g=!0;var h=a.find(".cls").find("dd.left"),
m=a.find(".file_tp_pr");a.find(".file_info").find(".uploadSpeed");var q=a.find(".right").find(".delete");h.html(f.languageInterpret("\u4e0a\u4f20\u5931\u8d25")+"<br/>"+b.name);m.remove();q.html(f.languageInterpret("\u6e05\u9664"));clearInterval(d)};this.updateFileUploadSuccess=function(){m=!0};this.cancelUploadingFile=function(){var c=a.find(".cls").find("dd.left"),d=a.find(".file_tp_pr"),h=a.find(".file_info").find(".size"),m=a.find(".file_info").find(".uploadSpeed"),q=a.find(".right").find(".delete");
c.html(f.languageInterpret("\u4e0a\u4f20\u5df2\u53d6\u6d88")+"<br/>"+b.name);d.remove();h.html(f.languageInterpret("\u5927\u5c0f")+"\uff1a"+this.unitExchange(b.totalSize));m.html("");q.html(f.languageInterpret("\u6e05\u9664"));g=!0};this.eventRemove=function(){a.find(".right").find(".delete").unbind("click")}};
QYJSUtil.reSizeImg=function(a,b,c,d){if(0==a.attr("originWidth")||""==a.attr("originWidth")||0==a.attr("originHeight")||""==a.attr("originHeight")){if(0==a.width()||""==a.width())return;a.attr("originWidth",a.width());a.attr("originHeight",a.height())}var f=!!window.ActiveXObject&&!window.XMLHttpRequest;c=a.attr("originWidth");var h=a.attr("originHeight");b="mini"==CHAT_CONF.getConfig("wMode")&&d?(f?b-50:b-35)+20:f?b-65:b-85;0<h&&0<c&&(b>c?(a.width(c),a.height(h)):(a.width(b),a.height((h*b/c).toFixed(0))))};
QYJSUtil.inArray=function(a,b){for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1};QYJSUtil.objAttrExits=function(a,b){for(var c in b)if(c==a)return!0;return!1};
QYJSUtil.buidWebPage=function(a,b){return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  <html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link href="http://'+window.location.host+'/vclient/chat/assets/css/mainv2.css" rel="stylesheet" type="text/css"><link href="http://'+window.location.host+'/vclient/chat/assets/themes/new/theme.css" rel="stylesheet" type="text/css"><title>'+
a+'</title></head><body  style="font-size:13px;color:#38476c;">'+b+"</body></html>"};
QYJSUtil.iniCatchScreenPlus=function(a,b){var c=a.getConfig("catchScreenParam");if(QYJSUtil.browsers.isie){var d=!1;try{new ActiveXObject("CCWEBCTRL.CCWebCtrlCtrl.1"),d=!0}catch(m){utils.log("catche",m);var f="./catchScreenPlusInstaller.php?websiteid="+a.getConfig("websiteId")+"&clienturl="+encodeURIComponent(a.getConfig("clientUrl")),h=a.getConfig("windowMinWidth")+150,g=a.getConfig("windowMinHeight")+250;window.open(f+"&winmode=0","_blank","toolbar=no,scrollbars=yes,menubar=no,status=no,resizable=yes,location=no,width="+
h+",height="+g+",top=100,left=200")}d&&($("#ccweb").html('<OBJECT  style="visibility: hidden;"  ID="CCWebCtrl" WIDTH=0 HEIGHT=0 CLASSID="CLSID:F35358A3-C22A-42CE-AAEE-87FEBE4C4AAD" CODEBASE="CCWebCtrl.cab#version='+c.version+'"></OBJECT>'),d=$("#CCWebCtrl")[0],d.setUploadRootURL=c.activex,d.CatchScreen())}else alert(b.languageInterpret("\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u622a\u56fe\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7QQ\u622a\u56fe\u540e\u53d1\u9001\u7ed9\u5ba2\u670d\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528IE\u6d4f\u89c8\u5668\u7ee7\u7eed\u54a8\u8be2\u3002"))};
QYJSUtil.downLoadFile=function(a){var b=$("<iframe/>");b.attr("src",a);b.css("display","none");$("body").prepend(b);setTimeout(function(){b.remove()},1E4)};
QYJSUtil.languageInterpretHTML=function(a){$("label[complete='n']").each(function(){var b=$(this).attr("interpret"),b=a.languageInterpret(b);$(this).text(b).attr("complete","y")});$("span[complete='n']").each(function(){var b=$(this).attr("interpret"),c=$(this).attr("displayText"),b=a.languageInterpret(b);"n"==c?$(this).attr("title",b).attr("alt",b).attr("complete","y"):$(this).text(b).attr("complete","y")});$("img[complete='n']").each(function(){var b=$(this).attr("interpret"),b=a.languageInterpret(b);
$(this).attr("alt",b).attr("title",b).attr("complete","y")});$("li[complete='n']").each(function(){var b=$(this).attr("interpret"),b=a.languageInterpret(b);$(this).attr("alt",b).attr("title",b).attr("complete","y")})};
QYJSUtil.getCatchScreenPic=function(a,b){a=jQuery.trim(a);"https:"==document.location.protocol&&(a=a.replace("http:","https:"));a=a.replace(/(\r|\n)/img,"");/(.*?\.jpg)(.+)/.test(a)&&(a=a.replace(/(.*?\.jpg)(.+)/,"$1"));/0$/.test(a)&&(a=a.replace(/0$/,""));var c=$("<div>");$("body").prepend(c);c.hide();c.html("").html($('<img src="'+a+'" />'));setTimeout(function(){c.remove()},5E3);return[b.getConfig("fontStyle"),c.html()]};
QYJSUtil.buildDownLoadFileToHTML=function(a,b,c,d,f,h){h.getConfig("fileDownloadAddr");return'<p class="textIndent"> '+b+'<br/><a  href="'+c+'"  target="_blank">'+f+"</a></p>"};
QYJSUtil.buildRobotWelcomeWords=function(a,b){/kf\_cp\/automan\.(png|gif)/.test(a)&&(a=a.replace(/\.(png|gif)/,".min.gif"));return"<p><table class='buildRobotWelcomeWords' cellpadding='0' cellspacing='0' border='0'><tr><td><img src='"+a+"' originwidth='50' originheight='50' style='width:50px; height:50px;'/></td><td style='padding-left: 10px;text-align:left'>"+b+"</td></tr></table></p>"};
QYJSUtil.Url={encode:function(a){return escape(this._utf8_encode(a))},decode:function(a){return this._utf8_decode(unescape(a))},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=0,f=0,h;c<a.length;)d=a.charCodeAt(c),
128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(f=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|f&63),c+=2):(f=a.charCodeAt(c+1),h=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(f&63)<<6|h&63),c+=3);return b}};QYJSUtil.setDocumentTitle=function(a){a=a.replace(/\\\'/gi,"'");a=a.replace(/\\\"/gi,'"');a=a.replace(/\\\\/gi,"\\");window.document.title=a};
QYJSUtil.floatAdvertisment=function(a,b,c,d){var f=!1;this.hide=function(){d.hide()};this.show=function(){0==f&&this.build();d.show()};this.build=function(){var a="<img id='floatAdvertisment' src='"+b+"'>";d.html(a+"<img id='floatAdvertismentCloseButton' src='/vclient/chat/assets/images/close.gif'>").show().css("background-color",c);f=!0};this.openWindow=function(){a&&window.open(a,"__blank")}};
QYJSUtil.__cookie=function(a,b,c){if("undefined"!=typeof b){c=c||{};null===b&&(b="",c.expires=-1);var d="";c.expires&&("number"==typeof c.expires||c.expires.toUTCString)&&("number"==typeof c.expires?(d=new Date,d.setTime(d.getTime()+864E5*c.expires)):d=c.expires,d="; expires="+d.toUTCString());var f=c.path?"; path="+c.path:"",h=c.domain?"; domain="+c.domain:"";c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,h,c].join("")}else{b=null;if(document.cookie&&""!=document.cookie)for(c=
document.cookie.split(";"),d=0;d<c.length;d++)if(f=jQuery.trim(c[d]),f.substring(0,a.length+1)==a+"="){b=decodeURIComponent(f.substring(a.length+1));break}return b}};QYJSUtil.cookie=function(a,b){if(a&&b)QYJSUtil.__cookie(a,b);else if(a)return QYJSUtil.__cookie(a)};QYJSUtil.hasXhrSupport=!(1==$.browser.msie&&8>parseInt($.browser.version))&&("undefined"!=typeof XMLHttpRequest&&$.support.cors||"undefined"!=typeof XDomainRequest);
QYJSUtil.jsonpTrans={index:0,className:"cckf_vclient",iframeIdPre:"cckf_vclient_iframe_",post:function(a,b,c){function d(){f();c&&c()}function f(){if(h.iframe)try{h.form.removeChild(h.iframe)}catch(a){utils.log("catche",a)}try{z=document.createElement('<iframe src="javascript:0" name="'+h.iframeId+'">')}catch(a){utils.log("catche",a),z=document.createElement("iframe"),z.name=h.iframeId,z.src="javascript:0"}z.id=h.iframeId;h.form.appendChild(z);h.iframe=z}var h=this;if(!this.form){var g=document.createElement("form"),
m=document.createElement("textarea"),p=this.iframeId=this.iframeIdPre+this.index;this.index++;var z;g.className=this.className;g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=p;g.method="POST";g.setAttribute("accept-charset","utf-8");m.name="d";g.appendChild(m);document.body.appendChild(g);this.form=g;this.area=m}this.form.action=a;f();b=b.replace(/\\n/g,"\\\n");this.area.value=b.replace(/\n/g,"\\n");try{this.form.submit()}catch(x){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==h.iframe.readyState&&d()}:this.iframe.onload=d}};
QYJSUtil.ajaxRequest=function(a,b){var c={url:"",cache:!1,crossDomain:!0,postTextPlain:!0,dataType:"json",type:"GET",timeout:15E3,complete:function(c){if("function"==typeof b){var f=0,h;if(4==c.readyState&&200==c.status)if(f=2,"undefined"!=typeof c.responseJSON)h=c.responseJSON;else{if("string"==typeof c.responseText)try{h=utils.JSON.parse(c.responseText)}catch(g){h=c.responseText}}else if("timeout"==c.statusText)f=3;else if("abort"==c.statusText)f=5;else if(444==c.status)return!1;"jsonp"==a.dataType&&
2==f||b({statu:f,userData:c.userData,xhrReadyState:c.readyState,xhrStatus:c.status,xhrStatusText:c.statusText},h)}}};QYJSUtil.merge(c,a);"POST"==c.type&&c.postTextPlain&&(c.processData=!1,c.contentType="text/plain; charset=utf-8",c.data=utils.JSON.stringify(c.data));c=$.ajax(c);c.userData=a;return c};QYJSUtil.indexOf=function(a,b,c){var d=a.length;for(c=0>c?0>c+d?0:c+d:c||0;c<d&&a[c]!==b;c++);return d<=c?-1:c};
QYJSUtil.merge=function(a,b,c,d){d=d||[];c="undefined"==typeof c?2:c;for(var f in b)b.hasOwnProperty(f)&&0>QYJSUtil.indexOf(d,f)&&("object"===typeof a[f]&&c?QYJSUtil.merge(a[f],b[f],c-1,d):(a[f]=b[f],d.push(b[f])));return a};QYJSUtil.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)};QYJSUtil.load=function(a){if("document"in window&&"complete"===document.readyState)return a();QYJSUtil.on(window,"load",a,!1)};
QYJSUtil.loadScript=function(a,b){var c=document.createElement("script");c.type="text/javascript";c.src=a;c.readyState?c.onreadystatechange=function(){if("loaded"==c.readyState||"complete"==c.readyState)c.onreadystatechange=null,b&&b()}:c.onload=function(){b&&b()};(document.getElementsByTagName("head")[0]||document.head||document.body||document.documentElement).appendChild(c)};
QYJSUtil.log=function(){if(-1!=window.location.href.indexOf("debugon=true"))if(window.console){var a=arguments,b=(new Date).toTimeString().substr(0,8);1==a.length?console.log(b,a[0]):2==a.length?console.log(b,a[0],a[1]):3==a.length?console.log(b,a[0],a[1],a[2]):4==a.length?console.log(b,a[0],a[1],a[2],a[3]):5==a.length?console.log(b,a[0],a[1],a[2],a[3],a[4]):console.log(b,a)}else{a=$("#cckf_debugon");0==a.length&&(a=$('<div id="cckf_debugon" style="z-index:100;background-color:#000;color:#fff;font-size:14px;line-height:22px;position:fixed;top:1px;left:1px;width:300px;height:360px;border:1px solid gray;padding:10px 0 10px 10px;overflow:auto;"></div>'),
a.appendTo($("body")));var b=(new Date).toTimeString().substr(0,8);a.append("-> "+b+" "+arguments[0]+(arguments[1]?arguments[1]:"")+(arguments[2]?arguments[2]:"")+(arguments[3]?arguments[3]:"")+"<br/>");a.scrollTop(a[0].scrollHeight)}};QYJSUtil.getUnixTime=function(){return Math.round((new Date).getTime()/1E3)};
QYJSUtil.getDateTime=function(a){var b=new Date;a&&b.setTime(1E3*a);b.getFullYear();b.getMonth();b.getDate();a=b.getHours();var c=b.getMinutes(),b=b.getSeconds();return(9<a?"":"0")+a+":"+(9<c?"":"0")+c+":"+(9<b?"":"0")+b};
QYJSUtil.xmlMsgParse=function(a){a=$.trim(a);try{var b=$.parseXML(a)}catch(d){a=a.replace(/(<m.*?t=)(["|\'])(.*?)(\2)(.*?>.*?<\/m>)/,"$1$2$4$5");try{b=$.parseXML(a)}catch(f){utils.log("catche",f)}}var b=$(b).find("m")[0].attributes,c={};$(b).each(function(){var a=$(this)[0];c[a.nodeName]=a.nodeValue});return c};
QYJSUtil.addMsgSound=function(){var a="",b="assets/sound/msg.wav";$.browser.msie?(a+='<OBJECT id="msgsound" classid="clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"',a+=' width=0 height=0 > <param name="URL" value="'+b+'" /> <param name="AutoStart" value="false" /> </OBJECT>'):($.browser.chrome&&(b="assets/sound/msg.mp3"),a+='<audio id="msgsound" src="'+b+'" hidden="true"></audio>');document.write(a)};
QYJSUtil.playMsgSound=function(){try{var a=document.getElementById("msgsound");$.browser.msie?(a.controls.play(),setTimeout(a.controls.stop,500)):(a.play(),setTimeout(a.stop,500))}catch(b){}};
QYJSUtil.showNotificationMsg=function(a,b){!document.hasFocus()&&""!=b&&window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission(function(){var c=new Notification(a,{body:b,icon:"assets/images/nfcmsg.png",tag:"cckfnfc_b1",silent:!0});c.onshow=function(){setTimeout(function(){c.close()},1E4)}})};QYJSUtil.formatMsgToXml=function(a){if("object"!=typeof a)return a;try{var b,c="<m";for(b in a)c+=" "+b+'="'+a[b]+'"';return c+"></m>"}catch(d){}return a};
QYJSUtil.openLinkInpage=function(a){a='<iframe src="'+a+'" scrolling="no" frameborder="0" style="width: 0px; height: 0px; display: none;"></iframe>';$(document.body).append(a)};QYJSUtil.getRandomNum=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};QYJSUtil.remoteLog=function(a){};
QYJSUtil.addPoweredBy=function(a){a='<div id="poweredby" style="z-index:99999999;position: fixed;_position: absolute;left:10px;bottom:5px;"><a target="_blank" href="http://www.qycn.com/kf/index_tg2.html?fr=vclient&w='+a+'">Powered by CC\u5ba2\u670d</a></div>';$("body").append(a)};
QYJSUtil.addClerkALIWangWangEN=function(a,b){var c="http://amos.alicdn.com/online.aw?v=2&uid="+encodeURIComponent(a)+"&site=enaliint&s=4&charset=UTF-8",d="http://amos.alicdn.com/msg.aw?v=2&uid="+encodeURIComponent(a)+"&site=enaliint&s=21&charset=UTF-8",c='<li class="clerkAliWangWang" style="display: list-item;"><span class="item_zh-cn" style="position: relative;">'+('<div style="position: absolute; top: -4px; width: 23px; height: 23px; overflow: hidden; left: '+("en"==b?"37px":"russian"==b?"23px":
"11px")+';">')+('<img src="'+c+'">'),c=c+"</div></span>",c=c+('<span class="value_'+b+'"><a href="'+d+'" target="blank">'+a+"</a></span></li>");$(c).appendTo($("#clerkContact"))};QYJSUtil.getText=function(a){return a.replace(/<style[\s\S]*?\/style>/ig,"").replace(/<(?!img|embed).*?>/ig,"").replace(/&nbsp;/ig," ")};QYJSUtil.filterMsgXml=function(a){return a.replace(/&(amp;)?/ig,"&amp;")};
QYJSUtil.getQueryParam=function(a){a=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i");a=window.location.search.substr(1).match(a);return null!=a?decodeURIComponent(a[2]):""};var utils=QYJSUtil;(function(a,b){function c(a){return 10>a?"0"+a:a}function d(a){m.lastIndex=0;return m.test(a)?'"'+a.replace(m,function(a){var b=x[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,b){var g,h,m,E,x=p,H,y=b[a];y instanceof Date&&(y=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":null);"function"===typeof r&&(y=r.call(b,a,
y));switch(typeof y){case "string":return d(y);case "number":return isFinite(y)?String(y):"null";case "boolean":case "null":return String(y);case "object":if(!y)return"null";p+=z;H=[];if("[object Array]"===Object.prototype.toString.apply(y)){E=y.length;for(g=0;g<E;g+=1)H[g]=f(g,y)||"null";m=0===H.length?"[]":p?"[\n"+p+H.join(",\n"+p)+"\n"+x+"]":"["+H.join(",")+"]";p=x;return m}if(r&&"object"===typeof r)for(E=r.length,g=0;g<E;g+=1)"string"===typeof r[g]&&(h=r[g],(m=f(h,y))&&H.push(d(h)+(p?": ":":")+
m));else for(h in y)Object.prototype.hasOwnProperty.call(y,h)&&(m=f(h,y))&&H.push(d(h)+(p?": ":":")+m);m=0===H.length?"{}":p?"{\n"+p+H.join(",\n"+p)+"\n"+x+"}":"{"+H.join(",")+"}";p=x;return m}}if(b&&b.parse)return a.JSON={parse:b.parse,stringify:b.stringify};var h=a.JSON={},g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p,z,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;h.stringify=function(a,b,c){var d;z=p="";if("number"===typeof c)for(d=0;d<c;d+=1)z+=" ";else"string"===typeof c&&(z=c);if((r=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return f("",{"":a})};h.parse=function(a,b){function c(a,d){var g,f,h=a[d];if(h&&"object"===typeof h)for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(f=c(h,g),void 0!==f?h[g]=f:
delete h[g]);return b.call(a,d,h)}var d;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})(QYJSUtil,"undefined"!==typeof JSON?JSON:
void 0);(function(a,b){a.store=b(a)})(QYJSUtil,function(a){var b={},c=window,d=c.document,f,h=a.JSON;b.disabled=!1;b.version="1.3.19";b.set=function(a,b){};b.get=function(a,b){};b.has=function(a){return void 0!==b.get(a)};b.remove=function(a){};b.clear=function(){};b.transact=function(a,c,d){null==d&&(d=c,c=null);null==c&&(c={});c=b.get(a,c);d(c);b.set(a,c)};b.getAll=function(){};b.forEach=function(){};b.serialize=function(a){return h.stringify(a)};b.deserialize=function(a){if("string"==typeof a)try{return h.parse(a)}catch(b){return a||
void 0}};var g;try{g="localStorage"in c&&c.localStorage}catch(r){g=!1}if(g)f=c.localStorage,b.set=function(a,c){if(void 0===c)return b.remove(a);f.setItem(a,b.serialize(c));return c},b.get=function(a,c){var d=b.deserialize(f.getItem(a));return void 0===d?c:d},b.remove=function(a){f.removeItem(a)},b.clear=function(){f.clear()},b.getAll=function(){var a={};b.forEach(function(b,c){a[b]=c});return a},b.forEach=function(a){for(var c=0;c<f.length;c++){var d=f.key(c);a(d,b.get(d))}};else if(d.documentElement.addBehavior){var m,
p;try{p=new ActiveXObject("htmlfile"),p.open(),p.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></iframe>'),p.close(),m=p.w.frames[0].document,f=m.createElement("div")}catch(r){f=d.createElement("div"),m=d.body}a=function(a){return function(){var c=Array.prototype.slice.call(arguments,0);c.unshift(f);m.appendChild(f);f.addBehavior("#default#userData");f.load("localStorage");c=a.apply(b,c);m.removeChild(f);return c}};var z=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),
x=function(a){return a.replace(/^d/,"___$&").replace(z,"___")};b.set=a(function(a,c,d){c=x(c);if(void 0===d)return b.remove(c);a.setAttribute(c,b.serialize(d));a.save("localStorage");return d});b.get=a(function(a,c,d){c=x(c);a=b.deserialize(a.getAttribute(c));return void 0===a?d:a});b.remove=a(function(a,b){b=x(b);a.removeAttribute(b);a.save("localStorage")});b.clear=a(function(a){var b=a.XMLDocument.documentElement.attributes;for(a.load("localStorage");b.length;)a.removeAttribute(b[0].name);a.save("localStorage")});
b.getAll=function(a){var c={};b.forEach(function(a,b){c[a]=b});return c};b.forEach=a(function(a,c){for(var d=a.XMLDocument.documentElement.attributes,g=0,f;f=d[g];++g)c(f.name,b.deserialize(a.getAttribute(f.name)))})}try{b.set("__storejs__","__storejs__"),"__storejs__"!=b.get("__storejs__")&&(b.disabled=!0),b.remove("__storejs__")}catch(r){b.disabled=!0}b.enabled=!b.disabled;return b});var QYChat={titleBar:{barSwitch:function(){var a={};this.addBar=function(b,c){a[b]=c};this.changeTo=function(b){window.leavingMessageBox.hideAlert(!0);for(var c in a)c==b?a[c].show():a[c].hide()}},consultation:function(a,b){this.show=function(){1!=a.getConfig("isLeavingMessage")&&1!=a.getConfig("justShowRobot")&&(b.addClass("index"),b.find(".icon").addClass("index"),b.find(".word").addClass("index"),a.setConfig("CCRobotStatus",0),a.setConfig("isChatWindow",!0))};this.hide=function(){b.removeClass("index");
b.find(".icon").removeClass("index");b.find(".word").removeClass("index")}},leavingMessage:function(a,b){this.show=function(){b.addClass("index");b.find(".icon").addClass("index");b.find(".word").addClass("index");a.setConfig("isChatWindow",!1)};this.hide=function(){b.removeClass("index");b.find(".icon").removeClass("index");b.find(".word").removeClass("index")}},robot:function(a,b,c,d,f){this.addHotQuestion=function(b){for(var c="",d=0;d<b.length;d++)c+='<li><span class="item">'+(d+1)+'.</span><span class="value"><a href="javascript:;" class="hot" qsid="'+
b[d][0]+'">'+b[d][1]+"</a></span></li> ";a.find("ul").append(c)};this.pickHotQuestion=function(a){b.pickHotQuestion(a)};this.hideRobotBar=function(){};this.showRobotBar=function(){};this.show=function(){c.addClass("index");c.find(".icon").addClass("index");c.find(".word").addClass("index");f.showWidget("toolMask");f.closeWidget("font");d.setConfig("CCRobotStatus",1);b.changeTalk(1);d.setConfig("isChatWindow",!1)};this.hide=function(){c.removeClass("index");c.find(".icon").removeClass("index");c.find(".word").removeClass("index");
d.setConfig("CCRobotStatus",0);f.closeWidget("toolMask");b.changeTalk(0)}}},chatMessageArea:function(a){this.setMessageTitle=function(b){a.setMessageTitle(b)};this.addChatMessage=function(b){a.addChatMessage(b)};this.addQYChatMessage=function(b,c){a.addQYChatMessage(b,c)};this.addRawChatMessage=function(b,c){a.addRawChatMessage(b,c)};this.addNoReformRawChatMessage=function(b,c){a.addNoReformRawChatMessage(b,c)};this.addFixedMessage=function(b,c){a.addFixedMessage(b,c)};this.addNoReformFixedMessage=
function(b,c){a.addNoReformFixedMessage(b,c)};this.getChatContent=function(){return a.getChatContent()};this.addClerk=function(b){a.addClerk(b)}},clerkChange:function(a,b){this.dialogClick=function(c,d){a.closeAllWidget();1==parseInt(c)&&b.changeClerk(d)}},chatToolBar:{emotion:function(a,b,c){this.onclick=function(){b.toggle();this.changeBackground()};this.hide=function(){this.close()};this.close=function(){b.hide();this.changeBackground()};this.changeBackground=function(){/none/i.test(b.css("display"))?
(a.removeClass("emotionButtonChoose"),a.addClass("emotionButton")):(a.removeClass("emotionButton"),a.addClass("emotionButtonChoose"))};this.onPicke=function(a){a=b.getEmotionImg(a);c.insertEmotion(a)}},fileUpload:function(a){this.onClick=function(){a.fileUpload()}},catchScreen:function(a){this.onCatchScreen=function(){a.onCatchScreen()}},assess:function(a,b,c,d){var f=!1,h=parseInt(Math.round((new Date).getTime()/1E3));this.onClick=function(){/none/i.test(b.css("display"))?this.show():this.hide()};
this.hide=function(){b.hide();c.removeClass("assessButtonChoose").addClass("assessButton")};this.show=function(){b.show();c.removeClass("assessButton").addClass("assessButtonChoose")};this.submit=function(){4<=parseInt(Math.round((new Date).getTime()/1E3))-h&&(f=!1);var c=b.getAssess();if(1==c.sameAssessError)this.inputClearAndHide();else try{d.getConfig("hasConsulted")?0==f&&(h=parseInt(Math.round((new Date).getTime()/1E3)),f=!0,a.uploadAssess(c),this.inputClearAndHide()):a.addRawChatMessage(c.noConsultedError)}catch(m){utils.log("catche",
m),f=!1,this.inputClearAndHide(),a.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u8bc4\u4ef7\u7a97\u53e3\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+m)}};this.inputClearAndHide=function(){b.hide();b.clearInput()};this.saveLastAssessInfo=function(a,c){f=!1;b.saveLastAssessInfo(a,c)}},font:function(a,b,c){var d=this,f=function(){/none/i.test(b.css("display"))?a.addClass("iconFont").removeClass("iconFontChoose"):a.addClass("iconFontChoose").removeClass("iconFont")};this.onclick=
function(){b.toggle();c.entireLayerOut();f()};this.hide=function(){b.hide();f();d.setLayout()};this.setLayout=function(){c.entireLayerOut()}},messageStyleSettingPanel:{fontFamilyCormbox:function(a){this.onChange=function(b){a.setFontFamily(b)}},fontSizeCormbox:function(a){this.onChange=function(b){a.setFontSize(b)}},colorPicker:function(a,b,c){this.onButtonClick=function(){c.toggleWidget("colorPicker");this.changeBackground()};this.onColorClick=function(a){c.toggleWidget("colorPicker");b.setFontColor(a)};
this.changeBackground=function(){var b=c.getWidget("colorPicker");/none/i.test(b.css("display"))?a.addClass("colorPickerButton").removeClass("colorPickerButtonChoose"):a.addClass("colorPickerButtonChoose").removeClass("colorPickerButton")};this.close=function(){c.closeWidget("colorPicker");this.changeBackground()};this.hide=function(){this.close()}},colorShapeCormbox:function(a){this.setFontTypeWeight=function(b){b=$(b);var c=b.attr("className")?"":"bold";b.attr("className",c);c?b.addClass("fontTypeBChoose").removeClass("fontTypeB"):
b.addClass("fontTypeB").removeClass("fontTypeBChoose");a.setFontWeight(c)};this.setFontItalic=function(b){b=$(b);var c=b.attr("className")?"":"italic";b.attr("className",c);c?b.addClass("fontTypeIChoose").removeClass("fontTypeI"):b.addClass("fontTypeI").removeClass("fontTypeIChoose");a.setFontItalic(c)};this.setFontUnderline=function(b){b=$(b);var c=b.attr("className")?"":"underline";b.attr("className",c);c?b.addClass("fontTypeUChoose").removeClass("fontTypeU"):b.addClass("fontTypeU").removeClass("fontTypeUChoose");
a.setFontUnderline(c)}}}},chatMessageInputPanel:function(a){this.closeEditor=function(){a.closeEditor()};this.openEditor=function(){a.openEditor()};this.getMessageWithQYFormat=function(){return a.getMessageWithQYFormat()};this.getChatInputMessage=function(){return a.getChatInputMessage()};this.clearInput=function(){return a.clearInput()};this.setFontFamily=function(b){a.setFontFamily(b)};this.setFontSize=function(b){a.setFontSize(b)};this.setFontColor=function(b){a.setFontColor(b)};this.setFontWeight=
function(b){a.setFontWeight(b)};this.setFontItalic=function(b){a.setFontItalic(b)};this.setFontUnderline=function(b){a.setFontUnderline(b)};this.insertEmotion=function(b){a.insertEmotion(b)};this.setLeaveMessageTemplate=function(b){a.setLeaveMessageTemplate(b)};this.setEditorFocus=function(){a.getFocus()};this.insertNewline=function(){a.insertNewline()}},messageSent:function(a,b,c,d,f){this.getChatMessage=function(){return b.getMessage()};this.onSubmit=function(a){var d=b.getChatInputMessage(),f=
$.trim(d[1]);if(""==f)chat.addRawChatMessage(chat.languageInterpret("\u4e0d\u80fd\u53d1\u9001\u7a7a\u6d88\u606f"),2);else if(1E3<f.length)chat.addRawChatMessage("\u60a8\u53d1\u9001\u7684\u5185\u5bb9\u8fc7\u591a\uff0c\u8bf7\u60a8\u51cf\u5c11\u4e9b\u5185\u5bb9\u540e\u518d\u53d1\u9001\uff01",2);else{try{chatWinPub.filterVisitorInfo(f)}catch(p){}c.saveQYChatMessage(d);b.clearInput();a.getFocus();return!0}};this.keyEnterEvent=function(a){if("Enter"==f.getConfig("sentSelectedEvent"))this.onSubmit(a)};this.keyCtrlEnterEvent=
function(a){if("Ctrl+Enter"==f.getConfig("sentSelectedEvent"))this.onSubmit(a)}},extendPanel:{floatAdvertisment:function(a,b,c){var d=c.getConfig("floatAd"),f=this;this.display=function(){this.show();setTimeout(function(){f.close()},d.displayTime)};this.click=function(){b.floatAdvertisementClick();a.openWindow()};this.close=function(){this.hide()};this.hide=function(){a.hide()};this.show=function(){a.show()}},extendPanelController:function(){var a={};this.addPanel=function(b,c){a[b]=c};this.showPanel=
function(b){for(var c in a)c==b?a[c].show():a[c].hide()};this.switchPanel=function(){for(var b in a)a[b].switchPanel()}},clerkCard:function(a){this.setAdertisment=function(b,c){a.setAdertisment(b,c)};this.clerkInfoChange=function(){a.clerkInfoChange()};this.setLogo=function(b,c){a.setLogo(b,c)};this.setClerkLogo=function(b){a.setClerkLogo(b)};this.setDes=function(b){a.setDes(b)};this.setClerkJobId=function(b){a.setClerkJobId(b)};this.setClerkNickName=function(b){a.setClerkNickName(b)};this.setClerkName=
function(b){a.setClerkName(b)};this.setClerkEmail=function(b){a.setClerkEmail(b)};this.setClerkTelphone=function(b){a.setClerkTelphone(b)};this.setClerkQQ=function(b){a.setClerkQQ(b)};this.setClerkALIWangWang=function(b){a.setClerkALIWangWang(b)};this.setClerkMSN=function(b){a.setClerkMSN(b)};this.setClerkSkype=function(b){a.setClerkSkype(b)};this.setClerkWangWang=function(b){a.setClerkWangWang(b)};this.switchPanel=function(){a.switchPanel()};this.show=function(){a.show()};this.hide=function(){a.hide()}},
fileUploadPanel:function(a){this.addFileUpload=function(b){a.addFileUpload(b)};this.updateFileUploadStatus=function(b){a.updateFileUploadStatus(b)};this.updateFileUploadSuccess=function(b){a.updateFileUploadSuccess(b)};this.fileUploadError=function(b,c,d){a.fileUploadError(b,c,d)};this.deleteUpdateFileUpload=function(b){a.deleteUpdateFileUpload(b)};this.switchPanel=function(){a.switchPanel()};this.show=function(){a.show()};this.hide=function(){a.hide()}}},chatStatusBar:function(a){this.setStatus=
function(b){a.html(b)}},chooseSentEvent:function(a,b,c,d){this.onClick=function(){d.toggleWidget("sentEventSelector")};this.onSelect=function(a){b.setConfig("sentSelectedEvent",a);this.close()};this.close=function(){d.closeWidget("sentEventSelector")}},messageInterface:function(a,b){var c={},d=[],f=[],h=this;this.addRevivier=function(a,b){c[a]=b};this.uploadAssess=function(a){var d=b.getConfig("assessAddress");"https:"==document.location.protocol&&(d=d.replace("http:","https:"));var f={visitorid:b.getConfig("visitorId"),
clerkid:b.getConfig("clerkId"),websiteid:b.getConfig("websiteId"),clienturl:b.getConfig("clientUrl")};f.star=a.star;f.content=a.content;f.assessId=a.lastAssessId;$.post(d,f,function(d){d=eval("("+d+")");c.chatMessageArea.addRawChatMessage(a.successMessage,2);c.assess.saveLastAssessInfo(d.assessId,a.content);b.setConfig("hasAssessed",!0);h.setChatMessageAreaLayout();c.assess.hide()})};this.checkAssess=function(){return 1==b.getConfig("openAssess")&&1==b.getConfig("isChatWindow")&&0==b.getConfig("hasAssessed")&&
0==b.getConfig("manualCloseChat")&&b.getConfig("hasConsulted")&&0==b.getConfig("CCRobotStatus")&&!b.getConfig("isClosingOldWindow")?(c.assess.show(),!0):!1};this.setAdertisment=function(a,b){c.clerkCard.setAdertisment(a,b);this.setEntireLayerOut();var d=this;window.ActiveXObject&&!window.XMLHttpRequest&&setTimeout(function(){d.setEntireLayerOut()},1E3)};this.clerkInfoChange=function(){c.clerkCard.clerkInfoChange();this.setEntireLayerOut()};this.setLogo=function(a,b){c.clerkCard.setLogo(a,b)};this.setClerkLogo=
function(a){c.clerkCard.setClerkLogo(a)};this.setClerkNickName=function(a){c.clerkCard.setClerkNickName(a)};this.setClerkJobId=function(a){c.clerkCard.setClerkJobId(a)};this.setClerkName=function(a){c.clerkCard.setClerkName(a)};this.setClerkEmail=function(a){c.clerkCard.setClerkEmail(a)};this.setClerkTelphone=function(a){c.clerkCard.setClerkTelphone(a)};this.setClerkQQ=function(a){c.clerkCard.setClerkQQ(a)};this.setClerkALIWangWang=function(a){c.clerkCard.setClerkALIWangWang(a)};this.setClerkMSN=
function(a){c.clerkCard.setClerkMSN(a)};this.setClerkWangWang=function(a){c.clerkCard.setClerkWangWang(a)};this.setClerkSkype=function(a){c.clerkCard.setClerkSkype(a)};this.setDes=function(a){c.clerkCard.setDes(a);this.setEntireLayerOut()};this.setLeaveMessageTemplate=function(a){c.chatMessageInputPanel.setLeaveMessageTemplate(a)};this.setEditorFocus=function(){c.chatMessageInputPanel.setEditorFocus()};this.closeEditor=function(){c.chatMessageInputPanel.closeEditor()};this.clearInput=function(){c.chatMessageInputPanel.clearInput()};
this.openEditor=function(){c.chatMessageInputPanel.openEditor()};this.addQYChatMessage=function(b,c){f.push([b,c]);a.getReadyStatus()&&(this.outPutReceiveMessageCache(),this.setChatMessageAreaLayout())};this.addRawChatMessage=function(a,b){c.chatMessageArea.addRawChatMessage(a,b);this.setChatMessageAreaLayout()};this.addNoReformRawChatMessage=function(a,b){c.chatMessageArea.addNoReformRawChatMessage(a,b);this.setChatMessageAreaLayout()};this.addFixedMessage=function(a,b){c.chatMessageArea.addFixedMessage(a,
b);this.setChatMessageAreaLayout()};this.addNoReformFixedMessage=function(a,b){c.chatMessageArea.addNoReformFixedMessage(a,b);this.setChatMessageAreaLayout()};this.setMessageTitle=function(a){c.chatMessageArea.setMessageTitle(a);this.setChatMessageAreaLayout()};this.saveQYChatMessage=function(b){d.push(b);a.uploadQYChatMessage()};this.setChatMessageAreaLayout=function(){c.layOutSetter.chatMessageAreaLayerOut()};this.resizeChatMessageAreaImg=function(){c.layOutSetter.resizeChatMessageAreaImg()};this.setEntireLayerOut=
function(){c.layOutSetter.entireLayerOut()};this.getQYChatMessage=function(){return a.getReadyStatus()?this.getPutUploadMessageCache():""};this.setChatReady=function(){a.getReadyStatus()&&(0<d.length&&a.uploadQYChatMessage(),0<f.length&&(this.outPutReceiveMessageCache(),this.setChatMessageAreaLayout()))};this.outPutReceiveMessageCache=function(){try{for(var b=0;b<f.length;b++)c.chatMessageArea.addQYChatMessage(f[b][0],f[b][1]);f=[]}catch(d){utils.log("catche",d),c.chatMessageArea.addQYChatMessage(a.languageInterpret("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6d88\u606f\u7f13\u5b58\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
d))}};this.getPutUploadMessageCache=function(){var g=[];try{for(var f=0;f<d.length;f++){var h=QYJSUtil.QYmessagcoder.encodeQYMessageXML(d[f][0],d[f][1],b);g.push(h)}d=[]}catch(z){utils.log("catche",z),c.chatMessageArea.addQYChatMessage(a.languageInterpret("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6d88\u606f\u751f\u6210\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+z))}return g};this.setStatus=function(a){c.chatStatusBar.setStatus(a)};this.addFileUpload=function(a){c.fileUploadPanel.addFileUpload(a)};
this.updateFileUploadStatus=function(a){c.fileUploadPanel.updateFileUploadStatus(a)};this.updateFileUploadSuccess=function(a){c.fileUploadPanel.updateFileUploadSuccess(a)};this.addClerk=function(a){c.chatMessageArea.addClerk(a);this.setChatMessageAreaLayout()};this.cancelUploadFile=function(a){a=c.uploader.getFile(a);c.uploader.stop();c.uploader.removeFile(a);c.uploader.start()};this.saveChatHistory=function(){return c.chatMessageArea.getChatContent()};this.onCatchScreen=function(){a.onCatchScreen()};
this.changeTalk=function(b){a.changeTalk(b)};this.addHotQuestion=function(a){c.CCRobot.addHotQuestion(a)};this.hideRobotBar=function(){c.CCRobot.hideRobotBar()};this.showRobotBar=function(){c.CCRobot.showRobotBar()};this.changeRoboTalking=function(a){try{c.CCRobot.changeRoboTalking(a)}catch(b){utils.log(b)}};this.pickHotQuestion=function(b){a.pickHotQuestion(b)};this.onReloadWindow=function(){a.onReloadWindow()}},config:{languageTemplate:function(){var a={};this.addLanguageTemplateObj=function(b){a=
b};this.languageInterpret=function(b){if(!b)return"";for(var c in a){var d=new RegExp(c);if(d.test(b)){d=new RegExp(c);b=b.replace(d,a[c]);break}}return b};this.getLanguage=function(a,c){return languagePackage[a]?languagePackage[a]:c}},iniConfig:function(){var a={};this.addConfig=function(b,c){a[b]||(a[b]=c)};this.addConfigObj=function(b){for(var c in b)a[c]||(a[c]=b[c])};this.getConfig=function(b){return a[b]};this.setConfig=function(b,c){a[b]=c};this.getAll=function(){return a}}},chatMask:function(a,
b,c,d){var f,h,g=1,m=320,p=this,z=!1,x="#1480b8",r="#fff",q="none",B="20px 5px",k=!0,n="center",p=this,C=!0;a.addObj("chatMask",this);this.createMask=function(a,p){f=$("<div></div>");h=$("<div></div>");z=!0;var C=document.documentElement.clientHeight,y=document.documentElement.clientWidth,D=$(document).height(),J=$(document).width(),J=y>=J?y:J,I;f.height(C>=D?C:D).width(J).css({background:"#a9ccde",position:"absolute","z-index":"2147483647",margin:"0px",padding:"0px",display:"none"});h.height(g).width(m).css({background:x,
position:"absolute","z-index":"2147483646",top:V,left:Q,margin:"0px",padding:B,verticalAlign:"top",visibility:"hidden"});var V=Math.floor((C-g-parseInt(h.css("padding-top"))-parseInt(h.css("padding-bottom")))/2),Q=Math.floor((y-m-parseInt(h.css("padding-left"))-parseInt(h.css("padding-right")))/2);h.css({border:q,top:V,left:Q});V=Math.floor((C-g-parseInt(h.css("padding-top"))-parseInt(h.css("padding-bottom")))/2);Q=Math.floor((y-m-parseInt(h.css("padding-left"))-parseInt(h.css("padding-right")))/
2);h.html('<p name="maskContent" style="line-height: 25px; color:'+r+"; text-align: "+n+';">'+b.languageInterpret(a)+"</p>");h.find("a").css({color:"#0066cc","text-decoration":"underline"});f.prepend(h);k&&h.click(function(){d.onReloadWindow();c.setConfig("isClosingOldWindow",!0);setTimeout(function(){window.location.reload()},1E3)}).css({cursor:"pointer"});$("body").prepend(f);I=h.find("p");var R;R=setInterval(function(){0<I.height()&&(clearInterval(R),h.height(I.height()).css({visibility:"visible",
top:parseInt(h.css("top"))-15+"px"}),g=I.height())},300)};this.show=function(a,c){z&&f.show();"queue"==c&&(m=350,r="#333333",x="white",q="1px solid #3c96c4",B="20px 40px",k=!1,n="left");if(z)return h.find('p[name="maskContent"]').html(a),this.setLayout(),!0;try{a=a?a:b.languageInterpret("\u6309F5\uff0c\u91cd\u65b0\u8f7d\u5165\uff01"),p.createMask(a,c),f.show(),this.setLayout()}catch(d){utils.log("catche",d),alert(b.languageInterpret("\u6309F5\uff0c\u91cd\u65b0\u8f7d\u5165\uff01"))}};this.hide=function(){if(f)try{f.hide()}catch(a){return utils.log("catche",
a),!0}};this.setLayout=function(){if(f){try{var a;a=h.find("p");0<a.height()&&(h.height(a.height()).css({visibility:"visible",top:parseInt(h.css("top"))-15+"px"}),0<parseInt(a.height())&&(g=parseInt(a.height())))}catch(b){utils.log("catche",b)}var c=document.documentElement.clientHeight;a=document.documentElement.clientWidth;var d=$(document).height(),k=$(document).width(),k=a>=k?a:k;f.height(c>=d?c:d).width(k);c=Math.floor((c-g-parseInt(h.css("padding-top"))-parseInt(h.css("padding-bottom")))/2);
a=Math.floor((a-m-parseInt(h.css("padding-left"))-parseInt(h.css("padding-right")))/2);h.css({top:c,left:a});C&&setTimeout(function(){p.setLayout();C=!1},300)}}},inputPanelMask:function(a,b){a.addObj("inputPanelMask",this);this.show=function(){b.closeExcept("inputPanelMask",!0);this.setLayout()};this.setLayout=function(){var a=$("#chatMessageInputPanel").width();b.getWidget("inputPanelMask").width(a)}},dialog:function(a,b,c,d,f){var h,g=this;c.addObj("dialog",this);var m,p,z,x,r;this.creatDialog=
function(a,c){if(!r){h=$('<div class="dialog"></div>');m=$('<p class="dialogTitle"><span style="padding-left: 6px">'+b.languageInterpret("\u63d0\u793a")+"</span></p>");var d=$('<div class="dialogContentBox"></div>');p=$('<div class="dialogContent"><p style="padding:0px 6px;">'+b.languageInterpret(a)+"</p></div>");z=$('<input type="button" value="'+b.languageInterpret("\u786e\u5b9a")+'">');x=$('<input type="button" value="'+b.languageInterpret("\u53d6\u6d88")+'">');h.width(340).css({overflow:"hidden",
background:"#ffffff",position:"absolute","z-index":"2147483641",margin:"0px",padding:"0px",display:"block",border:"solid 1px #777777"});m.height(23).width("100%").css({background:"#cce0f3","font-weight":"bold","padding-top":"6px","padding-left":"0px"});d.width("100%").css({"padding-top":"4px","padding-left":"0px","padding-bottom":"10px"});p.width("100%").css({"padding-top":"10px",paddingBottom:"10px"});z.height(23).width(80).css({padding:"0","margin-left":"78px"});x.height(23).width(80).css({padding:"0",
"margin-left":"15px"});d.append(p).append(z).append(x);h.append(m).append(d);$("body").prepend(h);this.setLayout();z.bind("click",function(){g.buttonClick(1,c)});x.bind("click",function(){g.buttonClick(0,c)});r=!0}};this.buttonClick=function(c,g){try{a.dialogClick(c,g),h.remove()}catch(k){utils.log("catche",k),setTimeout(function(){h.hide()},1500),d&&d.getConfig("debug")&&f.addRawChatMessage(b.languageInterpret("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6dfb\u52a0\u804a\u5929\u4fe1\u606f\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
k))}r=!1};this.show=function(){h.show();r=!0};this.setLayout=function(){if(!h)return!0;var a=document.documentElement.clientHeight,b=document.documentElement.clientWidth,c=$(h).height(),d=$(h).width(),a=Math.floor((a-c)/2),b=Math.floor((b-d)/2);h.height(c).width(d).css({top:a,left:b})}},layerOut:function(a,b){var c={};this.addObj=function(a,b){c[a]=b};this.entireLayerOut=function(){for(var d in c)try{b&&b.getConfig("showMessageBox")?c.chatMask.setLayout():c[d].setLayout()}catch(f){utils.log("catche",
f),b&&b.getConfig("debug")&&a.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u7a97\u53e3\u5e03\u5c40\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+f)}};this.whenShowMessageBox=function(){c.windowLayerOut.whenShowMessageBox()};this.resizeChatMessageAreaImg=function(){c.chatMessageAreaLayerOut.resizeChatMessageAreaImg()};this.chatMessageAreaLayerOut=function(){c.chatMessageAreaLayerOut.setLayout()}},windowLayerOut:function(a,b){a.addObj("windowLayerOut",this);var c=this,d=parseInt(b.getConfig("windowMinWidth")),
f=parseInt(b.getConfig("windowMinHeight")),h=f+15,g=b.getConfig("language");this.whenShowMessageBox=function(){$("body").css("overflow-x","hidden");$("body").css("overflow-y","hidden");$("html").css("overflow-x","hidden");$("html").css("overflow-y","hidden");$(document).scrollTop(0);$(document).scrollLeft(0);$("#chatWindowBox").hide()};this.setLayout=function(){var a=document.documentElement.clientHeight-15,p=document.documentElement.clientWidth,z=!!window.ActiveXObject&&!window.XMLHttpRequest||"Microsoft Internet Explorer"==
navigator.appName&&"7."==navigator.appVersion.match(/7./i),x=!!window.ActiveXObject&&!window.XMLHttpRequest;$("body").css({padding:"0px",margin:"0px"});a<f&&(a=h);p<d?$("#chatWindowBox").width(d):$("#chatWindowBox").width(p);$("#main_left").width("100%");p<d&&a<=h?z?($("html").css("overflow-x","scroll"),$("html").css("overflow-y","scroll"),$("body").width(d),$("body").height(a+15).css({"overflow-x":"hidden","overflow-y":"hidden"})):($("body").css("overflow-x","scroll"),$("body").css("overflow-y",
"scroll")):p<d&&a>=h?z?($("html").css("overflow-x","scroll"),$("html").css("overflow-y","hidden"),$("body").width(d),$("body").height(a+15).css({"overflow-x":"hidden","overflow-y":"hidden"})):($("body").css("overflow-x","scroll"),$("body").css("overflow-y","hidden")):p>d&&a<=h?z?($("html").css("overflow-x","hidden"),$("html").css("overflow-y","scroll"),$("body").width(p),$("body").height(a+15).css({"overflow-x":"hidden","overflow-y":"hidden"})):($("body").css("overflow-x","hidden"),$("body").css("overflow-y",
"scroll")):a>h&&p>d&&(z?($("html").css("overflow-x","hidden"),$("html").css("overflow-y","hidden"),$("body").width(p),$("body").height(a+15).css({"overflow-x":"hidden","overflow-y":"hidden"})):($("body").css("overflow-x","hidden"),$("body").css("overflow-y","hidden")));$("#messageStyleSettingPanel").height(20);$("#messageStyleSettingPanel").css({padding:"5px 0px"});/none/i.test($("#messageStyleSettingPanel").css("display"))?($("#chatMessageAreaBox").height(a-144-23-40+3),$("#Function_box").css("border-top",
"0px")):x?"russian"==g?$("#chatMessageAreaBox").height(a-176-23-40+3):$("#chatMessageAreaBox").height(a-177-23-40+3):$("#chatMessageAreaBox").height(a-175-23-40+3);$("#chatTitle").height(60);$("#ccVersion").css("left",$("#chatTitle").width()-80);$("#main_right").height(a-26-23+3);$("#main_left").height(a-26-23+3);$("#clerkDescPanel").height(a-175-23-6);$("#hotList").height(a-27-20);$("#clerkInfo").height(a-27-20);$(".leavingMessageArea").height(a-27-20).css({"float":"left"}).width($("#main_left").width());
$("#floatAdvertismentContainer").height(a-27);x&&$("#chatMessageTitle").width($("#chatWindowBox").width()-$("#main_right").width()-237);$("#inputPanelMask").width($("#chatMessageInputPanel").width());$("#sentButtonBox").css("left",$("#chatMessageInputPanel").width()-$("#sentButtonBox").width()-20);x&&$("#chatMessageAreaBox").width($("#main_left").width()-203-203-15);p=0;/none/i.test($("#clerkAd").css("display"))||(p=$("#clerkAd").height());$("#fileUpload").height(a-60-31-p+15);b.getConfig("windowResize")&&
($("#chatMessageAreaBox").find('img[imgType="QYpicture"]').each(function(){QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width())}),setTimeout(function(){b.getConfig("windowResize")&&(c.setLayout(),b.setConfig("windowResize",!1))},200))}},chatMessageAreaLayerOut:function(a,b){var c=this;b.addObj("chatMessageAreaLayerOut",this);this.setLayout=function(){var c=$("#chatMessageAreaBox").height(),f=$("#chatMessageTitle").height(),h=$("#chatMessageArea").height();$("#chatMessageAreaBox").scrollTop(h+
f-c+500);if(a.getConfig("hasImgInMessage")){$("#chatMessageAreaBox").find('img[check!="check"]').one("load",function(){var c=$(this);c.width()&&"check"!=c.attr("check")&&c.attr("originWidth",c.width()).attr("originHeight",c.height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"));if(0==c.width()||""==c.width()||28==parseInt(c.width())&&30==parseInt(c.height()))c.removeAttr("style").attr("check","").attr("originWidth","").attr("originHeight",
"").removeAttr("width").removeAttr("height").attr("src",c.attr("src")).one(function(){$(this).attr("originWidth",$(this).width()).attr("originHeight",$(this).height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"))});b.chatMessageAreaLayerOut()});if("mini"==a.getConfig("wMode"))$("#chatMessageTitle").find('img[check!="check"]').one("load",function(){var c=$(this);c.width()&&"check"!=c.attr("check")&&c.attr("originWidth",c.width()).attr("originHeight",
c.height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"),!0);if(0==c.width()||""==c.width()||28==parseInt(c.width())&&30==parseInt(c.height()))c.removeAttr("style").attr("check","").attr("originWidth","").attr("originHeight","").removeAttr("width").removeAttr("height").attr("src",c.attr("src")).one(function(){$(this).attr("originWidth",$(this).width()).attr("originHeight",$(this).height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),
a.getConfig("wMode"),!0)});b.chatMessageAreaLayerOut()});a.setConfig("hasImgInMessage",!1)}};this.resizeChatMessageAreaImg=function(){$("#chatMessageAreaBox").find('img[imgType="QYpicture"]').each(function(){if("check"==$(this).attr("check"))QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"));else $(this).attr("originWidth","").attr("originHeight","").removeAttr("width").removeAttr("height").css({width:"",height:""}).attr("src",$(this).attr("src")).one("load",function(){$(this).attr("originWidth",
$(this).width()).attr("originHeight",$(this).height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"));b.chatMessageAreaLayerOut()})});"mini"==a.getConfig("wMode")&&$("#chatMessageTitle").find("img").each(function(){if("check"==$(this).attr("check"))QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"),!0);else $(this).attr("originWidth","").attr("originHeight","").removeAttr("width").removeAttr("height").css({width:"",
height:""}).attr("src",$(this).attr("src")).one("load",function(){$(this).attr("originWidth",$(this).width()).attr("originHeight",$(this).height()).attr("check","check");QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),a.getConfig("wMode"),!0)})})};(window.ActiveXObject&&!window.XMLHttpRequest||"Microsoft Internet Explorer"==navigator.appName&&"7."==navigator.appVersion.match(/7./i))&&setInterval(function(){c.resizeChatMessageAreaImg()},3E3)},statistic:function(a){var b=a.getConfig("statisticFileAddress"),
c=window.location.href;this.adStatistic=function(){this.uploadData("miniAd")};this.pageStatistic=function(){this.uploadData("page")};this.floatAdvertisementClick=function(){this.uploadData("floatAdClick")};this.floatAdStatisticDisplay=function(){this.uploadData("floatAdDisplay")};this.uploadData=function(a){$.post(b,{type:a,pageUrl:c},function(a){})}},windowNotice:function(a,b){var c=this,d="",f=window.document.title;this.resetTitle=function(){c.clearAllLoop();window.document.title=f};this.setNotice=
function(){var f=b.languageInterpret("\u65b0\u6d88\u606f!.......");c.clearAllLoop();var g=[];window.document.title=f;var m=setInterval(function(){f=f.substring(1)+f.substring(0,1);window.document.title=f},200);g.push(m);g=a.setConfig("messagetNoticeId",g);d=setTimeout(function(){c.resetTitle()},15E3)};this.clearAllLoop=function(){c.clearNoticeLoop();c.clearTimeOut()};this.clearTimeOut=function(){try{clearTimeout(d)}catch(a){utils.log("catche",a)}};this.clearNoticeLoop=function(){var b=a.getConfig("messagetNoticeId");
try{if(0<b.length){for(var c=0;c<b.length;c++)clearInterval(b[c]);b=[];a.setConfig("messagetNoticeId",b)}}catch(d){utils.log("catche",d)}}},widget:function(a,b){var c={},d=a.getConfig("debug"),f=[],h=this;this.addWidget=function(a,b,d){c[a]=b;d&&f.push(a)};this.closeExcept=function(a,b){for(var d in c)d==a?b&&h.showWidget(d):h.closeWidget(d)};this.closePopWidget=function(){for(var a=0;a<f.length;a++)h.closeWidget(f[a])};this.closePopWidgetExcept=function(a,b){for(var c=0;c<f.length;c++)f[c]==a?b&&
h.showWidget(f[c]):h.closeWidget(f[c])};this.closeAllWidget=function(){for(var a in c)h.closeWidget(a)};this.showWidget=function(a){try{c[a]&&c[a].show&&c[a].show()}catch(f){utils.log("catche",f),d&&b.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1ashowWight\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+f)}};this.closeWidget=function(a){try{c[a]&&c[a].hide&&c[a].hide()}catch(f){utils.log("catche",f),d&&b.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1acloseWidget\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
f)}};this.getWidget=function(a){try{return c[a]?c[a]:!1}catch(f){utils.log("catche",f),d&&b.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1agetWidget\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+f)}};this.toggleWidget=function(a){try{c[a]&&c[a].toggle&&c[a].toggle()}catch(f){utils.log("catche",f),d&&b.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1atoggleWidget\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+f)}}}};
function fullChatWin(){var a=this;a.wintype=0;a.opt={vid:0,clkid:0,clkuid:0,wid:0,robotState:null};a.cometState=0;a.clerkInfo={};a.groupInfo={};a.visitorInfo={};a.groupClerkList={};a.init=function(){utils.log("\u5927\u7a97\u53e3\u521d\u59cb\u5316...");var b=flashvars.sessionId&&"0"!=flashvars.sessionId&&60>utils.getUnixTime()-parseInt(flashvars.opctwdTime);try{var c=utils.store.get(track_prefix+"lastcncttime")}catch(f){}var c=flashvars.sessionId&&"0"!=flashvars.sessionId&&c&&30>utils.getUnixTime()-
c,d=chatWinPub.getVisitorid();0<d&&(b||c)?(utils.log("\u76f4\u63a5\u5206\u914d\u5ba2\u670d..."),websiteRpc.opt.vid=d,websiteRpc.opt.token=flashvars.sessionId,a.allocateClerk()):(utils.log("\u8bbf\u5ba2\u6ce8\u518c..."),websiteRpc.reg("cckf_vclient_cb.rg"))};a.setClerkInfo=function(b){a.clerkInfo=b;try{utils.store.set(track_prefix+"clkid",b.id)}catch(c){}chatWinPub.setClerksInfoAtStore(b.userid,b);chatWinPub.setNewChatClerkUserid(b.userid);chatWinPub.setNewChatClerkInfo(b)};a.allocateClerk=function(){if(parseInt(flashvars.justShowRobot))a.initComplete(2);
else{var b=parseInt(CHAT_CONF.getConfig("clerkUserid"));0<b?(utils.log("\u5bf9\u8bdd\u5ba2\u670dUID",b),a.checkoutClerkInfoByUid(b)):(b=parseInt(flashvars.clerkid),0<b?a.checkoutClerkInfo(b):0<parseInt(flashvars.groupid)?a.groupAllocate():a.websiteAllocate())}};a.checkoutClerkInfo=function(b){a.opt.clkid=b;websiteRpc.opt.clkid=a.opt.clkid;websiteRpc.clerkInfo("cckf_vclient_cb.clkinfo")};a.checkoutClerkInfoByUid=function(a){chatWinPub.opt.tfclkuid=a;websiteRpc.clerkInfoByUid("cckf_vclient_cb.clkinfo")};
a.groupAllocate=function(){a.opt.grpid=parseInt(flashvars.groupid);websiteRpc.opt.grpid=a.opt.grpid;websiteRpc.groupAllocate();websiteRpc.groupClerkList()};a.websiteAllocate=function(){websiteRpc.websiteAllocate("cckf_vclient_cb.webalc")};a.startComet=function(){a.cometState=1;var b=CHAT_CONF.getConfig("olclkhost");"https:"==document.location.protocol&&(b=b.replace("http:","https:"));utils.log("\u63a5\u5165\u6d88\u606f\u670d\u52a1\u5668...");var c=b,d=b.replace("://","://"+utils.getRandomNum(200,
202));chat_comet=new vComet({olclkhost:b,sign_url:c+"signin",sub_url:d+"sub",pub_url:b+"send",vid:a.opt.vid,token:websiteRpc.opt.token,clkuid:a.opt.clkuid,cname:"chat"});chat_comet.on("setChatHistoryBtn",chatWinPub.setChatHistoryBtn);chat_comet.on("showNotifyMsg",utils.showNotificationMsg);chat_comet.on("onClerkStatus",chatWinPub.onClerkStatus);chat_comet.on("onClerkStatusRobot",a.onClerkStatusRobot);chat_comet.run()};a.onClerkStatusRobot=function(b,c){0==c?1==flashvars.isautoonline&&a.changeRoboTalking(1):
0==flashvars.robot_isautohide&&a.changeRoboTalking(0)};a.setCompanyCard=function(){var a=wincfg.win.cplogourl;"https:"==document.location.protocol&&(a=a.replace("http:","https:"));chat.setLogo(a,wincfg.win.websiteurl);chat.setDes(wincfg.win.sidebarname)};a.setWelcomeWords=function(){var a=wincfg.win.welcomphrase;a&&("https:"==document.location.protocol&&(a=a.replace("http://kf.qycn.","https://kf.qycn.")),chat.setMessageTitle(a))};a.setClerkInfoCard=function(){var b=a.clerkInfo;if(b.id){chat.clerkInfoChange();
var c=wincfg.win;1==c.isshowclerkjobnumber&&chat.setClerkJobNumber(b.jobnumber);1==c.isshowclerknickname&&chat.setClerkNickName(b.nickname);1==c.isshowclerkname&&chat.setClerkUserName(b.name);c.isshowclerekphone&&chat.setClerkTelephoneNumber(b.telephone);1==c.isshowclerkemail&&chat.setClerkEmail(b.email);1==c.showotherim&&(b.qq&&"null"!=b.qq.toLowerCase()&&chat.setClerkQQ(b.qq),b.ww&&"null"!=b.ww.toLowerCase()&&chat.setClerkWangWang(b.ww),b.msn&&"null"!=b.msn.toLowerCase()&&chat.setClerkMSN(b.msn),
b.skype&&"null"!=b.skype.toLowerCase()&&chat.setClerkSkype(b.skype),b.alww&&"null"!=b.alww.toLowerCase()&&chat.setClerkALIWangWang(b.alww),b.alwwen&&"null"!=b.alwwen.toLowerCase()&&(c=CHAT_CONF.getConfig("language"),utils.addClerkALIWangWangEN(b.alwwen,c)))}};a.robotInit=function(){utils.log("\u673a\u5668\u4eba\u521d\u59cb\u5316...");websiteRpc.rbtHotQuesList();1==parseInt(flashvars.justShowRobot)?(chat.hideRobot(),utils.log("hideRobot...")):1==flashvars.robot_isautohide?1==a.clerkInfo.state?(chat.hideRobot(),
utils.log("hideRobot...")):(chat.showRobot(),utils.log("showRobot...")):(chat.showRobot(),utils.log("showRobot..."));1==flashvars.isautoonline&&1!=a.clerkInfo.state?(a.changeRoboTalking(1),chat.openRobotWin()):parseInt(flashvars.justShowRobot)&&a.changeRoboTalking(1)};a.changeRoboTalking=function(b){a.opt.robotState!=b&&chat.changeTalk(b)};a.leaveMsgInit=function(){var b=a.clerkInfo.state;1!=b&&1!=a.opt.robotState&&(0==wincfg.lvmsg.canreceivesms?(chat.setChatWindowClerkStatus(b),chat.setLeaveMessageTemplate(wincfg.lvmsg.leavemsg),
chatWinPub.addNoticeMessage(chat.languageInterpret("\u4f60\u6b63\u5728\u7559\u8a00\u4e2d"))):chat.openLeavingMessageWindow())};a.initComplete=function(b){var c=a.clerkInfo.id||0,d=a.clerkInfo.userid||0,f=websiteRpc.opt.vid||0;a.opt.clkid=c;a.opt.clkuid=parseInt(d);a.opt.vid=f;a.setCompanyCard();a.setWelcomeWords();a.robotInit();0<c&&(a.setClerkInfoCard(),a.leaveMsgInit());utils.log("\u6210\u529f\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f",c,a.clerkInfo.nickname,d,a.clerkInfo.state);chat.tellSWFCompleted();
chat.setClerkId(c);chat.setVisitorId(f);1==a.clerkInfo.isdisable?(chat.setVisitorId(f),chat.openLeavingMessageWindow()):(0<c&&chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+a.clerkInfo.nickname+"\u5bf9\u8bdd\u4e2d")),2!=b&&1==a.clerkInfo.state&&a.startComet(),chatWinPub.addClerkAutoReply(),chat.chatWinReadyCall())}}
function miniChatWin(){var a=this;a.wintype=2;a.opt={vid:0,clkid:0,clkuid:0,wid:0,robotState:null};a.cometState=0;a.clerkInfo={};a.visitorInfo={};a.init=function(){utils.log("\u8ff7\u4f60\u7a97\u53e3\u521d\u59cb\u5316...");var b=chatWinPub.getVisitorid();/robot=1/.test(window.location.href)?a.robotInit():0<b&&flashvars.sessionId&&"0"!=flashvars.sessionId?(websiteRpc.opt.vid=b,websiteRpc.opt.token=flashvars.sessionId,a.faceInit(),/reAllocate=1/.test(location.href)&&websiteRpc.websiteAllocate("cckf_vclient_cb.miniwebalc")):
(utils.log("\u8bbf\u5ba2\u6ce8\u518c[mini]..."),websiteRpc.reg("cckf_vclient_cb.minirg"))};a.setClerkInfo=function(b){a.clerkInfo=b;try{utils.store.set(track_prefix+"clkid",b.id)}catch(c){}chatWinPub.setClerksInfoAtStore(b.userid,b);chatWinPub.setNewChatClerkUserid(b.userid);chatWinPub.setNewChatClerkInfo(b)};a.faceInit=function(){var b=parseInt(CHAT_CONF.getConfig("clerkUserid"));0<b?(utils.log("\u5bf9\u8bdd\u5ba2\u670dUID",b),a.checkoutClerkInfoByUid(b),a.setWelcomeWords()):(b=parseInt(flashvars.clerkid),
0<b?(a.checkoutClerkInfo(b),a.setWelcomeWords()):a.showWelcomeWord())};a.robotInit=function(){a.opt.robotState=1;$('<div id="toolMask" class="toolMask" style="display:block;alpha(opacity=50);opacity:0.5;width:100%;"></div>').appendTo($("#chatToolBar"));chat.addRobotMessage(decodeURIComponent(flashvars.robot_welcomewords));a.initComplete(2)};a.leaveMsgInit=function(){var b=a.clerkInfo.state;0==b&&0==wincfg.lvmsg.canreceivesms?(chat.setLeaveMessageTemplate(wincfg.lvmsg.leavemsg),chatWinPub.addNoticeMessage(chat.languageInterpret("\u4f60\u6b63\u5728\u7559\u8a00\u4e2d"))):
1!=b&&1==wincfg.lvmsg.canreceivesms&&(chat.showOtherConsulting(),chat.closeChat())};a.startComet=function(){a.cometState=1;var b=CHAT_CONF.getConfig("olclkhost");"https:"==document.location.protocol&&(b=b.replace("http:","https:"));utils.log("\u63a5\u5165\u6d88\u606f\u670d\u52a1\u5668[mini]...");var c=b,d=b.replace("://","://"+utils.getRandomNum(200,202));chat_comet=new vComet({olclkhost:b,sign_url:c+"signin",sub_url:d+"sub",pub_url:b+"send",vid:a.opt.vid,token:websiteRpc.opt.token,clkuid:a.opt.clkuid,
cname:"mini"});chat_comet.on("setChatHistoryBtn",chatWinPub.setChatHistoryBtn);chat_comet.on("onClerkStatus",chatWinPub.onClerkStatus);chat_comet.run()};a.onMiniRegSuccess=function(){a.faceInit()};a.checkoutClerkInfo=function(b){a.opt.clkid=b;websiteRpc.opt.clkid=a.opt.clkid;websiteRpc.clerkInfo("cckf_vclient_cb.miniclkinfo")};a.checkoutClerkInfoByUid=function(a){chatWinPub.opt.tfclkuid=a;websiteRpc.clerkInfoByUid("cckf_vclient_cb.miniclkinfo")};a.setWelcomeWords=function(){var a=decodeURIComponent(flashvars.miniWelcome);
a&&("https:"==document.location.protocol&&(a=a.replace("http://kf.qycn.","https://kf.qycn.")),chat.setMessageTitle(a))};a.showWelcomeWord=function(){a.initComplete();a.setWelcomeWords()};a.allocateClerk=function(){if(1==a.opt.robotState)return utils.log("\u5f53\u524d\u5df2\u7531\u673a\u5668\u4eba\u63a5\u5f85"),!1;1==a.cometState&&"undefined"!=typeof chat_comet&&0!=chat_comet.opt.clkuid?utils.log("\u5df2\u7ecf\u5206\u914d\u4e86\u5ba2\u670d"):websiteRpc.websiteAllocate("cckf_vclient_cb.miniwebalc")};
a.onAllocateClerk=function(){var b=a.clerkInfo.userid||0;a.opt.clkid=a.clerkInfo.id||0;a.opt.clkuid=parseInt(b);a.leaveMsgInit();"undefined"!=typeof chat_comet&&1==a.clerkInfo.state&&(chat_comet.opt.clkuid=b,chat_comet.renewSub(),chatWinPub.updChatHistoryBtn({wid:websiteRpc.opt.wid,olc:chat_comet.opt.olclkhost,ssid:chat_comet.opt.ssid,u:b,nick:a.clerkInfo.nickname||"",v:chat_comet.opt.vid}),chatWinPub.addClerkAutoReply())};a.initComplete=function(b){var c=a.clerkInfo.id||0,d=a.clerkInfo.userid||0,
f=websiteRpc.opt.vid||0;a.opt.clkid=c;a.opt.clkuid=parseInt(d);a.opt.vid=f;0<c&&a.leaveMsgInit();utils.log("\u6210\u529f\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f[mini]",c,a.clerkInfo.nickname,d,a.clerkInfo.state);chat.tellSWFCompleted();1==a.clerkInfo.isdisable?(chat.setVisitorId(f),chat.openLeavingMessageWindow()):(0<c&&chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+a.clerkInfo.nickname+"\u5bf9\u8bdd\u4e2d")),2!=b&&a.startComet(),chatWinPub.addClerkAutoReply(),chat.chatWinReadyCall())}}
var chatWinPub={opt:{tfclkuid:0,tfclktime:0},clerkMsgTimeout:null,visitorMsgTimeout:null,hasfilteremail:!1,hasfiltertel:!1,hasfiltermb:!1,hasfilterqq:!1,hasAskQQ:!1,autoReply:{},addClerkAutoReply:function(){try{if(1==this.autoReply.pcAutoReplyOn&&this.autoReply.pcAutoReplyTips){var a=_chatWin.clerkInfo.nickname+" "+utils.getDateTime();chat.addRawChatMessage(a,1);chat.addNoReformRawChatMessage(this.autoReply.pcAutoReplyTips,10)}}catch(b){}},getVisitorid:function(){var a=function(){var a=(/(opctwdTime)=(\d+)/.exec(location.href)||
[])[2]||0;return a=parseInt(a)},b=function(){var a=(/(visitorid)=(\d+)/.exec(location.href)||[])[2]||0;return a=parseInt(a)}();if(0<b&&10>utils.getUnixTime()-a())return b;a=0;a=parseInt(websiteRpc.opt.vid);if(0<a)return a;try{a=parseInt(utils.__cookie("CCKF_visitor_id_"+websiteRpc.opt.wid))}catch(c){try{a=parseInt(utils.__cookie("CCKF_visitor_id_"+websiteRpc.opt.wid))}catch(d){}}if(0<a)return a;try{a=parseInt(utils.store.get(track_prefix+"vid"))}catch(c){try{a=parseInt(utils.store.get(track_prefix+
"vid"))}catch(d){}}return 0<a?a:0},getNewChatClerkUserid:function(){var a=0;try{a=parseInt(utils.__cookie(track_prefix+"nwclkuid"))}catch(b){try{a=parseInt(utils.__cookie(track_prefix+"nwclkuid"))}catch(c){}}return a},setNewChatClerkUserid:function(a){if(0<parseInt(a)){var b=new Date;b.setTime(b.getTime()+2E3);try{utils.__cookie(track_prefix+"nwclkuid",a,{expires:b,path:"/"})}catch(c){try{utils.__cookie(track_prefix+"nwclkuid",a,{expires:b,path:"/"})}catch(d){}}}},setNewChatClerkInfo:function(a){a=
{id:a.id,userid:a.userid,nickname:a.nickname,name:a.name,sex:a.sex,jobnumber:a.jobnumber,state:a.state,email:a.email,qq:a.qq,skype:a.skype,telephone:a.telephone,ww:a.ww,alww:a.alww,alwwen:a.alwwen};try{utils.store.set(track_prefix+"nwclkinfo",a)}catch(b){}},getNewChatClerkInfo:function(){var a;try{a=utils.store.get(track_prefix+"nwclkinfo")}catch(b){try{a=utils.store.get(track_prefix+"nwclkinfo")}catch(c){}}return"object"==typeof a?a:{}},clerkChangeListener:function(){setInterval(function(){var a=
chatWinPub.getNewChatClerkUserid();chatWinPub.clerkChangeSeter(a,!0)},500)},clerkChangeSeter:function(a,b){if(0<a&&a!=chat_comet.opt.clkuid){_chatWin.opt.clkuid=a;chat_comet.opt.clkuid=a;b&&chat_comet.renewSub();var c=chatWinPub.getNewChatClerkInfo();"undefined"!=typeof c.userid&&c.userid==a?chatWinPub.resetChatClerk(c):(chatWinPub.opt.tfclkuid=a,websiteRpc.clerkInfoByUid("cckf_vclient_cb.clkchglsn"))}},resetChatClerk:function(a){_chatWin.opt.clkid=a.id;websiteRpc.opt.clkid=a.id;_chatWin.clerkInfo=
a;0==_chatWin.wintype&&_chatWin.setClerkInfoCard();chat.setClerkId(a.id);chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+a.nickname+"\u5bf9\u8bdd\u4e2d"));"undefined"!=typeof chat_comet&&chatWinPub.updChatHistoryBtn({wid:websiteRpc.opt.wid,olc:chat_comet.opt.olclkhost,ssid:chat_comet.opt.ssid,u:a.userid,nick:a.nickname||"",v:chat_comet.opt.vid})},filterVisitorInfo:function(a){var b=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,c=/0\d{2,3}-?\d{7,8}/,d=/(13|14|15|17|18)[0-9]{9}/,f=/[qQ]{1,2}[^\d]*[1-9][0-9]{6,9}/,
h=/[1-9][0-9]{6,9}[^\d]*[qQ]{1,2}/,g=/[1-9][0-9]{6,9}/,m,p,z,x,r=!1;!this.hasfilteremail&&(b=a.match(b))&&(m=b[0],this.hasfilteremail=r=!0);!this.hasfiltertel&&(b=a.match(c))&&(p=b[0],this.hasfiltertel=r=!0);!this.hasfiltermb&&(b=a.match(d))&&(z=b[0],this.hasfiltermb=r=!0);if(!this.hasfilterqq)if(a=a.replace(c," "),a=a.replace(d," "),a=a.replace(/\d+[-_]\d+/g," "),a=a.replace(/[0-9]{11,}/g," "),c=a.match(f)){if(a=c[0].match(g))x=a[0],this.hasfilterqq=r=!0}else if(h=a.match(h)){if(a=h[0].match(g))x=
a[0],this.hasfilterqq=r=!0}else this.hasAskQQ&&-1==a.indexOf("-")&&-1==a.indexOf("_")&&(a=a.match(g))&&(x=a[0],this.hasfilterqq=r=!0);r&&websiteRpc.alterVisitorContact({UserPhone:p,UserMobile:z,UserQQ:x,UserEmail:m})},checkIsAskQQ:function(a){if(this.hasfilterqq)return!1;a.match(/[qQ]{2}/)&&(this.hasAskQQ=!0)},clearChattingUserid:function(){try{utils.__cookie(track_prefix+"clkuid",0,{expires:new Date(0),path:"/"})}catch(a){}},setChatHistoryBtn:function(a){var b="savechathistory.php?wid="+a.wid+"&olc="+
encodeURIComponent(a.olc)+"&ssid="+a.ssid,b=b+("&u="+a.u+"&nick="+encodeURIComponent(a.nick)+"&v="+a.v);chat.setChatHistoryBtn(b)},updChatHistoryBtn:function(a){var b="savechathistory.php?wid="+a.wid+"&olc="+encodeURIComponent(a.olc)+"&ssid="+a.ssid,b=b+("&u="+a.u+"&nick="+encodeURIComponent(a.nick)+"&v="+a.v);chat.updChatHistoryBtn(b)},startClerkMsgTimeout:function(){if("undefined"!=typeof _chatWin&&"undefined"!=typeof _chatWin.clerkInfo.state&&1==_chatWin.clerkInfo.state){var a=this;if(null!=a.clerkMsgTimeout)try{clearTimeout(a.clerkMsgTimeout),
a.clerkMsgTimeout=null}catch(b){}a.clerkMsgTimeout=setTimeout(function(){a.addNoticeMessage(wincfg.win.rsptimeouthints)},1E3*wincfg.win.rsptimeout)}},clearClerkMsgTimeout:function(){null!=this.clerkMsgTimeout&&(clearTimeout(this.clerkMsgTimeout),this.clerkMsgTimeout=null)},startVisitorMsgTimeout:function(){if("undefined"!=typeof _chatWin&&"undefined"!=typeof _chatWin.clerkInfo.state&&1==_chatWin.clerkInfo.state){var a=this;if(null!=a.visitorMsgTimeout)try{clearTimeout(a.visitorMsgTimeout),a.visitorMsgTimeout=
null}catch(b){}a.visitorMsgTimeout=setTimeout(function(){a.addNoticeMessage(wincfg.win.sdmsgtimeouthinks)},1E3*wincfg.win.sdmsgtimeout)}},clearVisitorMsgTimeout:function(){null!=this.visitorMsgTimeout&&(clearTimeout(this.visitorMsgTimeout),this.visitorMsgTimeout=null)},addNoticeMessage:function(a){chat.addRawChatMessage(a,2)},addNoticeMessageHtml:function(a){chat.addNoReformRawChatMessage(a,2)},onClerkStatus:function(a,b){var c=_chatWin.clerkInfo;if(c.state!=b){var d,f=chatWinPub;0==b?chatWinPub.addClerkOfflineNotice():
1==b?(d="\u5ba2\u670d"+c.nickname+"\u4e0a\u7ebf\u4e86",chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+c.nickname+"\u5bf9\u8bdd\u4e2d")),chat.openChat()):2==b?(d=wincfg.win.busymsg,chatWinPub.addClerkBusyNotice()):3==b&&(d=wincfg.win.leavemsg,chatWinPub.addClerkLeaveNotice());c.state=b;d&&f.addNoticeMessage(chat.languageInterpret(d));chat.setChatWindowClerkStatus(b)}},onTranferClerkComplete:function(a){var b=_chatWin.groupClerkList[a].userid;_chatWin.opt.clkid=a;_chatWin.opt.clkuid=b;_chatWin.setClerkInfo(_chatWin.groupClerkList[a]);
chat_comet.opt.clkuid=b;chat_comet.opt.changeclerk=!0;_chatWin.setClerkInfoCard();chat.setClerkId(a);chat_comet.renewSub()},onTranferClerkFault:function(a){chat.addRawChatMessage("\u8f6c\u6362\u5ba2\u670d["+_chatWin.groupClerkList[a].nickname+"]\u5931\u8d25,\u8bf7\u91cd\u65b0\u9009\u62e9\u5ba2\u670d",2)},onTranferClerk:function(){websiteRpc.clerkInfoByUid("cckf_vclient_cb.tfclkifbu")},onRegSuccess:function(a){utils.log("\u8bbf\u5ba2\u6ce8\u518c\u6210\u529f",a);var b=a.visitorid;try{utils.__cookie("CCKF_visitor_id_"+
websiteRpc.opt.wid,b,{expires:3650,path:"/",domain:CHAT_CONF.getConfig("cookies_domain")})}catch(c){try{utils.__cookie("CCKF_visitor_id_"+websiteRpc.opt.wid,b,{expires:3650,path:"/",domain:CHAT_CONF.getConfig("cookies_domain")})}catch(d){}}try{utils.store.set(track_prefix+"vid",b)}catch(c){try{utils.store.set(track_prefix+"vid",b)}catch(d){}}try{utils.store.set(track_prefix+"tokenkey",a.tokenkey),utils.store.set(track_prefix+"lastcncttime",utils.getUnixTime())}catch(c){}websiteRpc.opt.vid=parseInt(a.visitorid);
websiteRpc.opt.token=a.tokenkey;websiteRpc.updateVisitorMemberInfo();chatWinPub.onRegComplete()},onRegComplete:function(){_chatWin.allocateClerk()},onRegFail:function(a){websiteRpc.regFailNum>=websiteRpc.regRedoNum?utils.log("\u6ce8\u518c\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):(websiteRpc.regFailNum++,utils.log("\u8bbf\u5ba2\u6ce8\u518c\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.regFailNum),setTimeout(function(){websiteRpc.reg(a)},websiteRpc.redoTimeout))},
onMiniRegSuccess:function(a){utils.log("\u8bbf\u5ba2\u6ce8\u518c\u6210\u529f[mini]",a);var b=a.visitorid;try{utils.store.set(track_prefix+"vid",b)}catch(c){try{utils.store.set(track_prefix+"vid",b)}catch(d){}}try{utils.__cookie("CCKF_visitor_id_"+websiteRpc.opt.wid,b,{expires:3650,path:"/",domain:CHAT_CONF.getConfig("cookies_domain")})}catch(c){try{utils.__cookie("CCKF_visitor_id_"+websiteRpc.opt.wid,b,{expires:3650,path:"/",domain:CHAT_CONF.getConfig("cookies_domain")})}catch(d){}}try{utils.store.set(track_prefix+
"tokenkey",a.tokenkey),utils.store.set(track_prefix+"lastcncttime",utils.getUnixTime())}catch(c){}websiteRpc.opt.vid=parseInt(a.visitorid);websiteRpc.opt.token=a.tokenkey;websiteRpc.updateVisitorMemberInfo();_chatWin.onMiniRegSuccess()},onGetClerkInfoSuccess:function(a){utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u6210\u529f.",a.clerkInfo);_chatWin.setClerkInfo(a.clerkInfo);chatWinPub.autoReply=a.autoReply?a.autoReply:{};_chatWin.initComplete(1)},onMiniClerkInfoSuccess:function(a){utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u6210\u529f[mini].",
a.clerkInfo);_chatWin.setClerkInfo(a.clerkInfo);chatWinPub.autoReply=a.autoReply?a.autoReply:{};_chatWin.initComplete(1)},onGetClerkInfoFail:function(a){websiteRpc.clkinfoFailNum>=websiteRpc.clkinfoRedoNum?(utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"),alert("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u8be5\u5ba2\u670d\u662f\u5426\u5df2\u5206\u914d\u5728\u5f53\u524d\u7f51\u7ad9\u4e2d\uff01")):(websiteRpc.clkinfoFailNum++,
utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.clkinfoFailNum),setTimeout(function(){websiteRpc.clerkInfo(a)},websiteRpc.redoTimeout))},onGetGroupInfoSuccess:function(a){utils.log("\u83b7\u53d6\u5ba2\u670d\u5206\u7ec4\u4fe1\u606f\u6210\u529f.",a);_chatWin.groupInfo=a},onGetGroupInfoFail:function(){websiteRpc.grpinfoFailNum>=websiteRpc.grpinfoRedoNum?utils.log("\u83b7\u53d6\u5ba2\u670d\u5206\u7ec4\u4fe1\u606f\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):
(websiteRpc.grpinfoFailNum++,utils.log("\u83b7\u53d6\u5ba2\u670d\u5206\u7ec4\u4fe1\u606f\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.grpinfoFailNum),setTimeout(function(){websiteRpc.groupInfo()},websiteRpc.redoTimeout))},onGroupAllocateSuccess:function(a){utils.log("\u5206\u914d\u5ba2\u670d[\u7ec4\u5206\u914d]\u6210\u529f.",a.clerkInfo);_chatWin.setClerkInfo(a.clerkInfo);chatWinPub.autoReply=a.autoReply?a.autoReply:{};_chatWin.initComplete(1)},onGroupAllocateFail:function(){websiteRpc.grpalcFailNum>=
websiteRpc.grpalcRedoNum?utils.log("\u5206\u914d\u5ba2\u670d[\u7ec4\u5206\u914d]\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):(websiteRpc.grpalcFailNum++,utils.log("\u5206\u914d\u5ba2\u670d[\u7ec4\u5206\u914d]\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.grpalcFailNum),setTimeout(function(){websiteRpc.groupAllocate()},websiteRpc.redoTimeout))},onWebAllocateSuccess:function(a){utils.log("\u5206\u914d\u5ba2\u670d[\u7f51\u7ad9\u5206\u914d]\u6210\u529f.",a.clerkInfo);
_chatWin.setClerkInfo(a.clerkInfo);chatWinPub.autoReply=a.autoReply?a.autoReply:{};_chatWin.initComplete(1)},onMiniWebAllocateSuccess:function(a){utils.log("\u5206\u914d\u5ba2\u670d[\u7f51\u7ad9\u5206\u914d][mini]\u6210\u529f.",a.clerkInfo);_chatWin.setClerkInfo(a.clerkInfo);chatWinPub.autoReply=a.autoReply?a.autoReply:{};_chatWin.onAllocateClerk()},onWebAllocateFail:function(a){websiteRpc.webalcFailNum>=websiteRpc.webalcRedoNum?(utils.log("\u5206\u914d\u5ba2\u670d[\u7f51\u7ad9\u5206\u914d]\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"),
alert("\u5ba2\u670d\u5206\u914d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u8be5\u7f51\u7ad9\u662f\u5426\u5df2\u5206\u914d\u5ba2\u670d\uff01")):(websiteRpc.webalcFailNum++,utils.log("\u5206\u914d\u5ba2\u670d[\u7f51\u7ad9\u5206\u914d]\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.webalcFailNum),setTimeout(function(){websiteRpc.websiteAllocate(a)},websiteRpc.redoTimeout))},onGetGroupClerkSuccess:function(a){utils.log("\u83b7\u53d6\u5206\u7ec4\u5ba2\u670d\u5217\u8868\u6210\u529f.",
a);var b,c={},d=a.clerkList;a=a.clerkStateList;utils.log("\u6dfb\u52a0\u5206\u7ec4\u5ba2\u670d\u5217\u8868.");$("#chatMessageArea").prepend('<div id="groupClkListCt" style="border: 1px solid #d6d5d5; border-radius: 4px;"></div>');for(b in d){var f=d[b].id,h;h=0;var g=void 0;for(g in a)if(f==a[g].clerkid){h=a[g].state;break}d[b].state=h;c[f]=d[b];chat.addClerk(f,d[b].nickname,h)}_chatWin.groupClerkList=c},getClerkidFromGpClkListByuid:function(a){var b=0;for(i in _chatWin.groupClerkList)if(_chatWin.groupClerkList[i].userid==
a){b=parseInt(i);break}return b},onGetGroupClerkFail:function(){websiteRpc.grpclkFailNum>=websiteRpc.grpclkRedoNum?utils.log("\u83b7\u53d6\u5206\u7ec4\u5ba2\u670d\u5217\u8868\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):(websiteRpc.grpclkFailNum++,utils.log("\u83b7\u53d6\u5206\u7ec4\u5ba2\u670d\u5217\u8868\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.grpclkFailNum),setTimeout(function(){websiteRpc.groupClerkList()},websiteRpc.redoTimeout))},onRbtHotQuesListSuccess:function(a){var b,
c=[];for(b in a)c.push([a[b].id,a[b].questions]);chat.addHotQuestion(c)},onRbtHotQuesListFail:function(){var a=[chat.languageInterpret("\u83b7\u53d6\u70ed\u70b9\u95ee\u9898\u5931\u8d25")];chat.addHotQuestion(a)},onTranferClerkInfoSuccess:function(a){var b=a.id;if(!b)return!1;_chatWin.opt.clkid=b;_chatWin.opt.clkuid=a.userid;var c=_chatWin.clerkInfo.nickname;_chatWin.setClerkInfo(a);0==_chatWin.wintype&&_chatWin.setClerkInfoCard();chat.setClerkId(b);a=a.nickname;chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+
a+"\u5bf9\u8bdd\u4e2d"));this.addNoticeMessage(utils.getDateTime(this.opt.tfclktime)+" "+chat.languageInterpret(c+"\u5df2\u5c06\u60a8\u7684\u5bf9\u8bdd\u8f6c\u63a5\u7ed9"+a));0==_chatWin.wintype&&chat.newMessageNotice()},onTranferClerkInfoFail:function(a){websiteRpc.tfclkFailNum>=websiteRpc.tfclkRedoNum?(utils.log("\u83b7\u53d6\u8f6c\u63a5\u5ba2\u670d\u4fe1\u606f\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"),this.addNoticeMessage("\u83b7\u53d6\u8f6c\u63a5\u5ba2\u670d\u4fe1\u606f\u5931\u8d25")):
(websiteRpc.tfclkFailNum++,utils.log("\u83b7\u53d6\u8f6c\u63a5\u5ba2\u670d\u4fe1\u606f\u5931\u8d25 "+websiteRpc.redoTimeout/1E3+"\u79d2\u540e\u91cd\u8bd5 Nums "+websiteRpc.tfclkFailNum),setTimeout(function(){websiteRpc.clerkInfoByUid(a)},websiteRpc.redoTimeout))},onRcauClerkInfoSuccess:function(a){var b=a.id;if(!b)return!1;_chatWin.opt.clkid=b;_chatWin.opt.clkuid=a.userid;_chatWin.setClerkInfo(a);0==_chatWin.wintype&&_chatWin.setClerkInfoCard();chat.setClerkId(b);b=a.nickname;chat.setStatus(chat.languageInterpret("\u4e0e\u5ba2\u670d"+
a.nickname+"\u5bf9\u8bdd\u4e2d"));$(".msgclkname_"+a.userid).text(b);chatWinPub.updChatHistoryBtn({wid:websiteRpc.opt.wid,olc:chat_comet.opt.olclkhost,ssid:chat_comet.opt.ssid,u:chat_comet.opt.clkuid,nick:_chatWin.clerkInfo.nickname||"",v:chat_comet.opt.vid})},setClerksInfoAtStore:function(a,b){var c=this.getClerksInfoAtStore(track_prefix+"clksinfo");c[a]={clkid:b.id,nick:b.nickname};try{utils.store.set(track_prefix+"clksinfo",c)}catch(d){}},getClerksInfoAtStore:function(){try{var a=utils.store.get(track_prefix+
"clksinfo")}catch(b){}return"object"==typeof a?a:{}},addLastActiveTimeoutNotice:function(){var a=CHAT_CONF.getConfig("language");this.addNoticeMessageHtml({"zh-cn":'\u7531\u4e8e\u60a8\u957f\u65f6\u95f4\u672a\u54a8\u8be2\uff0c\u7cfb\u7edf\u5df2\u7ecf\u4e3b\u52a8\u7ed3\u675f\u672c\u6b21\u5bf9\u8bdd\u3002\u5982\u679c\u60a8\u8fd8\u6709\u95ee\u9898\uff0c\u53ef\u4ee5<a href="javascript:;" class="lastActiveTimeoutNoticeBtn">\u518d\u6b21\u8bf7\u6c42\u5bf9\u8bdd</a>',"zh-tw":'\u7531\u65bc\u60a8\u9577\u6642\u9593\u672a\u8aee\u8a62\uff0c\u7cfb\u7d71\u5df2\u7d93\u4e3b\u52d5\u7d50\u675f\u672c\u6b21\u5c0d\u8a71\u3002\u5982\u679c\u60a8\u9084\u6709\u554f\u984c\uff0c\u53ef\u4ee5<a href="javascript:;" class="lastActiveTimeoutNoticeBtn">\u518d\u6b21\u8acb\u6c42\u5c0d\u8a71</a>',
en:'This dialogue is over, please <a href="javascript:;" class="lastActiveTimeoutNoticeBtn">Ask for a dialogue again</a>',russian:'This dialogue is over, please <a href="javascript:;" class="lastActiveTimeoutNoticeBtn">Ask for a dialogue again</a>',japanese:'\u9577\u3044\u6642\u9593\u304a\u554f\u3044\u5408\u308f\u305b\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30b7\u30b9\u30c6\u30e0\u306f\u3059\u3067\u306b\u79c1\u306e\u5bfe\u8a71\u3092\u7d42\u308f\u308a\u307e\u3059\u3002<a href="javascript:;" class="lastActiveTimeoutNoticeBtn">\u518d\u5ea6\u306e\u5bfe\u8a71\u3092\u8acb\u6c42\u3059\u308b</a>'}[a]);
"big"==CHAT_CONF.getConfig("wMode")&&CHAT_CONF.setConfig("hasAssessed",!0);chat.closeChat();$(".lastActiveTimeoutNoticeBtn").bind("click",function(){location.href=location.href})},addClerkOfflineNotice:function(){var a=CHAT_CONF.getConfig("language");this.addNoticeMessageHtml({"zh-cn":'\u5f53\u524d\u5ba2\u670d\u5df2\u79bb\u7ebf\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9<a href="javascript:;" class="clerkOfflineNoticeBtn2 clerkOfflineNoticeBtn">\u54a8\u8be2\u5176\u4ed6\u5ba2\u670d</a>',"zh-tw":'\u7576\u524d\u5ba2\u670d\u5df2\u96e2\u7dda\uff0c\u60a8\u53ef\u4ee5\u9078\u64c7<a href="javascript:;" class="clerkOfflineNoticeBtn2 clerkOfflineNoticeBtn">\u8aee\u8a62\u5176\u4ed6\u5ba2\u670d</a>',
en:'The service is already offline, please <a href="javascript:;" class="clerkOfflineNoticeBtn2 clerkOfflineNoticeBtn">chat with another services</a>',russian:'The service is already offline, please <a href="javascript:;" class="clerkOfflineNoticeBtn2 clerkOfflineNoticeBtn">chat with another services</a>',japanese:'\u73fe\u5728\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306f\u3059\u3067\u306b\u30aa\u30d5\u30e9\u30a4\u30f3\u3067,\u9078\u629e\u3067\u304d\u307e\u3059<a href="javascript:;" class="clerkOfflineNoticeBtn2 clerkOfflineNoticeBtn">\u305d\u306e\u4ed6\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306b\u554f\u3044\u5408\u308f\u305b</a>'}[a]);
"big"==CHAT_CONF.getConfig("wMode")&&CHAT_CONF.setConfig("hasAssessed",!0);$(".clerkOfflineNoticeBtn2").bind("click",function(){var a=location.href.replace(/clerkid=\d+&?/,"").replace(/clkuserid=\d+&?/,"");location.href=a+"&reAllocate=1"})},addClerkBusyNotice:function(){var a=CHAT_CONF.getConfig("language");this.addNoticeMessageHtml({"zh-cn":'\u5f53\u524d\u5ba2\u670d\u5fd9\u788c\u4e2d\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9<a href="javascript:;" class="clerkBusyNoticeBtn clerkOfflineNoticeBtn">\u54a8\u8be2\u5176\u4ed6\u5ba2\u670d</a>',
"zh-tw":'\u7576\u524d\u5ba2\u670d\u5fd9\u788c\u4e2d\uff0c\u60a8\u53ef\u4ee5\u9078\u64c7<a href="javascript:;" class="clerkBusyNoticeBtn clerkOfflineNoticeBtn">\u8aee\u8a62\u5176\u4ed6\u5ba2\u670d</a>',en:'The service is busy, please <a href="javascript:;" class="clerkBusyNoticeBtn clerkOfflineNoticeBtn">chat with another services</a>',russian:'The service is busy, please <a href="javascript:;" class="clerkBusyNoticeBtn clerkOfflineNoticeBtn">chat with another services</a>',japanese:'\u73fe\u5728\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306f\u3059\u3067\u306b\u30aa\u30d5\u30e9\u30a4\u30f3\u3067,\u9078\u629e\u3067\u304d\u307e\u3059<a href="javascript:;" class="clerkBusyNoticeBtn clerkOfflineNoticeBtn">\u305d\u306e\u4ed6\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306b\u554f\u3044\u5408\u308f\u305b</a>'}[a]);
$(".clerkBusyNoticeBtn").bind("click",function(){var a=location.href.replace(/clerkid=\d+&?/,"").replace(/clkuserid=\d+&?/,"");location.href=a+"&reAllocate=1"})},addClerkLeaveNotice:function(){var a=CHAT_CONF.getConfig("language");this.addNoticeMessageHtml({"zh-cn":'\u5f53\u524d\u5ba2\u670d\u6682\u79bb\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9<a href="javascript:;" class="clerkLeaveNoticeBtn clerkOfflineNoticeBtn">\u54a8\u8be2\u5176\u4ed6\u5ba2\u670d</a>',"zh-tw":'\u7576\u524d\u5ba2\u670d\u66ab\u96e2\uff0c\u60a8\u53ef\u4ee5\u9078\u64c7<a href="javascript:;" class="clerkLeaveNoticeBtn clerkOfflineNoticeBtn">\u8aee\u8a62\u5176\u4ed6\u5ba2\u670d</a>',
en:'The service is already left, please <a href="javascript:;" class="clerkLeaveNoticeBtn clerkOfflineNoticeBtn">chat with another services</a>',russian:'The service is already left, please <a href="javascript:;" class="clerkLeaveNoticeBtn clerkOfflineNoticeBtn">chat with another services</a>',japanese:'\u73fe\u5728\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306f\u3059\u3067\u306b\u30aa\u30d5\u30e9\u30a4\u30f3\u3067,\u9078\u629e\u3067\u304d\u307e\u3059<a href="javascript:;" class="clerkLeaveNoticeBtn clerkOfflineNoticeBtn">\u305d\u306e\u4ed6\u306e\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306b\u554f\u3044\u5408\u308f\u305b</a>'}[a]);
$(".clerkLeaveNoticeBtn").bind("click",function(){var a=location.href.replace(/clerkid=\d+&?/,"").replace(/clkuserid=\d+&?/,"");location.href=a+"&reAllocate=1"})}},CHAT_WIN_ID=function(){var a=parseInt(1E4*Math.random()).toString(),b=(new Date).getTime().toString();return a+"_"+b.substring(4)}(),CHAT_CONF=null,track_prefix=null,chat_comet,robotHotQlist={},cckf_vclient_cb={rg:function(){var a=arguments,b=1==a.length?a[0]:a[1];utils.__cookie(track_prefix+"beingreg",0,{expires:new Date(0),path:"/"});
utils.log("\u8bbf\u5ba2\u6ce8\u518c\u56de\u8c03",b);if("undefined"!=typeof b&&0==b.errno)chatWinPub.onRegSuccess(b.data);else a=a[0],b={fr:"Chat",reqType:utils.hasXhrSupport?"xhr":"jsonp",reqPacket:utils.JSON.stringify(a.userData.data)||"",xhrStatus:a.xhrStatus||"-",xhrReadyState:a.xhrReadyState||"-",xhrStatusText:a.xhrStatusText||"-",ua:navigator.userAgent||"-",reqRet:b||"-"},utils.remoteLog(b),chatWinPub.onRegFail("cckf_vclient_cb.rg")},minirg:function(){var a=arguments,a=1==a.length?a[0]:a[1];
utils.__cookie(track_prefix+"beingreg",0,{expires:new Date(0),path:"/"});utils.log("\u8bbf\u5ba2\u6ce8\u518c\u56de\u8c03[mini]",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onMiniRegSuccess(a.data);else chatWinPub.onRegFail("cckf_vclient_cb.minirg")},clkinfo:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u56de\u8c03",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onGetClerkInfoSuccess(a.data);else chatWinPub.onGetClerkInfoFail("cckf_vclient_cb.clkinfo")},
miniclkinfo:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u56de\u8c03[mini]",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onMiniClerkInfoSuccess(a.data);else chatWinPub.onGetClerkInfoFail("cckf_vclient_cb.miniclkinfo")},grpalc:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u5206\u914d\u5ba2\u670d\u56de\u8c03[\u7ec4\u5206\u914d]",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onGroupAllocateSuccess(a.data);else if("undefined"!=
typeof a&&3001==a.errno)websiteRpc.websiteAllocate("cckf_vclient_cb.webalc");else chatWinPub.onGroupAllocateFail()},webalc:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u5206\u914d\u5ba2\u670d\u56de\u8c03[\u7f51\u7ad9\u5206\u914d]",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onWebAllocateSuccess(a.data);else chatWinPub.onWebAllocateFail("cckf_vclient_cb.webalc")},miniwebalc:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u5206\u914d\u5ba2\u670d\u56de\u8c03[\u7f51\u7ad9\u5206\u914d][mini]",
a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onMiniWebAllocateSuccess(a.data);else chatWinPub.onWebAllocateFail("cckf_vclient_cb.miniwebalc")},grpinfo:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u5ba2\u670d\u5206\u7ec4\u4fe1\u606f\u56de\u8c03",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onGetGroupInfoSuccess(a.data);else chatWinPub.onGetGroupInfoFail()},grpclklist:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u5206\u7ec4\u5ba2\u670d\u5217\u8868\u56de\u8c03",
a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onGetGroupClerkSuccess(a.data);else chatWinPub.onGetGroupClerkFail()},rbthot:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u70ed\u70b9\u95ee\u9898\u56de\u8c03",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onRbtHotQuesListSuccess(a.data);else chatWinPub.onRbtHotQuesListFail()},atvct:function(){var a=arguments,a=1==a.length?a[0]:a[1];"undefined"!=typeof a&&0==a.errno?utils.log("\u66f4\u65b0\u8bbf\u5ba2\u8054\u7cfb\u65b9\u5f0f\u6210\u529f",
a):utils.log("\u66f4\u65b0\u8bbf\u5ba2\u8054\u7cfb\u65b9\u5f0f\u5931\u8d25",a)},tfclkifbu:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u8f6c\u63a5\u5ba2\u670d\u4fe1\u606f\u56de\u8c03",a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onTranferClerkInfoSuccess(a.data.clerkInfo);else chatWinPub.onTranferClerkInfoFail("cckf_vclient_cb.tfclkifbu")},rcautoclkifbu:function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log("\u83b7\u53d6\u76f4\u63a5\u5bf9\u8bdd\u5ba2\u670d\u4fe1\u606f\u56de\u8c03",
a);if("undefined"!=typeof a&&0==a.errno)chatWinPub.onRcauClerkInfoSuccess(a.data.clerkInfo)},clkchglsn:function(){var a=arguments,a=1==a.length?a[0]:a[1];"undefined"!=typeof a&&0==a.errno&&chatWinPub.resetChatClerk(a.data.clerkInfo)},rbtas:function(){var a=arguments,a=1==a.length?a[0]:a[1];if(0<a.indexOf("ask"))try{var b=$($.parseXML(a)),c=b.find("answer").text(),d=[];b.find("similar_questions").find("item").each(function(a,b){var c=parseInt($(b).find("id").text()),f=$(b).find("question").text();
d.push([c,f])});0==c.length&&(c=flashvars.noAnswerReply+' <a href="javascript:;" class="noAnswerReplyNoticeBtn clerkOfflineNoticeBtn">'+chat.languageInterpret("\u4eba\u5de5\u5ba2\u670d")+"</a>");var f=chat.buildHotQuestionSpeedLink(d);chat.addRobotMessage(c+f)}catch(h){chat.addRobotMessage("\u56de\u590d\u89e3\u6790\u9519\u8bef")}else chat.addRobotMessage(a.toString())},rbtqslist:function(){var a=arguments,a=1==a.length?a[0]:a[1];if(0<a.indexOf("ask"))try{var b=$($.parseXML(a)),c=$("#chatMessageInputPanel"),
d=c.find("#robotQuestionList");0<d.length&&d.remove();var f=_chatWin.opt.inputStr.replace(/\s/g,"").split(""),h=function(a){if(0<f.length){var b="";for(w in f)""!=b&&(b+="|"),b+="("+f[w]+")";a=a.replace(new RegExp(b,"gi"),function(a){return'<font color="red">'+a+"</font>"})}return a},g="";b.find("similar_questions").find("item").each(function(a,b){var c=parseInt($(b).find("id").text()),d=$(b).find("question").text();g+='<li qsid="'+c+'">'+h(d)+"</li>"});""!=g&&(g='<div id="robotQuestionList"><ul>'+
g+"</ul></div>",$(g).appendTo(c).find("li").bind("click",function(){var a=$(this).attr("qsid");websiteRpc.getRobotAnswerByQid(a);a=$(this).text();a=utils.formatMsgToXml({t:a});chat.addMyMessage(a);c.find("#robotQuestionList").remove();chat.clearEditorInput()}))}catch(m){chat.addRobotMessage("\u56de\u590d\u89e3\u6790\u9519\u8bef")}else chat.addRobotMessage(a.toString())},rbtasbq:function(){var a=arguments,a=1==a.length?a[0]:a[1];if(0<a.indexOf("ask"))try{var b=$($.parseXML(a)).find("answer").text();
0==b.length&&(b=flashvars.noAnswerReply+' <a href="javascript:;" class="noAnswerReplyNoticeBtn clerkOfflineNoticeBtn">'+chat.languageInterpret("\u4eba\u5de5\u5ba2\u670d")+"</a>");chat.addRobotMessage(b)}catch(c){chat.addRobotMessage("\u56de\u590d\u89e3\u6790\u9519\u8bef")}else chat.addRobotMessage(a.toString())}},websiteRpc={regRedoNum:2,regFailNum:0,clkinfoRedoNum:3,clkinfoFailNum:0,grpinfoRedoNum:3,grpinfoFailNum:0,grpalcRedoNum:3,grpalcFailNum:0,webalcRedoNum:3,webalcFailNum:0,grpclkRedoNum:3,
grpclkFailNum:0,tfclkRedoNum:3,tfclkFailNum:0,redoTimeout:2E3,rpchost:"",opt:{vid:0,token:"",clkid:0,grpid:0,wid:0},ck:function(a){return parseInt(a/1E3+8192)},reg:function(a){if(/^111\.206\.36\./.test(flashvars.ipaddress))return!1;var b=0;try{b=utils.__cookie(track_prefix+"beingreg")}catch(g){try{b=utils.__cookie(track_prefix+"beingreg")}catch(m){}}if(1==b)return utils.log("\u6b63\u5728\u6ce8\u518c 1\u79d2\u540e\u91cd\u8bd5"),setTimeout(function(){websiteRpc.reg(a)},1E3),!1;b=new Date;b.setTime(b.getTime()+
16E3);try{utils.__cookie(track_prefix+"beingreg",1,{expires:b,path:"/"})}catch(g){try{utils.__cookie(track_prefix+"beingreg",1,{expires:b,path:"/"})}catch(m){}}var b=chatWinPub.getVisitorid(),c=parseInt(b/1E3+8192+2*this.opt.wid),d=decodeURIComponent(CHAT_CONF.getConfig("originPageTitle")),d=d.replace(/\\\'/gi,"'"),d=d.replace(/\\\"/gi,'"'),d=d.replace(/\\\\/gi,"\\"),f=CHAT_CONF.getConfig("originPageUrl"),h=CHAT_CONF.getConfig("originPageReferver");""==d&&""!=f&&(d=f.substring(0,50));""==d&&""==f&&
(d="\u5bf9\u8bdd\u7a97\u53e3");b={url:this.rpchost+"?c=Register&a=sessionAdd&_="+(new Date).getTime(),type:"POST",data:{websiteid:this.opt.wid,newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:b,visitorip:flashvars.ipaddress,b:c,area1:decodeURIComponent(flashvars.area1),area2:decodeURIComponent(flashvars.area2),webname:d,weburl:f,referece:h}};utils.hasXhrSupport||(b.dataType="jsonp",b.type="GET",b.jsonpCallback=a);utils.log("\u6b63\u5728\u6ce8\u518c\u8bbf\u5ba2...",b.data);c=eval(a);"function"==
typeof c?utils.ajaxRequest(b,c):utils.log("[WARN]reg:cbfnstr not a function.")},clerkInfo:function(a){var b="";if("cckf_vclient_cb.clkinfo"==a||"cckf_vclient_cb.miniclkinfo"==a)b+="&replySet=1&lang="+CHAT_CONF.getConfig("language");b={url:this.rpchost+"?c=Clerk&a=clerkInfo"+b,data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,clerkid:this.opt.clkid,b:this.ck(this.opt.vid),tokenkey:this.opt.token}};utils.hasXhrSupport||(b.dataType="jsonp",b.jsonpCallback=a);a=eval(a);"function"==
typeof a?utils.ajaxRequest(b,a):utils.log("[WARN]clerkInfo:cbfnstr not a function.")},groupAllocate:function(){var a={url:this.rpchost+"?c=Website&a=groupAllocate&lang="+CHAT_CONF.getConfig("language"),data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,clerkgroupid:this.opt.grpid,b:this.ck(this.opt.vid),tokenkey:this.opt.token}};utils.hasXhrSupport||(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.grpalc");utils.ajaxRequest(a,cckf_vclient_cb.grpalc)},groupInfo:function(){var a=
{url:this.rpchost+"?c=Website&a=groupInfo",data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,groupid:this.opt.grpid,b:this.ck(this.opt.vid),tokenkey:this.opt.token}};utils.hasXhrSupport||(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.grpinfo");utils.ajaxRequest(a,cckf_vclient_cb.grpinfo)},groupClerkList:function(){var a={url:this.rpchost+"?c=Website&a=groupClerkList",data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,groupid:this.opt.grpid,b:this.ck(this.opt.vid),
tokenkey:this.opt.token}};utils.hasXhrSupport||(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.grpclklist");utils.ajaxRequest(a,cckf_vclient_cb.grpclklist)},websiteAllocate:function(a){var b={url:this.rpchost+"?c=Website&a=websiteAllocate&lang="+CHAT_CONF.getConfig("language"),data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,websiteid:this.opt.wid,b:this.ck(this.opt.vid),tokenkey:this.opt.token,area:flashvars.areaKey}};utils.hasXhrSupport||(b.dataType="jsonp",b.jsonpCallback=
a);a=eval(a);"function"==typeof a?utils.ajaxRequest(b,a):utils.log("[WARN]websiteAllocate:cbfnstr not a function.")},rbtHotQuesList:function(){var a={url:this.rpchost+"?c=Robot&a=checkoutQuestionList",data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,websiteid:this.opt.wid,b:this.ck(this.opt.vid),tokenkey:this.opt.token}};utils.hasXhrSupport||(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.rbthot");utils.ajaxRequest(a,cckf_vclient_cb.rbthot)},alterVisitorContact:function(a){a=
{url:this.rpchost+"?c=Register&a=alterVisitorContact",type:"POST",data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,websiteid:this.opt.wid,b:this.ck(this.opt.vid),tokeney:this.opt.token,telephonenumber:a.UserPhone||"",mobilephone:a.UserMobile||"",qq:a.UserQQ||"",email:a.UserEmail||""}};utils.hasXhrSupport||(a.dataType="jsonp",a.type="GET",a.jsonpCallback="cckf_vclient_cb.atvct");utils.log("\u66f4\u65b0\u8bbf\u5ba2\u8054\u7cfb\u65b9\u5f0f\u8bf7\u6c42",a.data);utils.ajaxRequest(a,
cckf_vclient_cb.atvct)},clerkInfoByUid:function(a){var b="";if("cckf_vclient_cb.clkinfo"==a||"cckf_vclient_cb.miniclkinfo"==a)b+="&replySet=1&lang="+CHAT_CONF.getConfig("language");b={url:this.rpchost+"?c=Clerk&a=clerkInfoByUserid"+b,data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,websiteid:this.opt.wid,userid:chatWinPub.opt.tfclkuid,tokenkey:this.opt.token,b:this.ck(this.opt.vid)}};utils.hasXhrSupport||(b.dataType="jsonp",b.type="GET",b.jsonpCallback=a);utils.log("\u6839\u636eUID\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f",
b.data);a=eval(a);"function"==typeof a?utils.ajaxRequest(b,a):utils.log("[WARN]clerkInfoByUid:cbfnstr not a function.")},getRobotAnswer:function(a){var b=flashvars.ROBOT_URL.replace("ask","ask4");"https:"==document.location.protocol&&(b=b.replace("http:","https:"));a={url:b,data:{w:this.opt.wid,q:a}};utils.hasXhrSupport?a.dataType="text":(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.rbtas");utils.ajaxRequest(a,cckf_vclient_cb.rbtas)},getRobotQuestionList:function(a){var b=flashvars.ROBOT_URL.replace("ask",
"ask2");"https:"==document.location.protocol&&(b=b.replace("http:","https:"));a={url:b,data:{w:this.opt.wid,q:a}};utils.hasXhrSupport?a.dataType="text":(a.dataType="jsonp",a.jsonpCallback="cckf_vclient_cb.rbtqslist");utils.ajaxRequest(a,cckf_vclient_cb.rbtqslist)},getRobotAnswerByQid:function(a){var b=flashvars.ROBOT_URL.replace("ask","ask3");"https:"==document.location.protocol&&(b=b.replace("http:","https:"));a={url:b,data:{q:a}};utils.hasXhrSupport?a.dataType="text":(a.dataType="jsonp",a.jsonpCallback=
"cckf_vclient_cb.rbtasbq");utils.ajaxRequest(a,cckf_vclient_cb.rbtasbq)},updateVisitorMemberInfo:function(){var a=$.trim(utils.getQueryParam("UserName"));if(""==a||"null"==a)return!1;a={url:this.rpchost+"?c=Register&a=alterVisitorInfor",type:"POST",data:{newguestid:CHAT_CONF.getConfig("ngstid"),visitorid:this.opt.vid,websiteid:this.opt.wid,b:this.ck(this.opt.vid),tokeney:this.opt.token,name:a||"",membername:a||"",identity:4,telephonenumber:utils.getQueryParam("UserPhone")||"",mobilephone:utils.getQueryParam("UserMobile")||
"",faxnumber:utils.getQueryParam("UserFax")||"",qq:utils.getQueryParam("UserQQ")||"",email:utils.getQueryParam("UserEmail")||"",wangwang:utils.getQueryParam("wangwang")||"",remark:utils.getQueryParam("remark")||"",company:utils.getQueryParam("UserCompany")||"",address:utils.getQueryParam("UserAddr")||""}};utils.ajaxRequest(a)}};
function vComet(a){var b=this;b.opt={olclkhost:a.olclkhost||"",sign_url:a.sign_url||"",sub_url:a.sub_url||"",pub_url:a.pub_url||"",vid:a.vid||0,token:a.token||"",clkuid:a.clkuid||0,ssid:null,seq:0,cname:"vComet_"+a.cname,stopped:!1,httpTimeout:15E3,signRedoNum:3,signFailNum:0,signRedoTimeout:2E3,lastSubTime:0,msgRedoNums:5,lastcncttime:0,chatEditState:1,isClerkStartChat:null,firstSubHasRet:!1,changeclerk:!0};b.subxhr=null;b.timeoutHandle=null;b.sendQueue=[];b.clerkMsgSeq=[];b.beingUpdSign=0;cckf_vclient_cb.sign=
function(){var a=arguments,a=1==a.length?a[0]:a[1];utils.log(b.opt.cname,"signin return",a);"undefined"!=typeof a&&0==a.errorno?b.signOk(a):b.signFail()};cckf_vclient_cb.updSign=function(){var a=arguments,a=1==a.length?a[0]:a[1];b.beingUpdSign=0;"undefined"!=typeof a&&0==a.errorno&&b.updSession(a)};cckf_vclient_cb.sub=function(){var a=arguments,d=a.length;2==d&&1==a[0].userData.subinvalid?utils.log(b.opt.cname,"sub invalid."):2==d&&5==a[0].statu?utils.log(b.opt.cname,"sub abort for start new one."):
2==d&&3==a[0].statu?(utils.log(b.opt.cname,"sub timeout"),b.timeoutHandle=setTimeout(b.sub,1E3)):2==d&&2!=a[0].statu?(utils.log(b.opt.cname,"sub failed 5\u79d2\u540e\u91cd\u65b0\u53d1\u8d77\u5fc3\u8df3"),b.timeoutHandle=setTimeout(b.sub,5E3)):(a=1==d?a[0]:a[1],utils.log(b.opt.cname,"sub return",a),a?b.subOk(a):b.subError(a))};cckf_vclient_cb.pub=function(){var a=arguments,d=a.length,f=1==d?a[0]:a[1];utils.log(b.opt.cname,"send return",f);"undefined"!=typeof f&&0==f.errorno?b.sendOk(f,a[0].userData.data):
(b.updSign(),2==d?b.sendRetry(a[0].userData,"undefined"!=typeof f?f.errorno:-1):b.sendFail())};b.on=function(a,d){b.$events||(b.$events={});b.$events[a]=d};b.addListener=b.on;b.removeListener=function(a){if(void 0===a)return b.$events={},!0;b.$events&&b.$events[a]&&(b.$events[a]=null);return!0};b.emit=function(a){if(!b.$events)return!1;var d=b.$events[a];if(!d)return!1;var f=Array.prototype.slice.call(arguments,1);if("function"==typeof d)d.apply(this,f);else return!1;return!0};b.sign=function(){b.opt.stopped=
!1;var a={url:b.opt.sign_url,timeout:b.opt.httpTimeout,data:{v:b.opt.vid,token:b.opt.token,c:parseInt(b.opt.vid/100+1024)}};utils.hasXhrSupport||(a.dataType="jsonp",a.type="GET",a.jsonpCallback="cb",a.data.cb="cckf_vclient_cb.sign");utils.log(b.opt.cname,"signin...",a.data);utils.ajaxRequest(a,cckf_vclient_cb.sign)};b.setLastcncttime=function(){var a=utils.getUnixTime();b.opt.lastcncttime=a;try{utils.store.set(track_prefix+"lastcncttime",a)}catch(d){}};b.signOk=function(a){utils.log(b.opt.cname,"signin success sessionid="+
a.sessionid);b.setLastcncttime();b.opt.ssid=a.sessionid;b.sub();b.emit("setChatHistoryBtn",{wid:websiteRpc.opt.wid,olc:b.opt.olclkhost,ssid:b.opt.ssid,u:b.opt.clkuid,nick:_chatWin.clerkInfo.nickname||"",v:b.opt.vid});chatWinPub.clerkChangeListener()};b.signFail=function(){b.opt.signFailNum<b.opt.signRedoNum&&(b.opt.signFailNum++,utils.log(b.opt.cname,"signin failed ",b.opt.signRedoTimeout/1E3,"\u79d2\u540e\u91cd\u8bd5 FailedNums",b.opt.signFailNum),setTimeout(function(){b.sign()},b.opt.signRedoTimeout))};
b.updSign=function(){if(1!=b.beingUpdSign){b.beingUpdSign=1;var a={url:b.opt.sign_url,timeout:b.opt.httpTimeout,data:{v:b.opt.vid,token:b.opt.token,c:parseInt(b.opt.vid/100+1024)}};utils.hasXhrSupport||(a.dataType="jsonp",a.type="GET",a.jsonpCallback="cb",a.data.cb="cckf_vclient_cb.updSign");utils.ajaxRequest(a,cckf_vclient_cb.updSign)}};b.updSession=function(a){b.opt.ssid=a.sessionid;b.emit("setChatHistoryBtn",{wid:websiteRpc.opt.wid,olc:b.opt.olclkhost,ssid:b.opt.ssid,u:b.opt.clkuid,nick:_chatWin.clerkInfo.nickname||
"",v:b.opt.vid})};b.sub=function(){if(b.opt.stopped)b.subxhr=null;else if(b.lastActiveTimeout())chatWinPub.addLastActiveTimeoutNotice(),chatWinPub.clearClerkMsgTimeout(),chatWinPub.clearVisitorMsgTimeout();else{var a=b.opt.clkuid;0<_chatWin.clerkInfo.id&&0==_chatWin.clerkInfo.state&&(a=0);var d=b.opt.seq+1,d={url:b.opt.sub_url,timeout:b.opt.httpTimeout,data:{v:b.opt.vid,u:a,c:parseInt(b.opt.vid/100+4096+a),sessionid:b.opt.ssid,seq:d,fr:b.opt.cname}};0<a&&b.opt.changeclerk&&(d.data.changeclerk=1,b.opt.changeclerk=
!1);1==b.opt.isClerkStartChat&&(d.data.vdirect=0,b.opt.isClerkStartChat=null);utils.hasXhrSupport||(d.dataType="jsonp",d.type="GET",d.jsonpCallback="cb",d.data.cb="cckf_vclient_cb.sub");utils.log(b.opt.cname,"sub",d.data);b.opt.lastSubTime=utils.getUnixTime();b.subxhr=utils.ajaxRequest(d,cckf_vclient_cb.sub)}};b.renewSub=function(){if(utils.hasXhrSupport){if(null!=b.subxhr){b.subxhr.userData.subinvalid=1;try{b.subxhr.abort()}catch(a){}}try{clearTimeout(b.timeoutHandle)}catch(a){}b.opt.stopped=!1;
b.sub()}};b.reReg=function(){};b.reSign=function(){b.opt.signFailNum=0;b.sign()};b.abortReSign=function(){if(utils.hasXhrSupport){try{clearTimeout(b.timeoutHandle)}catch(a){}if(12>utils.getUnixTime()-b.opt.lastcncttime)b.opt.stopped=!1,null==b.subxhr&&b.sub();else{if(null!=b.subxhr){b.subxhr.userData.subinvalid=1;try{b.subxhr.abort()}catch(a){}}b.sign()}}else null==b.subxhr?b.sign():null!=b.subxhr&&(b.opt.stopped=!1)};b.msgParse=function(a){a=$.trim(a);try{var b=$.parseXML(a)}catch(h){a=a.replace(/(<m.*?t=)(["|\'])(.*?)(\2)(.*?>.*?<\/m>)/,
"$1$2$4$5");a=utils.filterMsgXml(a);try{b=$.parseXML(a)}catch(g){return{}}}var b=$(b).find("m")[0].attributes,f={};$(b).each(function(){var a=$(this)[0];f[a.nodeName]=a.nodeValue});return f};b.subOk=function(a){if(a.errorno){if(22==a.errorno)return!1;utils.log(b.opt.cname,"sub return error. errorno is",a.errorno);b.reSign()}else{b.setLastcncttime();var d=b.subRetType(a),f;if(0==d){for(f in a)b.opt.seq=parseInt(f);b.timeoutHandle=setTimeout(b.sub,1500)}else if(1==d){for(f in a){d=utils.JSON.parse(a[f]);
if("textmsg"==d.p||"filetransmit"==d.p){if(0==b.opt.clkuid){var h=parseInt(d.s);b.opt.isClerkStartChat=1;b.opt.clkuid=h;if("undefined"==typeof _chatWin.clerkInfo.id||_chatWin.clerkInfo.userid!=h)chatWinPub.opt.tfclkuid=h,websiteRpc.clerkInfoByUid("cckf_vclient_cb.rcautoclkifbu")}2==b.opt.chatEditState&&chat.openChat()}if("status"==d.p&&""!=$.trim(d.msg)){var g=b.msgParse(d.msg);g.userid==b.opt.clkuid&&(h=parseInt(g.userid),g=parseInt(g.status),b.emit("onClerkStatus",h,g),b.emit("onClerkStatusRobot",
h,g))}"textmsg"==d.p&&-1===$.inArray(f,b.clerkMsgSeq)&&(b.clerkMsgSeq.push(f),b.receiveClerkMsg(d),utils.playMsgSound(),!document.hasFocus()&&window.Notification&&b.emit("showNotifyMsg",chat.languageInterpret("\u65b0\u6d88\u606f!......."),b.getMsgText(d.msg)),(h=b.msgParse(d.msg))&&h.t&&chatWinPub.checkIsAskQQ(h.t));"rtextmsg"==d.p&&d.cwid!=CHAT_WIN_ID&&b.receiveVisitorMsg(d);if("sessionclose"==d.p)chatWinPub.clearChattingUserid(),b.onSessionClose();else if("filetransmit"==d.p)b.onFileTransmit(d);
else"transferclerk"==d.p?(h=b.msgParse(d.msg),h=parseInt(h.newclerkid),chatWinPub.opt.tfclkuid=h,b.opt.clkuid=h,chatWinPub.opt.tfclktime=d.time,chatWinPub.setNewChatClerkUserid(h),chatWinPub.onTranferClerk()):"textmsg"==d.p?(chatWinPub.clearClerkMsgTimeout(),chatWinPub.startVisitorMsgTimeout()):"rtextmsg"==d.p?(chatWinPub.clearVisitorMsgTimeout(),chatWinPub.startClerkMsgTimeout(),b.setLastActiveTime()):"changeclerk"==d.p&&(d=parseInt(d.u),chatWinPub.clerkChangeSeter(d));b.opt.seq=parseInt(f)}b.sub()}else if(2==
d){for(f in a){d=utils.JSON.parse(a[f]);if("textmsg"==d.p)-1===$.inArray(f,b.clerkMsgSeq)&&(b.clerkMsgSeq.push(f),b.receiveClerkMsg(d));else if("rtextmsg"==d.p)b.receiveVisitorMsg(d);else if("filetransmit"==d.p)b.onFileTransmit(d);b.opt.seq=parseInt(f)}b.sub()}}};b.onFileTransmit=function(a){a=b.msgParse(a.msg);chat.addFile(a.filename,a.url,"",chat.languageInterpret("\u70b9\u51fb\u4e0b\u8f7d"));chat.newMessageNotice()};b.onSessionClose=function(){chatWinPub.clearClerkMsgTimeout();chatWinPub.clearVisitorMsgTimeout();
chat.closeChat();chat.addRawChatMessage(chat.languageInterpret("\u62b1\u6b49\uff0c\u5ba2\u670d"+(_chatWin.clerkInfo.nickname||"")+"\u5df2\u7ed3\u675f\u4e86\u4e0e\u60a8\u7684\u5bf9\u8bdd\uff0c\u60a8\u4e0d\u80fd\u7ee7\u7eed\u53d1\u9001\u4fe1\u606f\u7ed9\u5ba2\u670d\u3002"),2);setTimeout(function(){utils.store.remove(track_prefix+"lastcncttime")},2E4)};b.getMsgText=function(a){a=$.trim(a);try{var b=$.parseXML(a)}catch(f){a=a.replace(/(<m.*?t=)(["|\'])(.*?)(\2)(.*?>.*?<\/m>)/,"$1$2$4$5");a=utils.filterMsgXml(a);
try{b=$.parseXML(a)}catch(h){return""}}b=$(b).find("m");return $.trim(b.attr("t"))};b.receiveClerkMsg=function(a){var b=chatWinPub.getClerksInfoAtStore(),f="",f="object"==typeof b&&"undefined"!=typeof b[a.s]?b[a.s].nick:"undefined"!=typeof _chatWin.clerkInfo.nickname?_chatWin.clerkInfo.nickname:'<span class="msgclkname_'+a.s+'"></span>',b=f+" "+utils.getDateTime(a.time);chat.addRawChatMessage(b,1);chat.addQYChatMessage(a.msg,10)};b.receiveVisitorMsg=function(a){var b=chat.languageInterpret("\u6211")+
" "+utils.getDateTime(a.time);chat.addRawChatMessage(b,0);chat.addQYChatMessage(a.msg,9)};b.subRetType=function(a){var d=!b.opt.firstSubHasRet;b.opt.firstSubHasRet||(b.opt.firstSubHasRet=!0);var f,h=0;for(f in a)if(2>h&&""!=$.trim(a[f]))h++;else break;2!=h||d||(h=1);return h};b.subError=function(){utils.log(b.opt.cname,"sub no msg return");b.timeoutHandle=setTimeout(b.sub,5E3)};b.formatMsg=function(a){if("object"!=typeof a)return a;try{var b,f="<m";for(b in a)f+=" "+b+'="'+a[b]+'"';return f+"></m>"}catch(h){}return a};
b.sendMsg=function(a,d,f){var h=b.opt.clkuid;0==h?utils.log("sendMsg failed as uid=0."):(d=b.formatMsg(d),a={v:b.opt.vid,u:h,sessionid:b.opt.ssid,c:parseInt(b.opt.vid/100+2048+h),p:a,msg:d},b.pub(a,f))};b.pub=function(a,d){utils.log(b.opt.cname,"pub",a);"textmsg"==a.p&&(b.opt.seq+=1,a.cwid=CHAT_WIN_ID);utils.hasXhrSupport?utils.ajaxRequest({url:b.opt.pub_url,type:"POST",timeout:b.opt.httpTimeout,data:a},cckf_vclient_cb.pub):utils.jsonpTrans.post(b.opt.pub_url+"jsonp",utils.JSON.stringify(a),d)};b.sendOk=
function(a,d){var f=parseInt(a.seq);b.opt.seq=f>b.opt.seq?f:b.opt.seq;"filetransmit"==d.p?(f=b.msgParse(d.msg),chat.addRawChatMessage(chat.languageInterpret("\u4e0a\u4f20\u6210\u529f"),2)):"transferclerk"==d.p&&(f=b.msgParse(d.msg),f=chatWinPub.getClerkidFromGpClkListByuid(f.newclerkid),chatWinPub.onTranferClerkComplete(f))};b.sendRetry=function(a,d){"undefined"==typeof a.redoNums&&(a.redoNums=0);a.redoNums<b.opt.msgRedoNums?(a.redoNums++,setTimeout(function(){a.data.sessionid=b.opt.ssid;var d=parseInt(a.data.u);
a.data.c=parseInt(b.opt.vid/100+2048+d);utils.ajaxRequest(a,cckf_vclient_cb.pub)},1500)):(utils.log("\u6d88\u606f\u53d1\u9001\u5931\u8d25\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650",a),b.sendFail(a.data,d))};b.sendFail=function(a,d){if(void 0!=a){var f=b.msgParse(a.msg);"filetransmit"==a.p?chat.addRawChatMessage(chat.languageInterpret("\u6587\u4ef6"+f.filename+"\u53d1\u9001\u5931\u8d25")+"[ERRNO:"+d+"]",2):"textmsg"==a.p?chat.addRawChatMessage(chat.languageInterpret("\u4f60\u53d1\u9001\u7684\u6d88\u606f"+
f.t+"\u5931\u8d25\uff0c\u5931\u8d25\u4ee3\u7801\u4e3a002")+"[ERRNO:"+d+"]",2):"transferclerk"==a.p&&(f=chatWinPub.getClerkidFromGpClkListByuid(f.newclerkid),chatWinPub.onTranferClerkFault(f))}else alert("\u6d88\u606f\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")};b.stop=function(){b.opt.stopped=!0;chatWinPub.clearClerkMsgTimeout();chatWinPub.clearVisitorMsgTimeout()};b.run=function(){b.setLastActiveTime();null==b.opt.ssid&&b.sign()};b.setLastActiveTime=function(){var a=utils.getUnixTime(),b=new Date;
b.setTime(b.getTime()+18E6);try{utils.__cookie(track_prefix+"LastActiveTime",a,{expires:b,path:"/"})}catch(f){}};b.getLastActiveTime=function(){var a=null;try{a=utils.__cookie(track_prefix+"LastActiveTime")}catch(b){}return null==a?0:parseInt(a)};b.lastActiveTimeout=function(){var a=b.getLastActiveTime();return a&&7200<utils.getUnixTime()-a?!0:!1}};var QYMiniChatExtra={windowLayerOut:function(a,b){a.addObj("windowLayerOut",this);var c=this,d=b.getConfig("language");this.setLayout=function(){var a=!!window.ActiveXObject&&!window.XMLHttpRequest,h=document.documentElement.clientHeight;$("#main_left").height(h);a&&$("#chatMessageAreaBox").width($("#main_left").width()-15);$("#messageStyleSettingPanel").height(20).css({padding:"5px 0px"});$("#chatMessageInputPanel").width($("#chatMessageInputBox").width()-52-13);$("#sentButton").css("left",$("#chatMessageInputPanel").width()-
$("#sentButton").width()-35);/none/i.test($("#messageStyleSettingPanel").css("display"))?($("#chatMessageAreaBox").height(h-114+39-17-20),$("#Function_box").css("border-top","0px")):a?"russian"==d?$("#chatMessageAreaBox").height(h-146+39-17-20):$("#chatMessageAreaBox").height(h-147+39-17-20):$("#chatMessageAreaBox").height(h-145+39-17-20);try{$("html").css({"overflow-x":"hidden","overflow-y":"hidden"}),$("body").css({"overflow-x":"hidden","overflow-y":"hidden"})}catch(g){utils.log("catche",g),$("body").css({"overflow-x":"hidden",
"overflow-y":"hidden"})}b.getConfig("windowResize")&&($("#chatMessageAreaBox").find('img[imgType="QYpicture"]').each(function(){QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),b.getConfig("wMode"))}),$("#chatMessageTitle").find("img").each(function(){QYJSUtil.reSizeImg($(this),$("#chatMessageAreaBox").width(),b.getConfig("wMode"),!0)}),setTimeout(function(){b.getConfig("windowResize")&&(c.setLayout(),b.setConfig("windowResize",!1))},200))}}};var QYChatRunInit=function(a,b,c){var d,f,h,g=this,m,p={},z="",x=new QYChat.config.languageTemplate;try{a=eval("("+a+")")}catch(n){a=utils.JSON.parse(a)}var r,q,B,k=new QYChat.config.iniConfig;k.addConfigObj({debug:!1,closeEditor:!1,chooseClerk:!1,SWFReady:!1,emotionReady:!1,languageReady:!1,inPutting:!1,windowResize:!1,hasImgInMessage:!1,showMessageBox:!1,hasConsulted:!1,hasAssessed:!1,isClosingOldWindow:!1,manualCloseChat:!1,chatInQueue:!1,openVisitorRegistered:!1,visitorInfoRegIsOpen:a.visitorInfoRegIsOpen,
visitorRegState:a.visitorRegState,clerkStatus:[],isChatWindow:!0,statisticFileAddress:a.statisticFileAddress,isLeavingMessage:a.isLeavingMessage,isRobot:a.isRobot,CCRobotStatus:0,emotionMap:{},emotionMapTip:{},visitorId:a.visitorId,clerkId:a.clerkId,clerkName:"",websiteId:a.websiteId,clientUrl:a.clientUrl,openAssess:a.openAssess,leavingMessageSetting:a.leavingMessageSetting,robotState:a.robotState,wsclhost:a.wsclhost,ngstid:a.ngstid,olclkhost:a.olclkhost,cookies_domain:a.cookies_domain,clerkUserid:a.clerkUserid,
nopoweredby:a.nopoweredby,assessAddress:a.assessAddr,wMode:a.wMode,originPageTitle:a.originPageTitle,originPageUrl:a.originPageUrl,originPageReferver:a.originPageReferver,windowMinHeight:a.windowMinHeight,windowMinWidth:a.windowMinWidth,language:a.language,webSite:a.webSite,webChatPath:a.webChatPath,emotionImgPath:a.emotionImgPath,version:a.version,qiyeQQImage:a.qiyeQQImage,imgPath:a.imgPath,fileTypePath:a.fileTypePath,fileDownloadAddr:a.fileDownloadAddr,fileUploadFlashAddr:a.fileUploadFlashAddr,
fileUploadFileAddr:a.fileUploadFileAddr,adverState:a.adverState,adverPicurl:a.adverPicurl,adverLink:a.adverLink,adverWorkStatus:a.adverWorkStatus,floatAd:a.floatAd,companyLogo:a.companyLogo,companyDesc:a.companyDesc,companyLogoUrl:a.companyLogoUrl,sentSelectedEvent:"Enter",catchScreenParam:a.screenCatchPlus,fileAllowUpload:[{title:"\u56fe\u50cf\u6587\u4ef6("+a.allUploadImages+")",extensions:a.allUploadImages},{title:"\u538b\u7f29\u6587\u4ef6("+a.allUploadZips+")",extensions:a.allUploadZips},{title:"\u6587\u672c\u6587\u4ef6("+
a.allUploadTxTs+")",extensions:a.allUploadTxTs}],max_file_size:a.allowUploadFileSize,fontStyle:{},messagetNoticeId:[],fonts:a.fonts,fontSizes:a.fontSizes,sentInputtingTime:a.sentInputtingTime,messageType:{0:"sentMessageTitle",1:"receiveMessageTitle",2:"noticeMessage",3:"errorMessage",4:"CCRobotMessage",5:"queue",9:"mySend",10:"clerkSend",11:"robotWelcomeWord",13:"chatStatus"}});a="";this.run=function(){utils.log("Vclient-chat start running...");d=new QYChat.messageInterface(g,k);"big"==k.getConfig("wMode")&&
$(window).focusin(function(){h.resetTitle()});window.chat=this;f=new QYChat.layerOut(d,k);$(window).css("overflow","hidden");m=new QYChat.widget(k,d);var a=$("#chatMessageArea");if("big"==k.getConfig("wMode")){var b=$("#closeWindow");r=$("#consultation");q=$("#leavingMessage");B=$("#robot");var c=$("#qckf_innerLeft"),p=$("#leavingMessageArea");$("#robotArea");var z=new QYChat.titleBar.barSwitch,y=new QYChat.titleBar.consultation(k,r),D=new QYChat.titleBar.leavingMessage(k,q),J=$("#hotList"),I=J.find("a"),
V=new QYChat.titleBar.robot(J,d,B,k,m);z.addBar("consultationBar",y);z.addBar("leavingMessageBar",D);z.addBar("robotBar",V)}"big"==k.getConfig("wMode")&&(y=new QYChat.chatMask(f,x,k,d),m.addWidget("chatMask",y));"big"==k.getConfig("wMode")?new QYChat.windowLayerOut(f,k):"mini"==k.getConfig("wMode")&&new QYMiniChatExtra.windowLayerOut(f,k);new QYChat.chatMessageAreaLayerOut(k,f);y=new QYChat.statistic(k);"big"==k.getConfig("wMode")&&(h=new QYChat.windowNotice(k,x));f.entireLayerOut();$(window).resize(function(){k.setConfig("windowResize",
!0);f.entireLayerOut()});if("big"==k.getConfig("wMode")){var Q=$("#floatAdvertismentContainer"),D=k.getConfig("floatAd"),R=new QYJSUtil.floatAdvertisment(D.adUrl,D.adImage,D.adBgColor,Q),ga=new QYChat.extendPanel.floatAdvertisment(R,y,k);D.adImage&&(ga.display(),y.floatAdStatisticDisplay())}"big"==k.getConfig("wMode")&&(window.onbeforeunload=function(){if(d.checkAssess(!0))return QYJSUtil.browsers.mozilla&&alert(x.languageInterpret('\u60a8\u8fd8\u6ca1\u6709\u8bc4\u4ef7\uff0c\u5982\u679c\u60a8\u9700\u8981\u5bf9\u5ba2\u670d\u8fdb\u884c\u8bc4\u4ef7\u8bf7\u5728\u4e00\u4f1a\u5f39\u51fa\u7684\u63d0\u9192\u6846\u9009\u62e9"\u7559\u5728\u9875\u9762"\u3002')),
x.languageInterpret('\u60a8\u8fd8\u6ca1\u6709\u8bc4\u4ef7\uff0c\u5982\u679c\u60a8\u9700\u8981\u5bf9\u5ba2\u670d\u8fdb\u884c\u8bc4\u4ef7\u8bf7\u9009\u62e9"\u7559\u5728\u6b64\u9875\u9762\u4e0a"\u3002')});"big"==k.getConfig("wMode")&&(y=$("#toolMask"),y.css("opacity",.5),m.addWidget("toolMask",y));y=$("#inputPanelMask");y.css("opacity",.3);m.addWidget("inputPanelMask",y);$("#inputPanelToolMask").css("opacity",.5);$("#inputPaneleditorMask").css("opacity",.5);new QYChat.inputPanelMask(f,m);"big"==k.getConfig("wMode")&&
$("#ccVersion").html(k.getConfig("version"));var L=new QYJSUtil.RichText(x,k,m);L.run("chatMessageInputPanel");f.addObj("editor",L);var y=L.getEditorBody(),D=L.getEditorWindow(),K=new QYChat.chatMessageInputPanel(L),a=new QYJSUtil.chatMessageArea($("#chatMessageTitle"),a,x,k),a=new QYChat.chatMessageArea(a),la=$("#messageStyleSettingPanel"),R=$("#fontButton"),Qa=new QYChat.chatToolBar.font(R,la,f);m.addWidget("font",Qa);var F=new QYJSUtil.SelectCreator,la=$("#fontFamilty"),S=k.getConfig("fonts");
F.run(la,S,S);var Ra=new QYChat.chatToolBar.messageStyleSettingPanel.fontFamilyCormbox(K),Ga=$("#fontSize"),S=k.getConfig("fontSizes");F.run(Ga,S,S);var va=new QYChat.chatToolBar.messageStyleSettingPanel.fontSizeCormbox(K),A=$("#colorPickerObj"),F=new QYJSUtil.ColorPicker("colorPickerObj",x,k);F.run();"big"==k.getConfig("wMode")?F.setLeft(65):"mini"==k.getConfig("wMode")&&F.setLeft(0);F.setTop(-46);m.addWidget("colorPicker",F,!0);var F=F.getColorObj(),S=$("#colorPickerButton"),A=new QYChat.chatToolBar.messageStyleSettingPanel.colorPicker(S,
K,m),Xa=$("#fontTypeB"),Ya=$("#fontTypeI"),Za=$("#fontTypeU"),Ha=new QYChat.chatToolBar.messageStyleSettingPanel.colorShapeCormbox(K),Ia=$("#emotionButton"),O=$("#emotionSelector"),da=new QYJSUtil.CreateEmotion(O,k);da.run();var O=da.getEmotionObj(),Ja=new QYChat.chatToolBar.emotion(Ia,da,K);m.addWidget("emotion",Ja,!0);da=$("#catchScreenButton");da.show();var Ka=new QYChat.chatToolBar.catchScreen(d);if("big"==k.getConfig("wMode")){var wa=$("#assessButton"),e=$("#assessBox"),X=new QYJSUtil.assess("assessBox",
k,x);X.create();var Z=new QYChat.chatToolBar.assess(d,X,wa,k);m.addWidget("assess",Z,!0);var X=new QYChat.clerkChange(m,g),ba=new QYChat.dialog(X,x,f,k,d),T=$("#clerkLogo"),xa=$("#clerkDesc"),oa=$("#clerkContact"),Y=$("#clerkAd"),X=$("#clerkCardPenelSwitchButton"),T=new QYJSUtil.clerkCard(T,xa,oa,Y,X,k),T=new QYChat.extendPanel.clerkCard(T),ha=$("#fileUpload"),xa=$("#fileUploadPanelSwitchButton"),Y=new QYJSUtil.UploadFileItemCreator(d,x),ha=new QYJSUtil.UploadFilePanel(ha,xa,Y),ya=new QYChat.extendPanel.fileUploadPanel(ha);
Y.fileUploadPanel(ya);var pa=new QYChat.extendPanel.extendPanelController;pa.addPanel("fileUploadPanel",ya);pa.addPanel("clerkCard",T);Y=$("#statusBarPanel");Y=new QYChat.chatStatusBar(Y)}var ha=$("#sentButton"),za=new QYChat.messageSent(ha,K,d,a,k);if("big"==k.getConfig("wMode")){var $a=$("#chooseSentEvent"),La=$("#sentEventSelector");m.addWidget("sentEventSelector",La,!0);var La=$("#CtrlEnterEvent"),Aa=$("#enterEvent"),Ba=new QYChat.chooseSentEvent(za,k,x,m)}if(1==$.browser.msie&&8>parseInt($.browser.version))$("#pickfilesContainer, #pickimgsContainer").parents("li").hide();
else try{var Da=0,Ea=0;$("#vclient_file_upload, #vclient_img_upload").fileupload({url:"uploader.php",dataType:"json",autoUpload:!1,pasteZone:$(window.frames[0].document.body),add:function(a,b){m.closePopWidget();var c=1;$.each(b.files,function(a,b){Da++;var e=b.name,f=e.substr(e.lastIndexOf(".")+1).toLowerCase();if(!/(gif|jpe?g|png|doc|docx|ppt|pptx|xlsx|xls|txt|et|dps|wps|pdf|zip|rar|7z)$/i.test(f))return"zh-cn"==k.getConfig("language")?g.saveUploadFileAddress("error",b.name+"\u4e0a\u4f20\u5931\u8d25\uff0c\u8be5\u7c7b\u578b\u6587\u4ef6\u4e0d\u5141\u8bb8\u4e0a\u4f20\uff0c<b>\u8bf7\u538b\u7f29\u540e\u4e0a\u4f20</b>\uff01"):
g.saveUploadFileAddress("error",b.name+x.languageInterpret("\u4e0a\u4f20\u5931\u8d25,\u9519\u8bef\u63d0\u793a")+":Error:001"),c=0,!1;f="";f=k.getConfig("fileTypePath");"https:"==document.location.protocol&&(f=f.replace("http:","https:"));f=/\.(rar|zip|7z)$/i.test(e)?f+"rar.jpg":/\.(jpg|jpeg|gif|bmp|png)$/i.test(e)?f+"pic.jpg":f+"txt.jpg";if(0===b.size)return c=0,!1;if("undefined"==typeof b.size||10485760>b.size)"big"==k.getConfig("wMode")&&(b.fid=Da,d.addFileUpload({icon:f,totalSize:b.size||2048,
name:b.name,id:b.fid}));else return g.saveUploadFileAddress("error",b.name+x.languageInterpret("\u6587\u4ef6\u8d85\u8fc7\u4e0a\u4f20\u89c4\u5b9a\u5927\u5c0f\uff08\u4e0a\u4f20\u5927\u5c0f\u9650\u5b9a\u572810M\u4ee5\u5185\uff09")),c=0,!1});1===c&&("big"==k.getConfig("wMode")&&pa.showPanel("fileUploadPanel"),b.submit())},paste:function(a,b){if(ka&&1==ka.opt.robotState||1==Ea)return!1;Ea=1;setTimeout(function(){Ea=0},300);$.each(b.files,function(a,b){b.name=b.name||"blob."+b.type.substr(6);0===b.size&&
(alert("\u8bf7\u76f4\u63a5\u5728\u8f93\u5165\u6846\u5185\u7c98\u8d34\u622a\u56fe\uff01"),setTimeout(function(){K.clearInput()},300))})},progress:function(a,b){if("big"==k.getConfig("wMode")){var c=parseInt(b.loaded/b.total*100,10);$.each(b.files,function(a,e){d.updateFileUploadStatus('<fileUpload><data id="'+e.fid+'" uploadSize="'+b.loaded+'" percent ="'+c+'"  size = "'+b.total+'"/></fileUpload>')})}},always:function(a,b){var c=b.result;$.each(b.files,function(a,e){if(0==c.errno){var f=c.url;"https:"==
document.location.protocol&&(f=f.replace("http:","https:"));g.saveUploadFileAddress(f,e.name);"big"==k.getConfig("wMode")&&(d.updateFileUploadSuccess(e.fid),f=parseInt(b.loaded/b.total*100,10),d.updateFileUploadStatus('<fileUpload><data id="'+e.fid+'" uploadSize="'+b.loaded+'" percent ="'+f+'"  size = "'+b.total+'"/></fileUpload>'))}else{if("big"==k.getConfig("wMode"))var h=setInterval(function(){ya.fileUploadError(e.fid,c.errno,h)},150);2==c.errno?g.saveUploadFileAddress("error",e.name+x.languageInterpret("\u6587\u4ef6\u8d85\u8fc7\u4e0a\u4f20\u89c4\u5b9a\u5927\u5c0f\uff08\u4e0a\u4f20\u5927\u5c0f\u9650\u5b9a\u572810M\u4ee5\u5185\uff09")):
g.saveUploadFileAddress("error",e.name+" "+x.languageInterpret("\u4e0a\u4f20\u5931\u8d25,\u9519\u8bef\u63d0\u793a")+":Error:00"+c.errno)}})}})}catch(ia){}"big"==k.getConfig("wMode")&&QYJSUtil.setDocumentTitle(decodeURIComponent(k.getConfig("originPageTitle")));"big"==k.getConfig("wMode")&&(d.addRevivier("clerkCard",T),d.addRevivier("fileUploadPanel",ya),d.addRevivier("chatStatusBar",Y),d.addRevivier("CCRobot",V),d.addRevivier("uploader",void 0),d.addRevivier("assess",Z));d.addRevivier("chatMessageArea",
a);d.addRevivier("chatMessageInputPanel",K);d.addRevivier("layOutSetter",f);"big"==k.getConfig("wMode")&&(r.bind("click",function(a){z.changeTo("consultationBar");g.getVisitorRegState()?(c.hide(),p.show(),oa.hide(),J.hide()):(c.show(),p.hide(),oa.show(),J.hide(),b.show());$(this).show();a.stopPropagation()}),q.bind("click",function(a,b,d){if(1!=k.getConfig("visitorInfoRegIsOpen")||0!=k.getConfig("openVisitorRegistered")||0!=k.getConfig("visitorRegState")||1==k.getConfig("isLeavingMessage")||1==k.getConfig("justShowRobot")||
1==b)z.changeTo("leavingMessageBar"),c.hide(),p.show(),$(this).show(),window.leavingMessageBox.showLeavingMessage(),a.stopPropagation()}),B.bind("click",function(a){c.show();p.hide();oa.hide();J.show();b.hide();z.changeTo("robotBar");$(this).show();a.stopPropagation()}),I.live("click",function(){V.pickHotQuestion([$(this).text(),parseInt($(this).attr("qsid"))])}),$("span.pickClerkItem").find("a.pickClerk").live("click",function(){k.getConfig("clerkName")!=$(this).attr("nickName")&&1!=k.getConfig("CCRobotStatus")&&
ba.creatDialog("\u60a8\u6b63\u4e0e"+k.getConfig("clerkName")+"\u5bf9\u8bdd\u4e2d\uff0c\u786e\u5b9a\u8981\u6362"+$(this).attr("nickName")+"\u5ba2\u670d\u63a5\u5f85\u5417\uff1f",$(this).attr("no"))}));la.bind("change",function(){Ra.onChange(this.value)});Ga.bind("change",function(){va.onChange(this.value)});F.each(function(a,b){$(b).bind("click",function(){A.onColorClick($(this).css("backgroundColor"))})});S.bind("click",function(a){m.closePopWidgetExcept("colorPicker",!1);A.onButtonClick();a.stopPropagation()});
Xa.bind("click",function(){Ha.setFontTypeWeight(this)});Ya.bind("click",function(){Ha.setFontItalic(this)});Za.bind("click",function(){Ha.setFontUnderline(this)});$("#pickfiles").bind("click",function(a){!k.getConfig("chooseClerk")&&"mini"==k.getConfig("wMode")&&g.getReadyStatus()&&(g.allocateClerk(),k.setConfig("chooseClerk",!0));a.stopPropagation()});Ia.bind("click",function(a){!k.getConfig("chooseClerk")&&"mini"==k.getConfig("wMode")&&g.getReadyStatus()&&(g.allocateClerk(),k.setConfig("chooseClerk",
!0));m.closePopWidgetExcept("emotion",!1);m.closeWidget("font");Ja.onclick();a.stopPropagation()});O.each(function(){$(this).bind("click",function(){Ja.onPicke(parseInt($(this).attr("name"))+".gif")})});R.bind("click",function(){Qa.onclick()});da.bind("click",function(){if(!k.getConfig("chooseClerk")&&"mini"==k.getConfig("wMode"))var a=setInterval(function(){g.getReadyStatus()&&(g.allocateClerk(),k.setConfig("chooseClerk",!0),clearInterval(a))},500);Ka.onCatchScreen()});"big"==k.getConfig("wMode")&&
(e.bind("subAssess",function(){Z.submit()}),e.bind("closeAssess",function(){Z.hide()}),wa.bind("click",function(a){m.closePopWidgetExcept("assess",!1);m.closeWidget("font");Z.onClick();a.stopPropagation()}));"big"==k.getConfig("wMode")&&b.bind("click",function(a){m.closePopWidgetExcept("assess",!0);m.closeWidget("font");var b=!1;d.checkAssess(!1)&&(b=!0);g.manualCloseChat();b&&Z.show();k.setConfig("manualCloseChat",!0);a.stopPropagation()});ha.bind("click",function(){za.onSubmit(L);QYJSUtil.browsers.mozilla||
L.addCursor()});$(y).keydown(function(a){m.closePopWidget();"13"==a.keyCode&&a.ctrlKey?za.keyCtrlEnterEvent(L):a.ctrlKey||13!=a.keyCode||("Enter"==k.getConfig("sentSelectedEvent")?a.preventDefault():document.all?(K.insertNewline(),a.preventDefault()):/chrome\/([\d.]+)/.test(navigator.userAgent.toLowerCase())&&K.insertNewline(),za.keyEnterEvent(L));!k.getConfig("chooseClerk")&&"mini"==k.getConfig("wMode")&&g.getReadyStatus()&&(g.allocateClerk(),k.setConfig("chooseClerk",!0));document.all&&L.updateRange()});
$(y).bind("click",function(){utils.browsers.ie6||m.closePopWidget();document.all?L.updateRange():L.addCursor();QYJSUtil.browsers.mozilla&&L.resizeBody()});$(D).bind("click",function(){utils.browsers.ie6||m.closePopWidget();document.all&&L.updateRange();QYJSUtil.browsers.mozilla&&L.resizeBody()});$(document).bind("click",function(){utils.browsers.ie6||m.closePopWidget()});"big"==k.getConfig("wMode")&&(xa.bind("click",function(){pa.switchPanel()}),X.bind("click",function(){pa.switchPanel()}),$a.bind("click",
function(a){m.closePopWidget();Ba.onClick();a.stopPropagation()}),La.bind("click",function(){Ba.onSelect("Ctrl+Enter");m.closePopWidget();return!1}),Aa.bind("click",function(){Ba.onSelect("Enter");m.closePopWidget();return!1}),0==k.getConfig("adverWorkStatus")&&(Q.find("#floatAdvertisment").bind("click",function(){ga.click()}),Q.find("#floatAdvertismentCloseButton").bind("click",function(){ga.close()})));"big"==k.getConfig("wMode")&&1!=k.getConfig("nopoweredby")&&utils.addPoweredBy(k.getConfig("websiteId"));
window.CHAT_CONF=k;track_prefix="cckf_track_"+k.getConfig("websiteId")+"_";I=k.getConfig("wsclhost");I="https:"==document.location.protocol?I.replace("http:","https:"):I.replace("https:","http:");websiteRpc.rpchost=I;websiteRpc.opt.vid=parseInt(k.getConfig("visitorId"));websiteRpc.opt.wid=parseInt(k.getConfig("websiteId"));var ka;ka="big"==k.getConfig("wMode")?new fullChatWin:new miniChatWin;window._chatWin=ka;try{utils.loadScript(I+"vclient.js")}catch(ia){}var aa=0,Ma=function(){setTimeout(function(){if("undefined"==
typeof kfvcapiPreLoaded){aa++;if(21>aa)return Ma(),!1;websiteRpc.rpchost=websiteRpc.rpchost.replace("abc123","kf")}ka.init()},100)};Ma();"big"==k.getConfig("wMode")&&(1==k.getConfig("isLeavingMessage")?q.trigger("click"):1==k.getConfig("isRobot")&&1==k.getConfig("robotState")?B.trigger("click"):(r.trigger("click"),this.showVisitorReg()));$(".noAnswerReplyNoticeBtn").live("click",function(){var a=location.href.replace(/clerkid=\d+&?/,"").replace(/clkuserid=\d+&?/,"").replace(/robot=1&?/,"");location.href=
a});setInterval(function(){g.inPutting(K.getChatInputMessage()[1])},k.getConfig("sentInputtingTime"))};this.getCCWebCtrl=function(){return-1!=navigator.appName.indexOf("Microsoft")?window.chatwindow:document.chatwindow};this.chatWinReadyCall=function(){};a=function(a){a=QYJSUtil.QYmessagcoder.decodeLanguageXML(a);x.addLanguageTemplateObj(a);k.setConfig("languageReady",!0);g.setChatReady();a=k.getConfig("fileAllowUpload");for(var b=[],c=0;c<a.length;c++){var d={},f=a[c].title,h=f.replace(/(.*?)\(.*?\)/,
"$1"),f=f.replace(/.*?(\(.*?\))/,"$1"),h=x.languageInterpret(h);d.title=h+f;d.extensions=a[c].extensions;b.push(d)}k.setConfig("fileAllowUpload",b);setTimeout(g.languageInterpretHTML,500)};this.languageInterpretHTML=function(){QYJSUtil.languageInterpretHTML(x)};this.tellSWFReady=function(){};this.setChatReady=function(){g.getReadyStatus()&&(d.setChatReady(),g.uploadFileAddress())};this.getReadyStatus=function(){var a=k.getConfig("emotionReady"),b=k.getConfig("SWFReady"),c=k.getConfig("languageReady"),
d=k.getConfig("closeEditor");return a&&b&&c&&!d?!0:!1};this.changeTalk=function(a){utils.log("onChangeRoboTalking OK");if(_chatWin.opt.robotState==a)utils.log("\u5207\u6362\u5ba2\u670d ret");else{var b;1==a?(utils.log("\u5207\u6362\u673a\u5668\u4eba\u5ba2\u670d"),chat_comet&&chat_comet.stop(),b=flashvars.robot_icourl,"https:"==document.location.protocol&&(b=b.replace("http:","https:")),g.addRobotWelcomeWords(b,decodeURIComponent(flashvars.robot_welcomewords)),b="\u4f60\u6b63\u4e0e"+flashvars.robot_name+
"\u5bf9\u8bdd\u4e2d"):0==a&&(utils.log("\u5207\u6362\u5230\u4eba\u5de5\u5ba2\u670d"),chat_comet&&chat_comet.abortReSign(),b="\u4e0e\u5ba2\u670d"+_chatWin.clerkInfo.nickname+"\u5bf9\u8bdd\u4e2d");_chatWin.opt.robotState=a;b&&g.setStatus(g.languageInterpret(b))}};this.pickHotQuestion=function(a){var b=utils.formatMsgToXml({t:a[0]});g.addMyMessage(b);websiteRpc.getRobotAnswerByQid(a[1])};this.uploadQYChatMessage=function(){for(var a=d.getQYChatMessage(),b=0;b<a.length;b++)if(utils.log("onSendMessage OK"),
g.addMyMessage(a[b]),1==_chatWin.opt.robotState){utils.log("send to robot.");var c=utils.xmlMsgParse(a[b]);if(!c.t||""==$.trim(c.t))break;$("#chatMessageInputPanel").find("#robotQuestionList").remove();websiteRpc.getRobotAnswer(c.t)}else try{chat_comet.sendMsg("textmsg",a[b]),k.setConfig("hasConsulted",!0)}catch(f){utils.log("\u4e0a\u4f20\u6d88\u606f\u9519\u8bef")}};this.addMyMessage=function(a){g.addRawChatMessage(g.languageInterpret("\u6211")+" "+utils.getDateTime(),0);g.addQYChatMessage(a,9)};
this.addRobotMessage=function(a){g.addRawChatMessage(flashvars.robot_name+" ("+utils.getDateTime()+")",1);g.addRawChatMessage(a,4)};this.inPutting=function(a){if(a!=z)if(z=a,a=QYJSUtil.QYmessagcoder.decodeQYMessageXML(QYJSUtil.QYmessagcoder.encodeQYMessageXML({},a,k),k,x,d,"inputting"),utils.log("onInputContent OK"),1==_chatWin.opt.robotState)""==a?$("#chatMessageInputPanel").find("#robotQuestionList").remove():(_chatWin.opt.inputStr=a,websiteRpc.getRobotQuestionList(a),utils.log("send to robot."));
else try{chat_comet&&0!=chat_comet.opt.clkuid&&chat_comet.sendMsg("inputcontent",{input:a})}catch(b){utils.log("\u53d1\u9001\u6d88\u606f\u5931\u8d25[inputcontent]")}};this.allocateClerk=function(){utils.log("allocateClerk OK");_chatWin&&_chatWin.allocateClerk()};this.saveUploadFileAddress=function(a,b){p[a]=b;g.getReadyStatus()&&g.uploadFileAddress()};this.uploadImgByBase64=function(a){a={url:"uploader_img.php?uptype=base64",postTextPlain:!1,type:"POST",data:{str:a}};utils.hasXhrSupport&&utils.ajaxRequest(a,
this.uploadImgByBase64cb)};this.uploadImgByBase64cb=function(){var a=arguments[1];if("undefined"!=typeof a&&0==a.errno){var b=$("<div>");$("body").prepend(b);b.hide();b.html("").html($('<img src="'+a.url+'" />'));setTimeout(function(){b.remove()},5E3);a=k.getConfig("fontStyle");d.saveQYChatMessage([a,b.html()])}};this.uploadFileAddress=function(){utils.log("onUploadComplete OK");for(var a in p)if(a){var b=p[a];if("error"==a)g.addRawChatMessage(b,2);else if(""!=a&&""!=b)try{if(/\.(jpg|jpeg|gif|bmp|png)$/i.test(a)){var c=
$("<div>");$("body").prepend(c);c.hide();c.html("").html($('<img src="'+a+'" />'));setTimeout(function(){c.remove()},5E3);var f=k.getConfig("fontStyle");d.saveQYChatMessage([f,c.html()])}else chat_comet.sendMsg("filetransmit",{filename:b,url:a})}catch(h){utils.log("\u6587\u4ef6\u4e0a\u4f20\u9519\u8bef")}}p={}};this.changeClerk=function(a){if(a==_chatWin.opt.clkid)g.addRawChatMessage(g.languageInterpret("\u60a8\u6b63\u4e0e\u8be5\u5ba2\u670d\u5bf9\u8bdd\u4e2d"),2);else if(0==_chatWin.groupClerkList[a].state)g.addRawChatMessage(g.languageInterpret("\u8be5\u5ba2\u670d\u5df2\u79bb\u7ebf"),
2);else try{chatWinPub.onTranferClerkComplete(a)}catch(b){utils.log("\u66f4\u6362\u5ba2\u670d\u9519\u8bef")}};this.reAllocationClerk=function(){try{(void 0).TranferClerkController_reAllocationClerk&&(void 0).TranferClerkController_reAllocationClerk()}catch(a){utils.log("catche",a),k.getConfig("debug")&&d.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u7533\u8bf7\u66f4\u6362\u5ba2\u670d\u9519\u8bef\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+a)}};this.reChangeQueueClerk=function(){try{(void 0).TaskQueueController_reAllocationClerk&&
(void 0).TaskQueueController_reAllocationClerk()}catch(a){utils.log("catche",a),k.getConfig("debug")&&d.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u7533\u8bf7\u961f\u5217\u66f4\u6362\u5ba2\u670d\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+a)}};this.onReloadWindow=function(){try{(void 0).ChatWindow_closeOldWindow&&(void 0).ChatWindow_closeOldWindow()}catch(a){utils.log("catche",a),k.getConfig("debug")&&d.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u70b9\u51fb\u66f4\u65b0\u7a97\u53e3\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
a)}};this.changeToLeavingMessageWindow=function(){utils.log("changeToLeavingMessageWindow OK");0==wincfg.lvmsg.canreceivesms&&(g.openChat(),g.setLeaveMessageTemplate(wincfg.lvmsg.leavemsg),g.setStatus(g.languageInterpret("\u60a8\u6b63\u5728\u7559\u8a00\u4e2d")))};this.manualCloseChat=function(){chat_comet.stop();g.closeChat();g.addRawChatMessage(g.languageInterpret("\u611f\u8c22\u60a8\u7684\u54a8\u8be2\uff0c\u518d\u89c1!"),2)};this.onCatchScreen=function(){QYJSUtil.iniCatchScreenPlus(k,x)};this.downloadFile=
function(a){QYJSUtil.downLoadFile(a)};this.tellSWFCompleted=function(){k.setConfig("SWFReady",!0);g.setChatReady();if("big"==k.getConfig("wMode")){var a=k.getConfig("adverPicurl");"https:"==document.location.protocol&&(a=a.replace("http:","https:"));a=a.replace("adver","chatwingg");d.setAdertisment(a,k.getConfig("adverLink"))}};this.uploadCatchScreen=function(a){a&&d.saveQYChatMessage(QYJSUtil.getCatchScreenPic(a,k))};this.redirectToLeavingMessage=function(){if(1==parseInt(k.getConfig("leavingMessageSetting"))||
k.getConfig("chatInQueue"))if("big"==k.getConfig("wMode"))k.getConfig("isLeavingMessage",1),q.trigger("click",!0);else{var a=window.location.href,b=a.indexOf("?"),c=a.substring(0,b),a=a.substring(b+1);"mini"==k.setConfig("wMode")&&(a+="&winmode=1");k.setConfig("isClosingOldWindow",!0);window.location.href=c+"leavingMessage.php?"+a}else this.changeToLeavingMessageWindow()};this.openLeavingMessageWindow=function(){if("big"==k.getConfig("wMode"))q.trigger("click",!0),k.setConfig("isLeavingMessage",1),
r.hide();else{k.getConfig("clientUrl");var a=k.getConfig("websiteId"),b=k.getConfig("originPageTitle"),c=k.getConfig("visitorId"),a="leavingMessage.php?websiteid="+a+"&visitorid="+c+"&originPageTitle="+b+"&winmode=1";window.open(a,"_self","toolbar=no,scrollbars=yes,menubar=no,status=no,resizable=yes,location=no,top=100,left=200")}};this.openRobotWin=function(){B.trigger("click",!0);r.hide()};this.windowRefresh=function(){k.setConfig("showMessageBox",!1);window.location.reload()};this.saveHitstory=
function(){m.closePopWidget();var a=d.saveChatHistory();return QYJSUtil.buidWebPage(x.languageInterpret("\u804a\u5929\u8bb0\u5f55"),a)};this.closeChat=function(){this.closeEditor();chat_comet&&(chat_comet.opt.chatEditState=2);"big"==k.getConfig("wMode")&&d.checkAssess(!0)};this.openChat=function(){this.openEditor();chat_comet&&(chat_comet.opt.chatEditState=1)};this.openEditor=function(){m.closeAllWidget();d.openEditor()};this.closeEditor=function(){m.closeAllWidget();d.closeEditor()};this.clearEditorInput=
function(){d.clearInput()};this.closeMessageBox=function(){k.setConfig("showMessageBox",!1);k.getConfig("debug")&&"big"!=k.getConfig("wMode")||m.getWidget("chatMask").hide()};this.showMessageBox=function(a,b){k.setConfig("showMessageBox",!0);k.getConfig("debug")&&"big"!=k.getConfig("wMode")||m.getWidget("chatMask").show(a,b)};this.changeRoboTalking=function(a){d.changeRoboTalking(a)};this.setLeaveMessageTemplate=function(a){k.getConfig("closeEditor")||d.setLeaveMessageTemplate(a)};this.languageInterpret=
function(a,b){return 1==b?(a=unescape(a),escape(x.languageInterpret(a))):x.languageInterpret(a)};this.addFile=function(a,b,c,f){d.addRawChatMessage(c,1);a=QYJSUtil.buildDownLoadFileToHTML(a,x.languageInterpret("\u7ed9\u4f60\u53d1\u9001\u4e86\u6587\u4ef6")+":"+a,b,c,f,k);d.addNoReformRawChatMessage(a)};this.addQYChatMessage=function(a,b){try{k.setConfig("hasConsulted",!0),d.addQYChatMessage(a,b)}catch(c){utils.log("catche",c),k.getConfig("debug")&&d.addRawChatMessage("\u51fa\u9519\u4e86\uff01\u9519\u8bef\u4f4d\u7f6e\uff1a\u6dfb\u52a0\u804a\u5929\u4fe1\u606f\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+
c)}k.getConfig("debug")&&(a=a.replace(/>/gi,"&gt;"),a=a.replace(/</gi,"&lt;"),d.addNoReformRawChatMessage('<font color="red">addQYChatMessage='+a+"</font><br/>"))};this.addRawChatMessage=function(a,b){4==parseInt(b)?(k.setConfig("hasImgInMessage",!0),d.addNoReformRawChatMessage(a,b)):d.addRawChatMessage(a,b)};this.addNoReformRawChatMessage=function(a,b){d.addNoReformRawChatMessage(a,b)};this.setMessageTitle=function(a){d.setMessageTitle(a)};this.addRobotWelcomeWords=function(a,b){var c=QYJSUtil.buildRobotWelcomeWords(a,
b);try{d.addNoReformRawChatMessage(c,11),f.chatMessageAreaLayerOut()}catch(g){utils.log("catche",g)}};this.addClerk=function(a,b,c){d.addClerk({clerkId:a,nickname:b,status:c})};this.setVisitorId=function(a){var b=this,c=k.getConfig("visitorId"),d=k.getConfig("visitorRegState");k.setConfig("visitorId",parseInt(a));QYJSUtil.cookie("visitorid",a);c||0!=d?b.showVisitorReg():$.get("./visitorRegister.php",{visitorid:a,websiteid:k.getConfig("websiteId")},function(a){a=eval("("+a+")");k.setConfig("visitorRegState",
a.state);b.showVisitorReg()})};this.showVisitorReg=function(){this.getVisitorRegState()&&(r.trigger("click"),window.leavingMessageBox.showVisitorRegister())};this.getVisitorRegState=function(){return/robot=1/.test(window.location.href)?(k.setConfig("visitorRegState",1),!1):1==k.getConfig("visitorInfoRegIsOpen")&&0==k.getConfig("openVisitorRegistered")&&0==k.getConfig("visitorRegState")&&1!=k.getConfig("isLeavingMessage")&&1!=k.getConfig("justShowRobot")&&k.getConfig("visitorId")?!0:!1};this.closeVisitorReg=
function(){k.setConfig("isChatWindow",!0);k.setConfig("openVisitorRegistered",!0);r.trigger("click")};this.setClerkId=function(a){k.setConfig("clerkId",parseInt(a));"big"==k.getConfig("wMode")&&d.setClerkLogo(a)};this.showOtherConsulting=function(){g.redirectToLeavingMessage()};this.chatQueueConsulting=function(a){k.setConfig("chatInQueue",!0);a=this.languageInterpret('\u60a8\u6b63\u6392\u5728\u961f\u5217\u7b2c<span style="color:red;font-weight: bold">'+a+"</span>\u4f4d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...");
var b=this.languageInterpret("\u5bf9\u4e0d\u8d77,\u7ebf\u8def\u7e41\u5fd9\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...");if("zh-cn"==k.getConfig("language"))var c='\u5982\u679c\u60a8\u4e0d\u60f3\u961f\u5217\u7ee7\u7eed\u7b49\u5f85\uff0c\u53ef\u4ee5\u9009\u62e9<a style="cursor:pointer;color:#0066cc" onclick="javascript:chat.redirectToLeavingMessage(); return false;">\u7ed9\u6211\u4eec\u7559\u8a00</a>\u6216<a  style="cursor:pointer;color:#0066cc"  onclick="javascript:chat.reChangeQueueClerk ()">\u54a8\u8be2\u5176\u4ed6\u5ba2\u670d</a>';
else if("zh-tw"==k.getConfig("language"))c='\u5982\u679c\u60a8\u4e0d\u60f3\u968a\u5217\u7e7c\u7e8c\u7b49\u5f85\uff0c\u53ef\u4ee5\u9078\u64c7<a style="cursor:pointer;color:#0066cc" onclick="javascript:chat.redirectToLeavingMessage();return false;">\u7ed9\u6211\u4eec\u7559\u8a00</a>\u6216<a style="cursor:pointer;color:#0066cc"  onclick="javascript:chat.reChangeQueueClerk ()">\u8aee\u8a62\u5176\u4ed6\u5ba2\u670d</a>';else if("en"==k.getConfig("language")||"russian"==k.getConfig("language"))c='If you do prefer not to wait, please <a style="cursor:pointer;color:#0066cc" onclick="javascript:chat.redirectToLeavingMessage();return false;">leave a message</a> or <a style="cursor:pointer;color:#0066cc"  onclick="javascript:chat.reChangeQueueClerk ()">chat with another services</a>';
if("big"==k.getConfig("wMode")){var f=1==parseInt(k.getConfig("robotState"))?'<span  onclick="javascript:chat.openRobot();return false;" style="cursor:pointer;font-weight: bold; text-align: center;color:#fff;height:28px; background: #1480b8; padding-top:5px; width: 120px;display: block;margin-left: 250px;margin-top:20px ">'+this.languageInterpret("\u54a8\u8be2\u673a\u5668\u4eba\u5ba2\u670d")+"</span>":"";this.showMessageBox('<span style="color:#0066cc">'+b+"</span><br/>"+a+"<br/>"+c+"<br/>"+f,"queue")}else d.addNoReformFixedMessage(a+
"<br/>"+c,"queue")};this.chatQueueConsulting2=function(a){k.setConfig("chatInQueue",!0);a=this.languageInterpret('\u60a8\u6b63\u6392\u5728\u961f\u5217\u7b2c<span style="color:red;font-weight: bold">'+a+"</span>\u4f4d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...");var b=this.languageInterpret("\u5bf9\u4e0d\u8d77,\u7ebf\u8def\u7e41\u5fd9\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...");if("zh-cn"==k.getConfig("language"))var c='\u5982\u679c\u60a8\u4e0d\u60f3\u961f\u5217\u7ee7\u7eed\u7b49\u5f85\uff0c\u53ef\u4ee5\u9009\u62e9<a style="cursor:pointer;color:#0066cc" onclick="javascript:chat.redirectToLeavingMessage(); return false;">\u7ed9\u6211\u4eec\u7559\u8a00</a>';
else if("zh-tw"==k.getConfig("language"))c='  \u5982\u679c\u60a8\u4e0d\u60f3\u968a\u5217\u7e7c\u7e8c\u7b49\u5f85\uff0c\u53ef\u4ee5\u9078\u64c7<a style="cursor:pointer;color:#0066cc"  onclick="javascript:chat.redirectToLeavingMessage();return false;">\u7ed9\u6211\u4eec\u7559\u8a00</a>';else if("en"==k.getConfig("language")||"russian"==k.getConfig("language"))c='If you do prefer not to wait, please <a style="cursor:pointer;color:#0066cc"   onclick="javascript:chat.redirectToLeavingMessage();return false;">leave a message</a> ';
if("big"==k.getConfig("wMode")){var f=1==parseInt(k.getConfig("robotState"))?'<span  onclick="javascript:chat.openRobot();return false;" style="cursor:pointer;font-weight: bold; text-align: center;color:#fff;height:28px; background: #1480b8; padding-top:5px; width: 120px;display: block;margin-left: 250px;margin-top:20px ">'+this.languageInterpret("\u54a8\u8be2\u673a\u5668\u4eba\u5ba2\u670d")+"</span>":"";this.showMessageBox('<span style="color:#0066cc">'+b+"</span><br/>"+a+"<br/>"+c+"<br/>"+f,"queue")}else d.addNoReformFixedMessage(a+
"<br/>"+c,"queue")};this.openRobot=function(){var a="index.php?websiteid="+k.getConfig("websiteId")+"&clienturl="+k.getConfig("clientUrl")+"&robot=1&originPageTitle="+encodeURIComponent(window.document.title);window.open(a+"&winmode=0","_blank","toolbar=no,scrollbars=yes,menubar=no,status=no,resizable=yes,location=no,width=660,height=570,top=100,left=200")};this.setStatus=function(a){};this.clerkInfoChange=function(){d.clerkInfoChange()};this.setLogo=function(a,b){d.setLogo(a,b)};this.setClerkJobNumber=
function(a){d.setClerkJobId(a)};this.setClerkNickName=function(a){k.setConfig("clerkName",a);d.setClerkNickName(a)};this.setClerkUserName=function(a){d.setClerkName(a)};this.setClerkEmail=function(a){d.setClerkEmail(a)};this.setClerkTelephoneNumber=function(a){d.setClerkTelphone(a)};this.setClerkQQ=function(a){d.setClerkQQ(a)};this.setClerkALIWangWang=function(a){d.setClerkALIWangWang(a)};this.setClerkMSN=function(a){d.setClerkMSN(a)};this.setClerkSkype=function(a){d.setClerkSkype(a)};this.setClerkWangWang=
function(a){d.setClerkWangWang(a)};this.setDes=function(a){d.setDes(a)};this.addHotQuestion=function(a){d.addHotQuestion(a)};this.buildHotQuestionSpeedLink=function(a){for(var b="",c=0;c<a.length;c++)b+="<a onclick=\"javascript:chat.pickHotQuestion(['"+a[c][1]+"' , "+a[c][0]+'])">'+a[c][1]+"</a>";""!=b&&(b='<div id="robot_simlqs_tips">'+{"zh-cn":"\u60a8\u662f\u4e0d\u662f\u8981\u95ee","zh-tw":"\u60a8\u662f\u4e0d\u662f\u8981\u554f",en:"Similar questions",russian:"\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b",
japanese:"\u304a\u805e\u304d\u3057\u307e\u3059\u304b"}[CHAT_CONF.getConfig("language")]+':</div><div id="robot_simlqs_list">'+b+"</div>");return b};this.hideRobot=function(){d.hideRobotBar()};this.showRobot=function(){d.showRobotBar()};this.newMessageNotice=function(){d.setEditorFocus();"big"==k.getConfig("wMode")&&h.setNotice()};this.setChatWindowClerkStatus=function(a){var b=k.getConfig("clerkStatus");b.push(parseInt(a));k.setConfig("clerkStatus",b);a=!1;for(var c=0;c<b.length;++c)0!=b[c]&&(a=!0);
k.setConfig("isChatWindow",a)};this.getConfig=function(a){return k.getConfig(a)};this.setChatHistoryBtn=function(a){$.browser.msie&&11>parseInt($.browser.version)?$("#chatHistoryButton").attr("href",a).attr("target","_blank"):$("#chatHistoryButton").attr("data-href",a).bind("click",function(){var a=$(this).attr("data-href");utils.openLinkInpage(a)})};this.updChatHistoryBtn=function(a){$.browser.msie&&11>parseInt($.browser.version)?$("#chatHistoryButton").attr("href",a).attr("target","_blank"):$("#chatHistoryButton").attr("data-href",
a)};this.__startDebug__=function(){k.setConfig("debug",!0);alert("__startDebug__")};this.__endDebug__=function(){k.setConfig("debug",!1);alert("__endDebug__")};(function(a){a=QYJSUtil.QYmessagcoder.decodeEmotionXML(a);k.setConfig("emotionMap",a[0]);k.setConfig("emotionMapTip",a[1]);k.setConfig("emotionReady",!0);g.setChatReady()})(b);"zh-cn"==k.getConfig("language")?k.setConfig("languageReady",!0):a(c);g.run()};var leavingMessageBox={tim:null,submitType:"leavingMessage",run:function(){this.setMessageNotice();this.bindEvent();this.setResize();this.uploadMessageing=!1},alert:function(a){this.alertShhow=!0;leavingMessageBox.setResize();$(".msgBox").show().find("span").html(a);$(".screenMask").show();try{window.clearInterval(this.tim)}catch(b){utils.log("catche",b)}},showLeavingMessage:function(){this.submitType="leavingMessage";var a=$("#leaveMessageTable");0<a.length?($("#visitorRegTable").hide(),a.show(),
a.find(".subMessage_tr").find(".subMessage").html(leavingMessageBox.languageInterpret("\u53d1\u9001\u7559\u8a00"))):(a=$("#leavingMessageArea"),a.find(".subMessage_tr").find(".subMessage").html(leavingMessageBox.languageInterpret("\u53d1\u9001\u7559\u8a00")),a.find("tr").hide().end().find("tr.lm").show().end().find("td.start").hide().end().find('td.start[lmRequire="true"]').show());leavingMessageBox.reset()},showVisitorRegister:function(){this.submitType="visitorRegister";var a=$("#visitorRegTable");
0<a.length?($("#leaveMessageTable").hide(),a.show()):a=$("#leavingMessageArea");a.find(".subMessage_tr").find(".subMessage").html(leavingMessageBox.languageInterpret("\u7acb\u5373\u54a8\u8be2"));a.find("tr").hide().end().find("tr.visitorRegItem").show().end().find("tr.visitorRegItem").find("td.start").hide().end().find('td.start[regRequire="true"]').show();leavingMessageBox.reset()},reset:function(){this.alertShhow&&($(".msgBox").show(),$(".screenMask").show())},hideAlert:function(a){a||(this.alertShhow=
!1);$(".msgBox").hide();$(".screenMask").hide()},languageInterpret:function(a){return window.chat.languageInterpret(a)},setMessageNotice:function(){$("#messageContent").html(leavingMessageBox.languageInterpret("\u8bf7\u5728\u6b64\u7559\u8a00\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u8054\u7cfb\u60a8\uff01\uff08\u6700\u591a\u53ef\u8f93\u5165500\u4e2a\u5b57\uff09\uff01"))},clearMessageNotice:function(){$("#messageContent").width();$("#messageContent").html("")},bindEvent:function(){var a=this;$("#messageContent").one("click",
function(){a.clearMessageNotice()});$(".subMessage").bind("click",function(){leavingMessageBox.formCheck()});$(".subLeaveMessage").bind("click",function(){leavingMessageBox.subLeaveMessage()});$(".close").bind("click",function(){leavingMessageBox.hideAlert()});$(window).resize(function(){setTimeout(function(){leavingMessageBox.setResize()},100);leavingMessageBox.setResize()})},setResize:function(){var a=$(".msgBox"),b=$(".leavingMessageArea"),c=b.width(),b=b.height(),d=((c-a.width())/2).toFixed(0);
a.css({left:d+"px",top:"150px"});$(".screenMask").width(c).height(b)},formCheck:function(){var a={},b=this.rule.userName();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.userName=b.val);b=this.rule.telephone();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.telephone=b.val);b=this.rule.cellphone();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.cellphone=b.val);b=this.rule.fax();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.fax=
b.val);b=this.rule.email();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.email=b.val);b=this.rule.qq();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.qq=b.val);b=this.rule.wangwang();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.wangwang=b.val);b=this.rule.address();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.address=b.val);b=this.rule.company();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.company=
b.val);b=this.rule.remark();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.remark=b.val);b=this.rule.message();if(!b.status)return leavingMessageBox.alert(b.error),!1;b.val&&(a.messageContent=b.val);if(0==this.uploadMessageing){var c=$.trim($("#websiteid").val()),d=$.trim($("#clienturl").val()),b=encodeURIComponent($.trim($("#originPageUrl").val())),f=encodeURIComponent($.trim($("#originPageTitle").val())),h=$.trim($("#visitorid").val()),h=h&&0!=h?h:window.chat.getConfig("visitorId"),
g={};"visitorRegister"==leavingMessageBox.submitType?(c="visitorRegister.php",a.visitorid=h,g.loading=leavingMessageBox.languageInterpret("\u6b63\u5728\u5904\u7406\u8bf7\u7a0d\u540e\uff01"),g.success=leavingMessageBox.languageInterpret("\u60a8\u7684\u8d44\u6599\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u5904\u7406\uff01"),g.failed=leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u60a8\u7684\u8d44\u6599\u63d0\u4ea4\u5931\u8d25\u4e86\uff01")):(c="leavingMessage.php?&websiteid="+
c+"&clienturl="+encodeURIComponent(d),a.act="act",a.visitorid=h,a.pageFrom=b,a.originPageTitle=f,g.loading=leavingMessageBox.languageInterpret("\u6b63\u5728\u5904\u7406\u8bf7\u7a0d\u540e\uff01"),g.success=leavingMessageBox.languageInterpret("\u60a8\u7684\u7559\u8a00\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u5904\u7406\uff01"),g.failed=leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u60a8\u7684\u7559\u8a00\u63d0\u4ea4\u5931\u8d25\u4e86\uff01"));this.submit(c,
a,g)}},subLeaveMessage:function(){var a={};a.loading=leavingMessageBox.languageInterpret("\u6b63\u5728\u5904\u7406\u8bf7\u7a0d\u540e\uff01");a.success=leavingMessageBox.languageInterpret("\u60a8\u7684\u7559\u8a00\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u5904\u7406\uff01");a.failed=leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u60a8\u7684\u7559\u8a00\u63d0\u4ea4\u5931\u8d25\u4e86\uff01");var b=$.trim($("#websiteid").val()),c=encodeURIComponent($.trim($("#originPageUrl").val())),
d=encodeURIComponent($.trim($("#originPageTitle").val())),f=$.trim($("#visitorid").val()),f=f&&0!=f?f:window.chat.getConfig("visitorId"),h={lvmsgact:"lvmsgact"};h.visitorid=f;h.pageFrom=c;h.originPageTitle=d;c=$.trim($("#messageContent").val());if(c!=leavingMessageBox.languageInterpret("\u8bf7\u5728\u6b64\u7559\u8a00\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u8054\u7cfb\u60a8\uff01\uff08\u6700\u591a\u53ef\u8f93\u5165500\u4e2a\u5b57\uff09\uff01")&&c){if(500<c.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u7559\u8a00\u6700\u591a\u53ef\u8f93\u5165500\u4e2a\u5b57\u7b26\uff01")),
!1;h.messageContent=c}else return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u8bf7\u8f93\u5165\u7559\u8a00\uff01")),!1;c=$("#lvmsg_name");if(0<c.length){d=$.trim(c.val());if("true"==c.parent().next().attr("lmrequire")&&0==d.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u59d3\u540d\uff01")),!1;if(20<d.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u59d3\u540d\u6700\u591a\u53ef\u8f93\u516520\u4e2a\u5b57\u7b26\uff01")),
!1;h.userName=d}c=$("#lvmsg_tel");if(0<c.length){d=$.trim(c.val());if("true"==c.parent().next().attr("lmrequire")&&0==d.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u60a8\u6b63\u786e\u8f93\u5165\u7535\u8bdd\u53f7\u7801\uff01")),!1;if(d&&!/^[0-9]+[0-9\-]*[0-9]+$/.test(d))return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u7535\u8bdd\u683c\u5f0f\u9519\u8bef\uff01")),!1;h.telephone=d}c=$("#lvmsg_email");if(0<c.length){d=$.trim(c.val());
if("true"==c.parent().next().attr("lmrequire")&&0==d.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u90ae\u4ef6\uff01")),!1;if(d&&!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(d))return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u90ae\u4ef6\u683c\u5f0f\u9519\u8bef\uff01")),!1;h.email=d}c=$("#lvmsg_qq");if(0<c.length){d=$.trim(c.val());if("true"==c.parent().next().attr("lmrequire")&&
0==d.length)return leavingMessageBox.alert(leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165qq\uff01")),!1;if(d&&!/^[1-9]*[1-9][0-9]*$/.test(d))return leavingMessageBox.alert(leavingMessageBox.languageInterpret("qq\u683c\u5f0f\u9519\u8bef\uff01")),!1;h.qq=d}var g=1,m="";$(".lvmsg_cus_item").each(function(a){if(1==g){m=$.trim($(this).find(".item").text());h["cusItemDesc["+a+"]"]=m;var b=$.trim($(this).find(".inputValue").val());"true"==$(this).find(".start").attr("lmrequire")&&
0==b.length?g=0:h["cusItemVal["+a+"]"]=$.trim($(this).find(".inputValue").val())}});if(0==g)return leavingMessageBox.alert("["+m+"] "+leavingMessageBox.languageInterpret("\u662f\u5fc5\u586b\u9879")),!1;this.submit("leavingMessage.php?&websiteid="+b,h,a)},submit:function(a,b,c){leavingMessageBox.alert((window.ActiveXObject&&!window.XMLHttpRequest?"":'<img src="assets/images/loading.gif">')+c.loading);var d=this;$(".msgBox");$.ajax({type:"POST",url:a,data:b,success:function(a){a=eval("("+a+")");1==
a.status?(leavingMessageBox.setResize(),leavingMessageBox.alert(c.success),"visitorRegister"==leavingMessageBox.submitType&&(window.chat.closeVisitorReg(),leavingMessageBox.hideAlert())):(leavingMessageBox.setResize(),leavingMessageBox.alert(c.failed))},beforeSend:function(a){d.uploadMessageing=!0},complete:function(a){d.uploadMessageing=!1}})},rule:{userName:function(){var a=$("#userName"),b=$.trim(a.val()),a=a.parents(".userName_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?
"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u59d3\u540d\uff01")}:20<b.length?{status:0,error:leavingMessageBox.languageInterpret("\u59d3\u540d\u6700\u591a\u53ef\u8f93\u516520\u4e2a\u5b57\u7b26\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u59d3\u540d\uff01")}:20<b.length?{status:0,
error:leavingMessageBox.languageInterpret("\u59d3\u540d\u6700\u591a\u53ef\u8f93\u516520\u4e2a\u5b57\u7b26\uff01")}:{status:1,error:"",val:b}},telephone:function(){var a=$("#telephone"),b=$.trim(a.val()),a=a.parents(".telephone_tr");if("visitorRegister"==leavingMessageBox.submitType){if(a.hasClass("visitorRegItem")){if("true"==a.find("td.start").attr("regRequire")){if(0==b.length||!/^[0-9]+[0-9\-]*[0-9]+$/.test(b))return{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u60a8\u6b63\u786e\u8f93\u5165\u7535\u8bdd\u53f7\u7801\uff01")}}else if(b&&
!/^[0-9]+[0-9\-]*[0-9]+$/.test(b))return{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u60a8\u6b63\u786e\u8f93\u5165\u7535\u8bdd\u53f7\u7801\uff01")};return{status:1,error:"",val:b}}return{status:1,error:"",val:""}}return 0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u60a8\u6b63\u786e\u8f93\u5165\u7535\u8bdd\u53f7\u7801\uff01")}:/^[0-9]+[0-9\-]*[0-9]+$/.test(b)?{status:1,error:"",val:b}:{status:0,error:leavingMessageBox.languageInterpret("\u7535\u8bdd\u683c\u5f0f\u9519\u8bef\uff01")}},
cellphone:function(){var a=$("#cellphone"),b=$.trim(a.val()),a=a.parents(".cellphone_tr");return"visitorRegister"==leavingMessageBox.submitType&&a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u60a8\u6b63\u786e\u8f93\u5165\u624b\u673a\u53f7\u7801\uff01")}:!/^\d{11}$/.test(b)&&b?{status:0,error:leavingMessageBox.languageInterpret("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u9519\u8bef\uff01")}:
{status:1,error:"",val:b}:{status:1,error:"",val:""}},fax:function(){var a=$("#fax"),b=$.trim(a.val()),a=a.parents(".fax_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u4f20\u771f\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:{status:1,error:"",val:""}},email:function(){var a=$("#email"),b=$.trim(a.val()),
a=a.parents(".email_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u90ae\u4ef6\uff01")}:!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(b)&&b?{status:0,error:leavingMessageBox.languageInterpret("\u90ae\u4ef6\u683c\u5f0f\u9519\u8bef\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",
val:""}:0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u90ae\u4ef6\uff01")}:!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(b)&&b?{status:0,error:leavingMessageBox.languageInterpret("\u90ae\u4ef6\u683c\u5f0f\u9519\u8bef\uff01")}:{status:1,error:"",val:b}},qq:function(){var a=$("#qq"),b=$.trim(a.val()),a=a.parents(".qq_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==
a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165qq\uff01")}:!/^\d{4,}$/.test(b)&&b?{status:0,error:leavingMessageBox.languageInterpret("qq\u683c\u5f0f\u9519\u8bef\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:/none/i.test($(".qq_tr").css("display"))?{status:1,error:"",val:""}:/^\d{4,}$/.test(b)||/^$/.test(b)?{status:1,error:"",val:b}:{status:0,error:leavingMessageBox.languageInterpret("qq\u683c\u5f0f\u9519\u8bef\uff01")}},
wangwang:function(){var a=$("#wangwang"),b=$.trim(a.val()),a=a.parents(".wangwang_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u65fa\u65fa\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:{status:1,error:"",val:""}},address:function(){var a=$("#address"),b=$.trim(a.val()),a=a.parents(".address_tr");
return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u5730\u5740\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:{status:1,error:"",val:""}},company:function(){var a=$("#company"),b=$.trim(a.val()),a=a.parents(".company_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?
"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u516c\u53f8\uff01")}:{status:1,error:"",val:b}:{status:1,error:"",val:""}:{status:1,error:"",val:""}},remark:function(){var a=$("#remark"),b=$.trim(a.val()),a=a.parents(".remark_tr");return"visitorRegister"==leavingMessageBox.submitType?a.hasClass("visitorRegItem")?"true"==a.find("td.start").attr("regRequire")&&0==b.length?{status:0,error:leavingMessageBox.languageInterpret("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u5907\u6ce8\uff01")}:
{status:1,error:"",val:b}:{status:1,error:"",val:""}:{status:1,error:"",val:""}},message:function(){var a=$("#messageContent"),a=$.trim(a.val());return"visitorRegister"==leavingMessageBox.submitType?{status:1,error:"",val:""}:a!=leavingMessageBox.languageInterpret("\u8bf7\u5728\u6b64\u7559\u8a00\uff0c\u6211\u4eec\u4f1a\u53ca\u65f6\u8054\u7cfb\u60a8\uff01\uff08\u6700\u591a\u53ef\u8f93\u5165500\u4e2a\u5b57\uff09\uff01")&&a?500<a.length?{status:0,error:leavingMessageBox.languageInterpret("\u7559\u8a00\u6700\u591a\u53ef\u8f93\u5165500\u4e2a\u5b57\u7b26\uff01")}:
{status:1,error:"",val:a}:{status:0,error:leavingMessageBox.languageInterpret("\u8bf7\u8f93\u5165\u7559\u8a00\uff01")}}}};window.leavingMessageBox=leavingMessageBox;
